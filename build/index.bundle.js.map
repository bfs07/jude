{"version":3,"sources":["webpack:///webpack/bootstrap e1d2522c944359814430","webpack:///external \"path\"","webpack:///external \"mongoose\"","webpack:///external \"babel-runtime/core-js/get-iterator\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"express\"","webpack:///./models/index.js","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///./judge/utils.js","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"babel-runtime/core-js/object/get-prototype-of\"","webpack:///external \"babel-runtime/helpers/possibleConstructorReturn\"","webpack:///external \"babel-runtime/helpers/inherits\"","webpack:///external \"fs-extra\"","webpack:///./judge/logger.js","webpack:///external \"babel-runtime/helpers/slicedToArray\"","webpack:///./auth2.js","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"fs\"","webpack:///./routes/api/submission.js","webpack:///./judge/storage.js","webpack:///(webpack)/buildin/module.js","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///./routes/api/index.js","webpack:///./db.js","webpack:///external \"mongo-queue2\"","webpack:///./models/Problem.js","webpack:///external \"glob\"","webpack:///external \"process\"","webpack:///./judge/loader.js","webpack:///external \"babel-runtime/core-js/map\"","webpack:///./judge/scoring.js","webpack:///./judge/environment.js","webpack:///external \"passport\"","webpack:///./index.js","webpack:///./app.js","webpack:///external \"express-session\"","webpack:///external \"connect-mongo\"","webpack:///external \"serve-favicon\"","webpack:///external \"morgan\"","webpack:///external \"cookie-parser\"","webpack:///external \"body-parser\"","webpack:///external \"multer\"","webpack:///external \"connect-flash\"","webpack:///external \"express-restify-mongoose\"","webpack:///./routes/api/contest.js","webpack:///external \"jude-seaweedfs\"","webpack:///./models/Contest.js","webpack:///external \"babel-runtime/core-js/set\"","webpack:///external \"mongoose-deep-populate\"","webpack:///./models/User.js","webpack:///external \"sha256\"","webpack:///./models/Submission.js","webpack:///./routes/api/user.js","webpack:///./routes/index.js","webpack:///external \"yauzl\"","webpack:///external \"concat-stream\"","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"util\"","webpack:///external \"node-wildcard\"","webpack:///external \"winston\"","webpack:///external \"es6-promisify\"","webpack:///./judge/task.js","webpack:///external \"deepcopy\"","webpack:///external \"yamljs\"","webpack:///./routes/contest.js","webpack:///external \"babel-runtime/core-js/object/entries\"","webpack:///./judge/grader.js","webpack:///external \"promise-reflect\"","webpack:///./judge/verdict.js","webpack:///./judge/sandbox.js","webpack:///external \"bluebird\"","webpack:///external \"tmp\"","webpack:///external \"child-process-promise\"","webpack:///./judge/profiler.js","webpack:///./judge/precheck.js","webpack:///external \"crypto\"","webpack:///./routes/admin.js"],"names":["path","require","fs","mongoose","module","exports","Contest","User","Submission","Problem","p","stat","exists","res","isFile","fileExists","statAsync","isDirectory","dirExists","pattern","opts","resolve","reject","glob","err","files","globAsync","args","mkdtemp","result","util","inspect","logInspect","console","log","fillUpTo","arr","n","Array","length","undefined","pop","el","push","destroy","obj","prop","property","normalizePath","normalizedPath","normalize","slice","winston","process","logger","Logger","level","env","LOG_LEVEL","transports","Console","VERBOSE","File","name","filename","__dirname","models","crypto","Schema","getTokenModel","db","TokenSchema","_id","type","String","user","Types","ObjectId","ref","required","expiresAt","Date","roles","Token","model","getAuthorizationToken","req","authorizationToken","get","split","cookies","token","initialize","next","Error","age","secret","id","usernameField","passwordField","usernameSchema","passwordSchema","getUsername","body","getPassword","requiredFieldsFn","filterFn","qs","queryFn","findOne","passwordFn","roleFn","auth2","authenticate","success","failure","isArray","code","message","status","json","error","matchedRoles","filter","role","indexOf","randomToken","randomBytes","toString","session","toObject","now","tokenObject","save","cookie","maxAge","httpOnly","isAuth","clearCookie","remove","registeredRoles","possiblyAuth","dispose","redirect","sendStatus","findOneAndRemove","express","router","Router","SubmissionNoCode","handleSubmissionError","post","params","findByIdAndUpdate","new","sub","populate","judeQueue","add","problem","subid","fid","lang","language","yauzl","concatStream","utils","wildcard","promisify","dealWithEntry","zipFile","entry","openReadStream","stream","readEntry","concat","buffer","fileName","on","err2","pipe","loadZipAsync","absPath","open","lazyEntries","toWait","test","once","close","all","resWait","Storage","target","constructor","charAt","content","getFileBuffer","sort","RealStorage","abs","writeFile","readFile","MemoryStorage","data","cwd","nodir","map","file","join","promises","resPath","createFileFromContent","norm","Buffer","def","hasOwnProperty","fn","parent","store","load","getFileString","contestRouter","userRouter","submissionRouter","use","MongoQueue2","weed","mongo_host","MONGO_HOST","weed_host","WEED_HOST","uri","global","createConnection","mods","weedClient","server","port","ProblemSchema","minlength","maxlength","match","statementFid","attr","Mixed","index","unique","pre","contestQuery","problems","$elemMatch","find","contests","contest","equals","LOADERS","_","loader","isLoadable","autoDetect","task","YAML","scoring","JUDE_FN","Loader","JudeLoader","datasetPath","testsPath","inputs","input","output","replace","isReadable","in","out","datasets","percentageSum","dataset","percentage","getTestcases","cur","testcases","checkerParams","Math","EPS","cfg","lims","limits","checks","checker","multiplier","timeMultiplier","ratio","timeApproximation","weight","parseDatasets","author","time","ceil","memory","source","toUpperCase","statement","blockedLanguages","Task","parse","getTask","debug","submissionComparator","a","b","timeInContest","getTime","Scoring","_task","_opts","verdicts","submissions","toSkip","skipped","key","verdict","evalContest","s","hasSkipped","tk","evals","ProductScoring","score","getWeight","affect","fails","penalty","parseInt","submission","evaluation","eval","reduce","old","IcpcScoring","_Scoring","fse","tmp","setGracefulCleanup","JudgeConfig","MAX_SANDBOXES","MAX_SIMUL_TESTS","COMPILATION_TL","CHECKING_TL","CHECKING_ML","CHECKING_WTL","WT_MULTIPLIER","OUTPUT_LIMIT","TEMP_DIR","ISOLATE_PATH","VISIBILITY_WINDOW","BOUND_ML","PackageCacher","size","dirSync","prefix","unsafeCleanup","has","best","value","idx","random","getFilePath","removeSync","delete","ex","popLessFrequent","nv","max","set","cb","writeStream","createWriteStream","ensureSpace","ping","d","copySync","JudgeEnvironment","seaweed","sandboxes","nextSandboxId","cache","queue","app","PORT","listen","MongoStore","favicon","cookieParser","bodyParser","multer","flash","restify","apiRoutes","routes","static","resave","saveUninitialized","mongooseConnection","urlencoded","extended","header","method","matchPasswords","isValid","restifyShared","runValidators","totalCountHeader","preMiddleware","query","outputFn","erm","statusCode","fixEntry","serve","findOneAndUpdate","render","handleContestError","ContestSelection","override","users","du","u","handle","oldUser","update","awaited","erred","x","send","deepPopulate","ContestProblem","letter","color","default","ContestSchema","start_time","end_time","validate","validator","v","letters","val","hidden","Boolean","plugin","y","xd","yd","methods","hasStarted","hasEnded","isRunning","getTimeInContest","sha256","UserSchema","description","password","email","unofficial","weights","isModified","candidate","_creator","DEFAULT_VERDICT","info","passed","SubmissionSchema","Number","findById","exec","UserSelection","handleUserError","api","admin","passport","handleInternalError","loadZip","loade","write","then","toJSON","hasStatement","getStatement","infoStatement","catch","deepcopy","getScoringClass","wd","e","grader","precheck","ContestProblemSelection","getUserContest","select","contestObj","languages","availableLanguages","teams","_user","subs","findIndex","prob","read","lean","iso","command","stdin","stdout","stderr","executeBufferized","evaluate","sol","SOURCE_PATH","solExec","SOURCE_EXEC_PATH","Isolate","init","Compilation","getLog","cleanup","compilationStepAsync","testcase","timelimit","getTimelimit","memorylimit","getMemorylimit","evaluationResult","checkingResult","execTime","exitWith","execLog","Evaluation","translateBoxExitCode","Verdict","dummy","getRunningTime","exitStatus","getExitStatus","exitCode","getExitCode","IsolateConst","EXIT_TIMEOUT","EXIT_TIMEOUT_WALL","EXIT_OUTPUT_LIMIT","text","createFileFromStorage","Checking","getCheckerLanguage","CHECKER_EXEC_PATH","testCaseAsync","totalTime","wallTime","i","cases","boxes","j","promiseReflect","caseResult","getWallTime","box","testDataset","getChecker","compilationResult","checkerCompilationResult","getDatasetsCount","getDatasets","datasetVerdict","testTask","pack","testPackage","sandbox","environment","Profiler","policyPath","javaExecutorPath","CPP","execPath","wtlimit","wallclockLimit","memorySize","removeFile","Py2","setEnv","HOME","dirs","Py3","Java","oldProc","maxProcesses","oldEnv","oldCgTiming","cgTiming","oldCgMemory","cgMemorySize","oldCg","cgroup","MALLOC_ARENA_MAX","globFromStorage","basename","C","answer","checkerInput","checkerOutput","checkerError","getFileToString","sourceFile","preserveEnv","oldTL","oldWTL","getFileToStorage","globToStorage","CHECKER_PATH","judeLoader","slow_code","tle_code","fake_mle_code","slow2_code","java_wacode","java_mlecode","java_rtecode","crazy_code","pycode","VerdictConst","VERDICT_INQ","VERDICT_SKIP","VERDICT_WA","VERDICT_RTE","VERDICT_MLE","VERDICT_TLE","VERDICT_WTE","VERDICT_OLE","VERDICT_CE","VERDICT_CTE","VERDICT_FAIL","VERDICT_CHTE","VERDICT_JE","VERDICT_UE","VERDICT_AC","Promise","jenv","spawnDetachedPromise","spawn","spawnDetachedAsync","options","capture","stdio","Sandbox","cacher","getRootPath","flags","resolvePath","_getMode","fd","chmod","buf","flag","fun","absolute","matches","mode","getFileStats","rmdir","unlink","EXIT_SANDBOX_ERROR","EXIT_OK","EXIT_SIGNAL","EXIT_FILE_ACCESS","EXIT_SYSCALL","EXIT_NONZERO_RETURN","initialized","innerDir","chdir","inheritEnv","fsize","stackSize","extraTimelimit","verbosity","bufferize","setDefaultConfigs","emptyDir","boxId","getNextBoxId","executable","execs","outerDir","mkdir","getChdirPath","dir","getBoxFilePath","verbose","line","parseFloat","exitcode","exitsig","checkWall","msg","list","getStatusList","NONZERO_RETURN","oldVal","execute","comm","promise","getRunArgs","ret","cap","IsolatePool","ptr","setEnvironment","setStorage","getSeconds","tuple","start","acc","hrtime","started","elapsed","noChecking","javaChecking","originalCode","rePackage","reClass","reMain","reString","reComment","reInline","reUnicode","aux","handleAdminPageError"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,iC;;;;;;ACAA,qC;;;;;;ACAA,+D;;;;;;ACAA,sD;;;;;;ACAA,mE;;;;;;ACAA,oC;;;;;;;;;ACAA;AACA,IAAIA,OAAO,mBAAAC,CAAQ,CAAR,CAAX;AAAA,IACEC,KAAK,mBAAAD,CAAQ,EAAR,CADP;AAAA,IAEEE,WAAW,mBAAAF,CAAQ,CAAR,CAFb;AAGA;;AAEA,mBAAAA,CAAQ,EAAR;;AAEA;;;;;;;;;AASAG,OAAOC,OAAP,GAAiB;AACfC,WAAS,mBAAAL,CAAQ,EAAR,GADM;AAEfM,QAAM,mBAAAN,CAAQ,EAAR,GAFS;AAGfO,cAAY,mBAAAP,CAAQ,EAAR,GAHG;AAIfQ,WAAS,mBAAAR,CAAQ,EAAR;AAJM,CAAjB,C;;;;;;ACjBA,iE;;;;;;ACAA,8D;;;;;;ACAA,8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wECSA,iBAAsBS,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEUR,GAAGS,IAAH,CAAQD,CAAR,CAFV;;AAAA;AAAA,6CAGW,IAHX;;AAAA;AAAA;AAAA;AAAA,6CAKW,KALX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeE,M;;;;;;yEASf,kBAA0BF,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEsBR,GAAGS,IAAH,CAAQD,CAAR,CAFtB;;AAAA;AAEUG,eAFV;AAAA,8CAGWA,IAAIC,MAAJ,EAHX;;AAAA;AAAA;AAAA;AAAA,8CAKW,KALX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,U;;;;;;yEASf,kBAAyBL,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEsBR,GAAGc,SAAH,CAAaN,CAAb,CAFtB;;AAAA;AAEUG,eAFV;AAAA,8CAGWA,IAAII,WAAJ,EAHX;;AAAA;AAAA;AAAA;AAAA,8CAKW,KALX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,S;;;;;AAmDf;;yEACA,kBAAyBC,OAAzB,EAAkCC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,8CACS,sBAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,mBAAKJ,OAAL,EAAcC,IAAd,EAAoB,UAACI,GAAD,EAAMC,KAAN,EAAgB;AAClC,oBAAID,GAAJ,EACE,OAAOF,OAAOE,GAAP,CAAP;AACF,uBAAOH,QAAQI,KAAR,CAAP;AACD,eAJD;AAKD,aANM,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,S;;;;;;yEAUf;AAAA,sCAA0BC,IAA1B;AAA0BA,UAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,8CACS,sBAAY,UAACN,OAAD,EAAUC,MAAV;AAAA,qBAAqBpB,GAAG0B,OAAH,WAAcD,IAAd,SAAoB,UAACH,GAAD,EAAMK,MAAN,EAAiB;AAC3E,oBAAIL,GAAJ,EACE,OAAOF,OAAOE,GAAP,CAAP;AACF,uBAAOH,QAAQQ,MAAR,CAAP;AACD,eAJuC,GAArB;AAAA,aAAZ,CADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeD,O;;;;;;;AAzFf;;;;AAIA,IAAM5B,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMC,KAAK,mBAAAD,CAAQ,EAAR,CAAX;AACA,IAAM6B,OAAO,mBAAA7B,CAAQ,EAAR,CAAb;AACA,IAAMsB,OAAO,mBAAAtB,CAAQ,EAAR,CAAb;;AA6BA,SAAS8B,OAAT,CAAiBrB,CAAjB,EAAoB;AAClB,SAAOoB,KAAKC,OAAL,CAAarB,CAAb,EAAgB,KAAhB,EAAuB,IAAvB,CAAP;AACD;;AAED,SAASsB,UAAT,CAAoBtB,CAApB,EAAuB;AACrB,SAAOuB,QAAQC,GAAR,CAAYH,QAAQrB,CAAR,CAAZ,CAAP;AACD;;AAED,SAASyB,QAAT,CAAkBC,GAAlB,EAA8B;AAAA,MAAPC,CAAO,uEAAH,CAAG;;AAC5B,MAAIA,MAAM,CAAV,EACE,OAAO,EAAP;AACF,MAAI,EAAED,eAAeE,KAAjB,KAA2BF,IAAIG,MAAJ,KAAe,CAA9C,EACEH,MAAM,CAACI,SAAD,CAAN;;AAEF,SAAOJ,IAAIG,MAAJ,GAAaF,CAApB;AACED,QAAIK,GAAJ;AADF,GAEA,OAAOL,IAAIG,MAAJ,GAAaF,CAApB,EAAuB;AACrB,QAAMK,KAAKN,IAAIK,GAAJ,EAAX;AACAL,QAAIO,IAAJ,CAASD,EAAT;AACAN,QAAIO,IAAJ,CAASD,EAAT;AACD;;AAED,SAAON,GAAP;AACD;;AAED,SAASQ,OAAT,CAAiBC,GAAjB,EAAsB;AAAA;AAAA;AAAA;;AAAA;AACpB,oDAAmB,oBAAYA,GAAZ,CAAnB,4GAAqC;AAAA,UAA1BC,IAA0B;;AACnC,UAAMC,WAAWF,IAAIC,IAAJ,CAAjB;AACA,UAAIC,YAAY,IAAZ,IAAoB,QAAOA,QAAP,uDAAOA,QAAP,OAAoB,QAA5C,EACEH,QAAQG,QAAR,EADF,KAGEF,IAAIC,IAAJ,IAAY,IAAZ;AACH;AAPmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQrB;;AAED,SAASE,aAAT,CAAuBtC,CAAvB,EAA0B;AACxB,MAAMuC,iBAAiBjD,KAAKkD,SAAL,CAAexC,CAAf,CAAvB;AACA,MAAIuC,eAAe,CAAC,CAAhB,MAAuB,GAA3B,EACE,OAAOA,eAAeE,KAAf,CAAqB,CAArB,EAAwB,CAAC,CAAzB,CAAP;AACF,SAAOF,cAAP;AACD;;AAqBD7C,OAAOC,OAAP,GAAiB;AACfO,gBADe;AAEfG,wBAFe;AAGfG,sBAHe;AAIfa,kBAJe;AAKfC,wBALe;AAMfG,oBANe;AAOfS,kBAPe;AAQflB,sBARe;AASfE;AATe,CAAjB,C;;;;;;ACjGA,0D;;;;;;ACAA,0E;;;;;;ACAA,4E;;;;;;ACAA,2D;;;;;;ACAA,qC;;;;;;;;;ACAA;;;AAGA,IAAMwB,UAAU,mBAAAnD,CAAQ,EAAR,CAAhB;AACA,IAAMoD,UAAU,mBAAApD,CAAQ,EAAR,CAAhB;;AAEA,IAAMqD,SAAS,IAAIF,QAAQG,MAAZ,CAAmB;AAC9BC,WAAOH,QAAQI,GAAR,CAAYC,SAAZ,IAAyB,MADF;AAE9BC,gBAAY,CACR,IAAIP,QAAQO,UAAR,CAAmBC,OAAvB,CAA+B;AAC3B;AACAJ,eAAOH,QAAQI,GAAR,CAAYI,OAAZ,IAAuB,IAAvB,GACD,OADC,GAED;AACN;AAL2B,KAA/B,CADQ,EAQR,IAAIT,QAAQO,UAAR,CAAmBG,IAAvB,CAA4B;AACxBC,cAAM,WADkB;AAExBP,eAAO,MAFiB;AAGxBQ,kBAAaC,SAAb;AAHwB,KAA5B,CARQ,EAaR,IAAIb,QAAQO,UAAR,CAAmBG,IAAvB,CAA4B;AACxBC,cAAM,YADkB;AAExBP,eAAO,MAFiB;AAGxBQ,kBAAaC,SAAb;AACA;AAJwB,KAA5B,CAbQ;AAFkB,CAAnB,CAAf;;AAwBA7D,OAAOC,OAAP,GAAiBiD,MAAjB,C;;;;;;;AC9BA,gE;;;;;;;;;;;;;;;ACAA,IAAMnD,WAAW,mBAAAF,CAAQ,CAAR,CAAjB;AACA,IAAMiE,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;AACA,IAAMkE,SAAS,mBAAAlE,CAAQ,EAAR,CAAf;;AAEA,IAAMmE,SAASjE,SAASiE,MAAxB;;AAEA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,EAAD,EAAQ;AAC1B,QAAIC,cAAc,IAAIH,MAAJ,CAAW;AACzBI,aAAK,EAAEC,MAAMC,MAAR,EADoB;AAEzBC,cAAM,EAAEF,MAAML,OAAOQ,KAAP,CAAaC,QAArB,EAA+BC,KAAK,MAApC,EAA4CC,UAAU,IAAtD,EAFmB;AAGzBC,mBAAW,EAAEP,MAAMQ,IAAR,EAAcF,UAAU,IAAxB,EAHc;AAIzBG,eAAO,CAAC,EAAET,MAAMC,MAAR,EAAD;AAJkB,KAAX,CAAlB;;AAOA,WAAOJ,GAAGJ,MAAH,CAAUiB,KAAV,GACDb,GAAGc,KAAH,CAAS,OAAT,CADC,GAEDd,GAAGc,KAAH,CAAS,OAAT,EAAkBb,WAAlB,CAFN;AAGH,CAXD;;AAaA,IAAMc,wBAAwB,SAAxBA,qBAAwB,CAACC,GAAD,EAAS;AACnC,QAAIC,qBAAqBD,IAAIE,GAAJ,CAAQ,eAAR,IACXF,IAAIE,GAAJ,CAAQ,eAAR,EAAyBC,KAAzB,CAA+B,GAA/B,EAAoChD,GAApC,EADW,GAEX,IAFd;;AAIA,QAAG,CAAC8C,kBAAD,IAAuBD,IAAII,OAAJ,CAAYC,KAAtC,EACIJ,qBAAqBD,IAAII,OAAJ,CAAYC,KAAjC;AACJ,WAAOJ,kBAAP;AACH,CARD;;AAUAnF,OAAOC,OAAP,GAAiB;AACbuF,gBAAY;AAAA,YAACxE,IAAD,uEAAQ,EAAR;AAAA,eAAe,UAACkE,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC3C,gBAAG,CAACzE,KAAKkD,EAAT,EACI,OAAOuB,KAAK,IAAIC,KAAJ,CAAU,uCAAV,CAAL,CAAP;AACJ,gBAAG,CAAC1E,KAAK2E,GAAT,EACI3E,KAAK2E,GAAL,GAAW,KAAK,EAAhB;AACJ,gBAAG,CAAC3E,KAAK4E,MAAT,EACI5E,KAAK4E,MAAL,GAAc,EAAd;AACJ,gBAAG,CAAC5E,KAAKgE,KAAT,EACI,OAAOS,KAAK,IAAIC,KAAJ,CAAU,iCAAV,CAAL,CAAP;AACJ,gBAAG,CAAC1E,KAAK6E,EAAT,EACI7E,KAAK6E,EAAL,GAAU,KAAV;AACJ,gBAAG,CAAC7E,KAAK8E,aAAT,EACI9E,KAAK8E,aAAL,GAAqB,UAArB;AACJ,gBAAG,CAAC9E,KAAK+E,aAAT,EACI/E,KAAK+E,aAAL,GAAqB,UAArB;AACJ,gBAAG,CAAC/E,KAAKgF,cAAT,EACIhF,KAAKgF,cAAL,GAAsB,UAAtB;AACJ,gBAAG,CAAChF,KAAKiF,cAAT,EACIjF,KAAKiF,cAAL,GAAsB,UAAtB;;AAEJf,gBAAIgB,WAAJ,GAAkB;AAAA,uBAAMhB,IAAIiB,IAAJ,CAASnF,KAAK8E,aAAd,CAAN;AAAA,aAAlB;AACAZ,gBAAIkB,WAAJ,GAAkB;AAAA,uBAAMlB,IAAIiB,IAAJ,CAASnF,KAAK+E,aAAd,CAAN;AAAA,aAAlB;;AAEA,gBAAG,CAAC/E,KAAKqF,gBAAT,EACIrF,KAAKqF,gBAAL,GAAwB,UAACrB,KAAD,EAAQE,GAAR,EAAgB;AACpC,uBAAOA,IAAIgB,WAAJ,MAAqBhB,IAAIkB,WAAJ,EAA5B;AACH,aAFD;;AAIJ,gBAAG,CAACpF,KAAKsF,QAAT,EACItF,KAAKsF,QAAL,GAAgB,UAACtB,KAAD,EAAQE,GAAR,EAAgB;AAC5B,oBAAIqB,KAAK,EAAT;AACAA,mBAAGvF,KAAKgF,cAAR,IAA0Bd,IAAIgB,WAAJ,EAA1B;AACA,uBAAOK,EAAP;AACH,aAJD;;AAMJ,gBAAG,CAACvF,KAAKwF,OAAT,EACIxF,KAAKwF,OAAL,GAAe,UAACxB,KAAD,EAAQE,GAAR,EAAajE,OAAb,EAAsBC,MAAtB,EAAiC;AAC5C8D,sBAAMyB,OAAN,CAAczF,KAAKsF,QAAL,CAActB,KAAd,EAAqBE,GAArB,CAAd,EAAyC,UAAC9D,GAAD,EAAMmD,IAAN,EAAe;AACpD,wBAAGnD,GAAH,EACI,OAAOF,OAAOE,GAAP,CAAP;;AAEJH,4BAAQsD,IAAR;AACH,iBALD;AAMH,aAPD;;AASJ,gBAAG,CAACvD,KAAK0F,UAAT,EACI1F,KAAK0F,UAAL,GAAkB,UAACnC,IAAD,EAAOW,GAAP;AAAA,uBAAeX,KAAKvD,KAAKiF,cAAV,KAA6Bf,IAAIkB,WAAJ,EAA5C;AAAA,aAAlB;AACJ,gBAAG,CAACpF,KAAK2F,MAAT,EACI3F,KAAK2F,MAAL,GAAc,UAACpC,IAAD;AAAA,uBAAU,EAAV;AAAA,aAAd;;AAEJW,gBAAI0B,KAAJ,GAAY,EAAE5F,UAAF,EAAZ;AACAyE;AACH,SApDW;AAAA,KADC;AAsDboB,kBAAc;AAAA,YAAC/B,KAAD,uEAAS,EAAT;AAAA,YAAagC,OAAb;AAAA,YAAsBC,OAAtB;AAAA,eAAkC,UAAC7B,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAChE,gBAAG,CAACvD,MAAM8E,OAAN,CAAclC,KAAd,CAAJ,EACIA,QAAQ,CAACA,KAAD,CAAR;;AAEJ,gBAAG,CAACI,IAAI0B,KAAL,IAAc,CAAC1B,IAAI0B,KAAJ,CAAU5F,IAA5B,EACI,OAAO+F,UACDA,QAAQ7B,GAAR,EAAazE,GAAb,EAAkBgF,IAAlB,EAAwB,EAAEwB,MAAM,GAAR,EAAaC,SAAS,yBAAtB,EAAxB,CADC,GAEDzG,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,yBAAT,EAArB,CAFN;;AAIJ,gBAAMrG,OAAOkE,IAAI0B,KAAJ,CAAU5F,IAAvB;AACA,gBAAMb,OAAOa,KAAKgE,KAAlB;;AAEA,gBAAG,CAAChE,KAAKqF,gBAAL,CAAsBlG,IAAtB,EAA4B+E,GAA5B,CAAJ,EACI,OAAO,CAAC6B,OAAD,GACDtG,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CADC,GAEDN,QAAQ7B,GAAR,EAAazE,GAAb,EAAkBgF,IAAlB,EAAwB,EAAEwB,MAAM,GAAR,EAAaC,SAAS,cAAtB,EAAxB,CAFN;;AAIJlG,iBAAKwF,OAAL,CAAarG,IAAb,EAAmB+E,GAAnB,EAAwB,UAACX,IAAD,EAAU;AAC9B,oBAAG,CAACA,IAAD,IAAS,CAACvD,KAAK0F,UAAL,CAAgBnC,IAAhB,EAAsBW,GAAtB,CAAb,EACI,OAAO,CAAC6B,OAAD,GACLtG,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CADK,GAELN,QAAQ7B,GAAR,EAAazE,GAAb,EAAkBgF,IAAlB,EAAwB,EAAEwB,MAAM,GAAR,EAAaC,SAAS,cAAtB,EAAxB,CAFF;;AAIJ,oBAAMI,eAAexC,MAAMyC,MAAN,CAAa,UAACC,IAAD;AAAA,2BAAUxG,KAAK2F,MAAL,CAAYpC,IAAZ,EAAkBkD,OAAlB,CAA0BD,IAA1B,MAAoC,CAAC,CAA/C;AAAA,iBAAb,CAArB;;AAEA,oBAAG1C,MAAM3C,MAAN,GAAe,CAAf,IAAoBmF,aAAanF,MAAb,KAAwB,CAA/C,EACI,OAAO,CAAC4E,OAAD,GACLtG,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CADK,GAELN,QAAQ7B,GAAR,EAAazE,GAAb,EAAkBgF,IAAlB,EAAwB,EAAEwB,MAAM,GAAR,EAAaC,SAAS,cAAtB,EAAxB,CAFF;;AAIJ,oBAAMQ,cAAc3D,OAAO4D,WAAP,CAAmB,EAAnB,EAAuBC,QAAvB,CAAgC,KAAhC,CAApB;AACA,oBAAMC,UAAU;AACZzD,yBAAKsD,WADO;AAEZnD,0BAAMA,KAAKuD,QAAL,GAAgB9G,KAAK6E,EAArB,CAFM;AAGZjB,+BAAW,IAAIC,IAAJ,CAASA,KAAKkD,GAAL,KAAa/G,KAAK2E,GAAL,GAAW,IAAjC,CAHC;AAIZb,2BAAOwC;AAJK,iBAAhB;;AAOA,oBAAMvC,QAAQd,cAAcjD,KAAKkD,EAAnB,CAAd;AACA,oBAAI8D,cAAc,IAAIjD,KAAJ,CAAU8C,OAAV,CAAlB;AACAG,4BAAYC,IAAZ,CAAiB,UAAC7G,GAAD,EAAS;AACtB,wBAAGA,GAAH,EACI,OAAOqE,KAAKrE,GAAL,CAAP;;AAEJX,wBAAIyH,MAAJ,CAAW,OAAX,EAAoBR,WAApB,EAAiC,EAAES,QAAQnH,KAAK2E,GAAL,GAAW,IAArB,EAA2ByC,UAAU,IAArC,EAAjC;AACAlD,wBAAI0B,KAAJ,GAAY,sBAAc,EAAd,EAAkB1B,IAAI0B,KAAtB,EAA6BiB,OAA7B,EAAsC,EAAEtD,UAAF,EAAtC,CAAZ;AACA,2BAAOuC,UACDA,QAAQ5B,GAAR,EAAazE,GAAb,EAAkBgF,IAAlB,CADC,GAEDhF,IAAI2G,IAAJ,CAAS,EAAE7B,OAAOsC,QAAQzD,GAAjB,EAAT,CAFN;AAGH,iBATD;AAUH,aAjCD,EAiCGqB,IAjCH;AAkCH,SAnDa;AAAA,KAtDD;AA0Gb4C,YAAQ;AAAA,YAACvD,KAAD,uEAAS,EAAT;AAAA,eAAgB,UAACI,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACxC,gBAAG,CAACvD,MAAM8E,OAAN,CAAclC,KAAd,CAAJ,EACIA,QAAQ,CAACA,KAAD,CAAR;;AAEJ,gBAAG,CAACI,IAAI0B,KAAL,IAAc,CAAC1B,IAAI0B,KAAJ,CAAU5F,IAA5B,EACI,OAAOP,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,yBAAT,EAArB,CAAP;;AAEJ,gBAAMlC,qBAAqBF,sBAAsBC,GAAtB,CAA3B;;AAEA,gBAAG,CAACC,kBAAJ,EACI,OAAO1E,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CAAP;;AAVoC,gBAYhCrG,IAZgC,GAYvBkE,IAAI0B,KAZmB,CAYhC5F,IAZgC;;AAaxC,gBAAMb,OAAOa,KAAKgE,KAAlB;AACA,gBAAMD,QAAQd,cAAcjD,KAAKkD,EAAnB,CAAd;;AAEAa,kBAAM0B,OAAN,CAAc,EAAErC,KAAKe,kBAAP,EAAd,EAA2C,UAAC/D,GAAD,EAAMmE,KAAN,EAAgB;AACvD,oBAAGnE,GAAH,EAAQ;AACJ,2BAAOqE,KAAKrE,GAAL,CAAP;AACH;AACD,oBAAG,CAACmE,KAAD,IAAU,IAAIV,IAAJ,KAAaU,MAAMX,SAAhC,EAA2C;AACvCnE,wBAAI6H,WAAJ,CAAgB,OAAhB;AACA,wBAAG/C,KAAH,EACIA,MAAMgD,MAAN;AACJ,2BAAO9H,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CAAP;AACH;;AAED;AACA,oBAAId,KAAK,EAAT;AACAA,mBAAGvF,KAAK6E,EAAR,IAAcN,MAAMhB,IAApB;;AAEApE,qBAAKsG,OAAL,CAAaF,EAAb,EAAiB,UAACnF,GAAD,EAAMmD,IAAN,EAAe;AAC5B,wBAAGnD,GAAH,EACI,OAAOqE,KAAKrE,GAAL,CAAP;AACJ,wBAAG,CAACmD,IAAJ,EACI,OAAO9D,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CAAP;;AAEJ;AACA,wBAAMC,eAAexC,MAAMyC,MAAN,CAAa;AAAA,+BAAQvG,KAAK2F,MAAL,CAAYpC,IAAZ,EAAkBkD,OAAlB,CAA0BD,IAA1B,MAAoC,CAAC,CAA7C;AAAA,qBAAb,CAArB;AACA,wBAAG1C,MAAM3C,MAAN,GAAe,CAAf,IAAoBmF,aAAanF,MAAb,KAAwB,CAA/C,EACI,OAAO1B,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CAAP;;AAEJ,wBAAMmB,kBAAkBlB,aAAaC,MAAb,CAAoB;AAAA,+BAAQhC,MAAMT,KAAN,CAAY2C,OAAZ,CAAoBD,IAApB,MAA8B,CAAC,CAAvC;AAAA,qBAApB,CAAxB;AACA,wBAAGjC,MAAMT,KAAN,CAAY3C,MAAZ,GAAqB,CAArB,IAA0BqG,gBAAgBrG,MAAhB,KAA2B,CAAxD,EACI,OAAO1B,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,cAAT,EAArB,CAAP;;AAEJ9B,0BAAMX,SAAN,GAAkB,IAAIC,IAAJ,CAASA,KAAKkD,GAAL,KAAa/G,KAAK2E,GAAL,GAAW,IAAjC,CAAlB;AACAJ,0BAAM0C,IAAN,CAAW,UAAC7G,GAAD,EAAS;AAChB,4BAAGA,GAAH,EACI,OAAOqE,KAAKrE,GAAL,CAAP;AACJX,4BAAIyH,MAAJ,CAAW,OAAX,EAAoB/C,kBAApB,EAAwC,EAAEgD,QAAQnH,KAAK2E,GAAL,GAAW,IAArB,EAA2ByC,UAAU,IAArC,EAAxC;AACAlD,4BAAI0B,KAAJ,GAAY,sBAAc,EAAd,EAAkB1B,IAAI0B,KAAtB,EAA6BrB,MAAMuC,QAAN,EAA7B,EAA+C,EAAEvD,UAAF,EAAQgB,OAAOJ,kBAAf,EAA/C,CAAZ;AACAM;AACH,qBAND;AAOH,iBAvBD;AAwBH,aAvCD;AAwCH,SAxDO;AAAA,KA1GK;AAmKbgD,kBAAc;AAAA,YAAC3D,KAAD,uEAAS,EAAT;AAAA,eAAgB,UAACI,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC9C,gBAAG,CAACvD,MAAM8E,OAAN,CAAclC,KAAd,CAAJ,EACIA,QAAQ,CAACA,KAAD,CAAR;;AAEJ,gBAAG,CAACI,IAAI0B,KAAL,IAAc,CAAC1B,IAAI0B,KAAJ,CAAU5F,IAA5B,EACI,OAAOP,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,yBAAT,EAArB,CAAP;;AAEJ,gBAAMlC,qBAAqBF,sBAAsBC,GAAtB,CAA3B;;AAEA,gBAAG,CAACC,kBAAJ,EACI,OAAOM,MAAP;;AAV0C,gBAYtCzE,IAZsC,GAY7BkE,IAAI0B,KAZyB,CAYtC5F,IAZsC;;AAa9C,gBAAMb,OAAOa,KAAKgE,KAAlB;AACA,gBAAMD,QAAQd,cAAcjD,KAAKkD,EAAnB,CAAd;;AAEAa,kBAAM0B,OAAN,CAAc,EAAErC,KAAKe,kBAAP,EAAd,EAA2C,UAAC/D,GAAD,EAAMmE,KAAN,EAAgB;AACvD,oBAAGnE,GAAH,EAAQ;AACJ,2BAAOqE,MAAP;AACH;AACD,oBAAG,CAACF,KAAD,IAAU,IAAIV,IAAJ,KAAaU,MAAMX,SAAhC,EAA2C;AACvCnE,wBAAI6H,WAAJ,CAAgB,OAAhB;AACA,wBAAG/C,KAAH,EACIA,MAAMgD,MAAN;AACJ,2BAAO9C,MAAP;AACH;;AAED;AACA,oBAAIc,KAAK,EAAT;AACAA,mBAAGvF,KAAK6E,EAAR,IAAcN,MAAMhB,IAApB;;AAEApE,qBAAKsG,OAAL,CAAaF,EAAb,EAAiB,UAACnF,GAAD,EAAMmD,IAAN,EAAe;AAC5B,wBAAGnD,GAAH,EACI,OAAOqE,MAAP;AACJ,wBAAG,CAAClB,IAAJ,EACI,OAAOkB,MAAP;;AAEJ,wBAAM6B,eAAexC,MAAMyC,MAAN,CAAa;AAAA,+BAAQvG,KAAK2F,MAAL,CAAYpC,IAAZ,EAAkBkD,OAAlB,CAA0BD,IAA1B,MAAoC,CAAC,CAA7C;AAAA,qBAAb,CAArB;AACA,wBAAG1C,MAAM3C,MAAN,GAAe,CAAf,IAAoBmF,aAAanF,MAAb,KAAwB,CAA/C,EACI,OAAOsD,MAAP;;AAEJ,wBAAM+C,kBAAkBlB,aAAaC,MAAb,CAAoB;AAAA,+BAAQhC,MAAMT,KAAN,CAAY2C,OAAZ,CAAoBD,IAApB,MAA8B,CAAC,CAAvC;AAAA,qBAApB,CAAxB;AACA,wBAAGjC,MAAMT,KAAN,CAAY3C,MAAZ,GAAqB,CAArB,IAA0BqG,gBAAgBrG,MAAhB,KAA2B,CAAxD,EACI,OAAOsD,MAAP;;AAEJF,0BAAMX,SAAN,GAAkB,IAAIC,IAAJ,CAASA,KAAKkD,GAAL,KAAa/G,KAAK2E,GAAL,GAAW,IAAjC,CAAlB;AACAJ,0BAAM0C,IAAN,CAAW,UAAC7G,GAAD,EAAS;AAChB,4BAAGA,GAAH,EACI,OAAOqE,KAAKrE,GAAL,CAAP;AACJX,4BAAIyH,MAAJ,CAAW,OAAX,EAAoB/C,kBAApB,EAAwC,EAAEgD,QAAQnH,KAAK2E,GAAL,GAAW,IAArB,EAA2ByC,UAAU,IAArC,EAAxC;AACAlD,4BAAI0B,KAAJ,GAAY,sBAAc,EAAd,EAAkB1B,IAAI0B,KAAtB,EAA6BrB,MAAMuC,QAAN,EAA7B,EAA+C,EAAEvD,UAAF,EAAQgB,OAAOJ,kBAAf,EAA/C,CAAZ;AACAM;AACH,qBAND;AAOH,iBAtBD;AAuBH,aAtCD;AAuCH,SAvDa;AAAA,KAnKD;AA2NbiD,aAAS,iBAACC,QAAD;AAAA,eAAc,UAACzD,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACvC,gBAAG,CAACP,IAAI0B,KAAL,IAAc,CAAC1B,IAAI0B,KAAJ,CAAU5F,IAA5B,EACI,OAAOP,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,yBAAT,EAArB,CAAP;;AAEJ,gBAAMlC,qBAAqBF,sBAAsBC,GAAtB,CAA3B;;AAEA,gBAAG,CAACC,kBAAJ,EACI,OAAOwD,WACJA,SAASzD,GAAT,EAAczE,GAAd,EAAmBgF,IAAnB,CADI,GAEJhF,IAAImI,UAAJ,CAAe,GAAf,CAFH;;AAPmC,gBAW/B5H,IAX+B,GAWtBkE,IAAI0B,KAXkB,CAW/B5F,IAX+B;;;AAavC,gBAAM+D,QAAQd,cAAcjD,KAAKkD,EAAnB,CAAd;AACAa,kBAAM8D,gBAAN,CAAuB,EAAEzE,KAAKc,IAAI0B,KAAJ,CAAUrB,KAAjB,EAAvB,EAAiD,UAACnE,GAAD,EAAS;AACtD,oBAAGA,GAAH,EACIqE,KAAKrE,GAAL;;AAEJ8D,oBAAI0B,KAAJ,GAAY,EAAE5F,MAAMkE,IAAI0B,KAAJ,CAAU5F,IAAlB,EAAZ;AACAP,oBAAI6H,WAAJ,CAAgB,OAAhB;;AAEA,uBAAOK,WACJA,SAASzD,GAAT,EAAczE,GAAd,EAAmBgF,IAAnB,CADI,GAEJhF,IAAImI,UAAJ,CAAe,GAAf,CAFH;AAGH,aAVD;AAWH,SAzBQ;AAAA;AA3NI,CAAjB,C;;;;;;AC7BA,gE;;;;;;ACAA,+B;;;;;;;;;;;;;;;;;;;ACAA;;;AAGA,IAAME,UAAU,mBAAAjJ,CAAQ,CAAR,CAAhB;AACA,IAAMkJ,SAASD,QAAQE,MAAR,EAAf;AACA,IAAMpJ,OAAO,mBAAAC,CAAQ,CAAR,CAAb;;AAEA,IAAMiE,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;IACQO,U,GAAe0D,M,CAAf1D,U;;;AAER,IAAM6I,mBACA,oDADN;;AAGA,SAASC,qBAAT,CAA+B9H,GAA/B,EAAoC8D,GAApC,EAAyCzE,GAAzC,EAA8CgF,IAA9C,EAAoD;AAClDhF,MAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,CAAChG,GAAD,CAArB;AACD;;AAED;AACA2H,OAAOI,IAAP,CAAY,cAAZ,EAA4B,UAACjE,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC9C,MAAI,CAACP,IAAIkE,MAAJ,CAAWvD,EAAhB,EACE,OAAOqD,sBAAsB,wBAAtB,CAAP;;AAEF9I,aAAWiJ,iBAAX,CAA6BnE,IAAIkE,MAAJ,CAAWvD,EAAxC,EAA4C,EAA5C,EAAgD,EAAEyD,KAAK,IAAP,EAAhD,EAA+D,UAAClI,GAAD,EAAMmI,GAAN,EAAc;AAC3E,QAAInI,GAAJ,EACE,OAAO8H,sBAAsB9H,GAAtB,CAAP;;AAEFmI,QAAIC,QAAJ,CAAa,SAAb;AAAA,4EAAwB,iBAAOpI,GAAP,EAAYmI,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,qBAClBnI,GADkB;AAAA;AAAA;AAAA;;AAAA,iDAEb8H,sBAAsB9H,GAAtB,CAFa;;AAAA;AAAA;AAAA;AAAA,uBAKdqI,UAAUC,GAAV,CAAc;AAClB7D,sBAAI0D,IAAII,OAAJ,CAAYvF,GADE;AAElBwF,yBAAOL,IAAInF,GAFO;AAGlByF,uBAAKN,IAAII,OAAJ,CAAYE,GAHC;AAIlB5C,wBAAMsC,IAAItC,IAJQ;AAKlB6C,wBAAMP,IAAIQ;AALQ,iBAAd,CALc;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,iDAabb,mCAA0BhE,GAA1B,EAA+BzE,GAA/B,CAba;;AAAA;;AAgBtBA,oBAAI2G,IAAJ,CAAS,EAAEN,SAAS,UAAX,EAAT;;AAhBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAxB;;AAAA;AAAA;AAAA;AAAA;AAkBD,GAtBD;AAuBD,CA3BD;;AA6BA9G,OAAOC,OAAP,GAAiB8I,MAAjB;AACA/I,OAAOC,OAAP,CAAegJ,gBAAf,GAAkCA,gBAAlC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;;;;AAIA,IAAMe,QAAQ,mBAAAnK,CAAQ,EAAR,CAAd;AACA,IAAMoK,eAAe,mBAAApK,CAAQ,EAAR,CAArB;AACA,IAAMqK,QAAQ,mBAAArK,CAAQ,EAAR,CAAd;AACA,IAAMsK,WAAW,mBAAAtK,CAAQ,EAAR,CAAjB;AACA,IAAMD,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMqD,SAAS,mBAAArD,CAAQ,EAAR,CAAf;AACA,IAAMC,KAAK,mBAAAD,CAAQ,EAAR,CAAX;AACA,IAAMuK,YAAY,mBAAAvK,CAAQ,EAAR,CAAlB;AACA,IAAMsB,OAAOiJ,UAAU,mBAAAvK,CAAQ,EAAR,EAAgBsB,IAA1B,CAAb;;AAEA;AACA,SAASkJ,aAAT,CAAuBC,OAAvB,EAAgCC,KAAhC,EAAuC;AACrC,SAAO,sBAAY,UAACtJ,OAAD,EAAUC,MAAV,EAAqB;AACtCoJ,YAAQE,cAAR,CAAuBD,KAAvB,EAA8B,UAACnJ,GAAD,EAAMqJ,MAAN,EAAiB;AAC7C,UAAIrJ,GAAJ,EAAS;AACPkJ,gBAAQI,SAAR;AACA,eAAOxJ,OAAOE,GAAP,CAAP;AACD;;AAED,UAAMuJ,SAASV,aAAa,UAACW,MAAD,EAAY;AACtCN,gBAAQI,SAAR;AACA,eAAOzJ,QAAQ,EAAErB,MAAM2K,MAAMM,QAAd,EAAwBD,cAAxB,EAAR,CAAP;AACD,OAHc,CAAf;;AAKAH,aAAOK,EAAP,CAAU,OAAV,EAAmB,UAACC,IAAD,EAAU;AAC3BT,gBAAQI,SAAR;AACA,eAAOxJ,OAAO6J,IAAP,CAAP;AACD,OAHD;;AAKA,aAAON,OAAOO,IAAP,CAAYL,MAAZ,CAAP;AACD,KAjBD;AAkBD,GAnBM,CAAP;AAoBD;;AAED,SAASM,YAAT,CAAsB3K,CAAtB,EAAyB;AAAA;;AACvB,MAAM4K,UAAUtL,KAAKqB,OAAL,CAAaX,CAAb,CAAhB;AACA,SAAO,sBAAY,UAACW,OAAD,EAAUC,MAAV,EAAqB;AACtC8I,UAAMmB,IAAN,CAAWD,OAAX,EAAoB,EAAEE,aAAa,IAAf,EAApB,EACW,UAAChK,GAAD,EAAMkJ,OAAN,EAAkB;AAChB,UAAIlJ,GAAJ,EACE,OAAOF,OAAOE,GAAP,CAAP;AACF,UAAMiK,SAAS,EAAf;AACAf,cAAQI,SAAR;;AAEA;AACAJ,cAAQQ,EAAR,CAAW,OAAX,EAAoB,UAACP,KAAD,EAAW;AAC7B,YAAI,MAAMe,IAAN,CAAWf,MAAMM,QAAjB,CAAJ,EACE,OAAOP,QAAQI,SAAR,EAAP;;AAEF,eAAOW,OAAO9I,IAAP,CAAY8H,cAAcC,OAAd,EAAuBC,KAAvB,CAAZ,CAAP;AACD,OALD;;AAOAD,cAAQiB,IAAR,CAAa,KAAb,6DAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBjB,wBAAQkB,KAAR;AACA;AAFkB;AAAA;AAAA,uBAIM,kBAAQC,GAAR,CAAYJ,MAAZ,CAJN;;AAAA;AAIVK,uBAJU;;AAKhBzK,wBAAQyK,OAAR;AALgB;AAAA;;AAAA;AAAA;AAAA;;AAOhBxK;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAApB;;AAWA,aAAO,IAAP;AACD,KA3BZ;AA4BD,GA7BM,CAAP;AA8BD;;AAED;;;;;;IAKMyK,O;AACJ,qBAAc;AAAA;;AACZ,QAAIrC,IAAIsC,MAAJ,KAAeD,OAAnB,EACE,6CAA2C,KAAKE,WAAL,CAAiBlI,IAA5D;AACH;;AAED;;;;AAIA;;;;;;+FACWrD,C;;;;;uDAC4B,KAAKuL,WAAL,CAAiBlI,I;;;;;;;;;;;;;;;;;AAGxD;;;;;AAKA;;;;kCACcrD,C,EAAG;AACf,aAAOA,EAAE6B,MAAF,KAAa,CAAb,IAAkB7B,EAAEwL,MAAF,CAAS,CAAT,MAAgB,GAAlC,SACCxL,CADD,GAEHA,CAFJ;AAGD;;AAED;;;;AAIA;;;;;+FACcA,C;;;;;uDACyB,KAAKuL,WAAL,CAAiBlI,I;;;;;;;;;;;;;;;;;AAGxD;;;;;AAKA;;;;;+FAC4BrD,C,EAAGyL,O;;;;;uDACQ,KAAKF,WAAL,CAAiBlI,I;;;;;;;;;;;;;;;;;AAGxD;;;;;AAKA;;;;;+FACoBrD,C;;;;;uDACmB,KAAKuL,WAAL,CAAiBlI,I;;;;;;;;;;;;;;;;;AAGxD;;;;;AAKA;;;;;+FACoBrD,C;;;;;uDACmB,KAAKuL,WAAL,CAAiBlI,I;;;;;;;;;;;;;;;;;AAGxD;;;;;;;+FAGiBrD,C;;;;;;;uBAEP,KAAK0L,aAAL,CAAmB1L,CAAnB,C;;;kDACC,I;;;;;kDAEA,K;;;;;;;;;;;;;;;;;AAIX;;;;;AAKA;;;;;+FACWA,C;YAAG2L,I,uEAAO,K;;;;;uDACkB,KAAKJ,WAAL,CAAiBlI,I;;;;;;;;;;;;;;;;;AAGxD;;;;AAIA;;;;;+FACcrD,C;;;;;uDACyB,KAAKuL,WAAL,CAAiBlI,I;;;;;;;;;;;;;;;;;;;;IAIpDuI,W;;;AACJ;AACA;AACA;AACA,yBAAc;AAAA;;AAAA;;AAEZ,WAAKtM,IAAL,GAAY,GAAZ;AAFY;AAGb;;AAED;;;;;;iGACWU,C;;;;;AACT,qBAAKV,IAAL,GAAYA,KAAKqB,OAAL,CAAaX,CAAb,CAAZ;;;;;;;;;;;;;;;;;;;iGAG0BA,C,EAAGyL,O;;;;;;AACvBI,mB,GAAMvM,KAAKqB,OAAL,CAAa,KAAKrB,IAAlB,EAAwBU,CAAxB,C;;;uBAEJR,GAAGsM,SAAH,CAAaD,GAAb,EAAkBJ,OAAlB,C;;;;;;;;;;AAEN7I,uBAAOmE,KAAP,CAAa,mCAAb,EAAkD,KAAKwE,WAAL,CAAiBlI,IAAnE,EAAyErD,CAAzE;;;;;;;;;;;;;;;;;;;;iGAKgBA,C;;;;;;AACZ6L,mB,GAAMvM,KAAKqB,OAAL,CAAa,KAAKrB,IAAlB,EAAwBU,CAAxB,C;;;uBAEQR,GAAGuM,QAAH,CAAYF,GAAZ,C;;;AAAZ1L,mB;mDACCA,G;;;;;;AAEPyC,uBAAOmE,KAAP,CAAa,qCAAb,EAAoD,KAAKwE,WAAL,CAAiBlI,IAArE,EAA2ErD,CAA3E;;;;;;;;;;;;;;;;;;;;iGAKgBA,C;;;;;;AACZ6L,mB,GAAMvM,KAAKqB,OAAL,CAAa,KAAKrB,IAAlB,EAAwBU,CAAxB,C;;;uBAEQR,GAAGuM,QAAH,CAAYF,GAAZ,EAAiB,MAAjB,C;;;AAAZ1L,mB;mDACCA,G;;;;;;AAEPyC,uBAAOmE,KAAP,CAAa,qCAAb,EAAoD,KAAKwE,WAAL,CAAiBlI,IAArE,EAA2ErD,CAA3E;;;;;;;;;;;;;;;;;;;EAzCoBqL,O;;IA+CpBW,a;;;AACJ,2BAAc;AAAA;;AAAA;;AAEZ,WAAKC,IAAL,GAAY,EAAZ;AAFY;AAGb;;;;;iGAEUjM,C;;;;;;;;AACH4K,uB,GAAUtL,KAAKqB,OAAL,CAAaX,CAAb,C;;uBACEa,KAAK,MAAL,EAAa,EAAEqL,KAAKtB,OAAP,EAAgBuB,OAAO,IAAvB,EAAb,C;;;AAAZhM,mB;;uBAEA,kBAAQgL,GAAR,CAAYhL,IAAIiM,GAAJ;AAAA,0FAAQ,mBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACoB7M,GAAGuM,QAAH,CAAYzM,KAAKgN,IAAL,CAAU1B,OAAV,EAAmByB,IAAnB,CAAZ,CADpB;;AAAA;AACxB,mCAAKJ,IAAL,CAAU,OAAK3J,aAAL,CAAmB+J,IAAnB,CAAV,CADwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAR;;AAAA;AAAA;AAAA;AAAA,oBAAZ,C;;;;;;;;;;;;;;;;;;;iGAKMrM,C;;;;;;;;;uBACM2K,aAAa3K,CAAb,C;;;AAAZG,mB;AACAoM,wB,GAAWpM,IAAIiM,GAAJ,CAAQ;AAAA,sBAASI,OAAT,UAAGlN,IAAH;AAAA,sBAAkBgL,MAAlB,UAAkBA,MAAlB;AAAA,yBACvB,OAAKmC,qBAAL,CAA2BD,OAA3B,EAAoClC,MAApC,CADuB;AAAA,iBAAR,C;;uBAEX,kBAAQa,GAAR,CAAYoB,QAAZ,C;;;;;;;;;;;;;;;;;AAGR;;;;;iGAC4BvM,C,EAAGyL,O;;;;;;AACvBiB,oB,GAAO,KAAKpK,aAAL,CAAmBtC,CAAnB,C;;AACb,qBAAKiM,IAAL,CAAUS,IAAV,IAAkB,IAAIC,MAAJ,CAAWlB,OAAX,CAAlB;;;;;;;;;;;;;;;;;AAGF;;;;;iGACoBzL,C;YAAG4M,G,uEAAM,I;;;;;;AACrBrK,8B,GAAiB,KAAKD,aAAL,CAAmBtC,CAAnB,C;;oBAClB,KAAKiM,IAAL,CAAUY,cAAV,CAAyBtK,cAAzB,C;;;;;sBACCqK,QAAQ,I;;;;;gCACIrK,c;;;mDAEP,IAAIoK,MAAJ,CAAWC,GAAX,C;;;mDAEJ,KAAKX,IAAL,CAAU1J,cAAV,C;;;;;;;;;;;;;;;;;AAGT;;;;;iGACoBvC,C;YAAG4M,G,uEAAM,I;;;;;;AACrBrK,8B,GAAiB,KAAKD,aAAL,CAAmBtC,CAAnB,C;;oBAClB,KAAKiM,IAAL,CAAUY,cAAV,CAAyBtK,cAAzB,C;;;;;sBACCqK,QAAQ,I;;;;;gCACIrK,c;;;mDAEPqK,IAAItF,QAAJ,E;;;mDAEJ,KAAK2E,IAAL,CAAU1J,cAAV,EAA0B+E,QAA1B,E;;;;;;;;;;;;;;;;;AAGT;;;;;iGACWtH,C;YAAG2L,I,uEAAO,K;;;;;;;;AACbpJ,8B,GAAiB,KAAKD,aAAL,CAAmBtC,CAAnB,C;AACjBG,mB,GAAM,E;;;;;;AACZ,4DAAiB,oBAAY,KAAK8L,IAAjB,CAAjB,qGAAyC;AAA9Ba,oBAA8B;;AACvC,sBAAIjD,SAASiD,EAAT,EAAavK,cAAb,CAAJ,EACEpC,IAAI8B,IAAJ,CAAS6K,EAAT;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACD,oBAAInB,IAAJ,EACExL,IAAIwL,IAAJ;mDACKxL,G;;;;;;;;;;;;;;;;;AAGT;;;;;;;;;;AAEEyJ,sBAAM1H,OAAN,CAAc,KAAK+J,IAAnB;AACA,qBAAKA,IAAL,GAAY,IAAZ;;;;;;;;;;;;;;;;;;EApEwBZ,O;;AAwE5B,IAAI,CAAC3L,OAAOqN,MAAR,IAAkB,KAAtB,EAA6B;AAC3B;AACA,6DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACCxL,oBAAQC,GAAR,CAAY,uBAAZ;AACMwL,iBAFP,GAEe,IAAIhB,aAAJ,EAFf;AAAA;AAAA,mBAGOgB,MAAMC,IAAN,CAAW,cAAX,CAHP;;AAAA;AAIC1L,oBAAQC,GAAR,CAAYwL,MAAME,aAAN,CAAoB,UAApB,CAAZ;AAJD;AAAA,mBAKOF,MAAMP,qBAAN,CAA4B,MAA5B,EAAoC,QAApC,CALP;;AAAA;AAMClL,oBAAQC,GAAR,CAAYwL,MAAMtB,aAAN,CAAoB,UAApB,CAAZ;AACAnK,oBAAQC,GAAR,CAAYwL,MAAMf,IAAlB;;AAPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD;AASD;;AAGDvM,OAAOC,OAAP,GAAiB;AACf0L,kBADe;AAEfO,0BAFe;AAGfI;AAHe,CAAjB,C;;;;;;;ACpTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA,0D;;;;;;;;;ACAA;;;AAGA,IAAIxD,UAAU,mBAAAjJ,CAAQ,CAAR,CAAd;AACA,IAAIkJ,SAASD,QAAQE,MAAR,EAAb;;AAEA,IAAIyE,gBAAgB,mBAAA5N,CAAQ,EAAR,CAApB;AACA,IAAI6N,aAAa,mBAAA7N,CAAQ,EAAR,CAAjB;AACA,IAAI8N,mBAAmB,mBAAA9N,CAAQ;;AAE/B;AAFuB,CAAvB,CAGAkJ,OAAO6E,GAAP,CAAW,WAAX,EAAwBH,aAAxB;AACA1E,OAAO6E,GAAP,CAAW,QAAX,EAAqBF,UAArB;AACA3E,OAAO6E,GAAP,CAAW,cAAX,EAA2BD,gBAA3B;;AAEA3N,OAAOC,OAAP,GAAiB8I,MAAjB,C;;;;;;;;;ACfA,IAAIhJ,WAAW,mBAAAF,CAAQ,CAAR,CAAf;AACA,IAAMgO,cAAc,mBAAAhO,CAAQ,EAAR,CAApB;AACA,IAAMiO,OAAO,mBAAAjO,CAAQ,EAAR,CAAb;;AAEA;;AAEA,IAAIkO,aAAa9K,QAAQI,GAAR,CAAY2K,UAAZ,IAA0B,WAA3C;AACA,IAAIC,YAAYhL,QAAQI,GAAR,CAAY6K,SAAZ,IAAyB,WAAzC;;AAEA,IAAIC,MAAM,eAAaJ,UAAb,GAAwB,WAAlC;AACA,IAAG,CAACK,OAAOlK,EAAX,EAAe;AACXkK,WAAOlK,EAAP,GAAYnE,SAASsO,gBAAT,CAA0BF,GAA1B,CAAZ;AACAC,WAAOlK,EAAP,CAAUoK,IAAV,GAAiB,EAAjB;AACAF,WAAO3E,SAAP,GAAmB,IAAIoE,WAAJ,CAAgB3J,EAAhB,EAAoB,aAApB,CAAnB;AACAkK,WAAOG,UAAP,GAAwB,IAAIT,IAAJ,CAAS;AAC7BU,gBAAYP,SADiB;AAE7BQ,cAAY;AAFiB,KAAT,CAAxB;AAIH;;AAEDzO,OAAOC,OAAP,GAAiBmO,OAAOlK,EAAxB,C;;;;;;ACpBA,yC;;;;;;;;;;;;;;;ACAA;;;;AAIA,IAAMtE,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAIE,WAAW,mBAAAF,CAAQ,CAAR,CAAf;AACA,IAAImE,SAASjE,SAASiE,MAAtB;;AAEA;AACAhE,OAAOC,OAAP,GAAiB,YAAM;AACnB,QAAGiE,GAAGJ,MAAH,CAAUzD,OAAb,EACI,OAAO6D,GAAGc,KAAH,CAAS,SAAT,CAAP;;AAEJ,QAAI0J,gBAAgB,IAAI1K,MAAJ,CAAW;AAC3BiD,cAAM;AACF5C,kBAAMC,MADJ;AAEFqK,uBAAW,CAFT;AAGFC,uBAAW,EAHT;AAIFC,mBAAO,wBAJL;AAKFlK,sBAAU;AALR,SADqB;AAQ3BhB,cAAM;AACFU,kBAAMC,MADJ;AAEFqK,uBAAW,CAFT;AAGFC,uBAAW,EAHT;AAIFjK,sBAAU;AAJR,SARqB;AAc3BmK,sBAAcxK,MAda;AAe3BuF,aAAKvF,MAfsB;AAgB3ByK,cAAM/K,OAAOQ,KAAP,CAAawK;AAhBQ,KAAX,CAApB;;AAmBAN,kBAAcO,KAAd,CAAoB,EAAChI,MAAM,CAAP,EAApB,EAA+B,EAACiI,QAAQ,CAAT,EAA/B;AACAR,kBAAcO,KAAd,CAAoB,EAACtL,MAAM,CAAP,EAApB;AACA+K,kBAAcO,KAAd,CAAoB,EAAChI,MAAM,MAAP,EAAetD,MAAM,MAArB,EAApB;;AAEA+K,kBAAcS,GAAd,CAAkB,QAAlB,EAA4B,UAAS1J,IAAT,EAAe;AAAA;;AACvCvB,WAAGc,KAAH,CAAS,YAAT,EAAuBuD,MAAvB,CAA8B,EAAEoB,SAAS,KAAKvF,GAAhB,EAA9B,EAAqD,eAAO;AACxD,gBAAGhD,GAAH,EAAQS,QAAQwF,KAAR,CAAcjG,GAAd;AACX,SAFD;AAGA,YAAMgO,eAAe;AACjBC,sBAAU;AACNC,4BAAY;AACR3F,6BAAS,KAAKvF;AADN;AADN;AADO,SAArB;;AAQAF,WAAGc,KAAH,CAAS,SAAT,EAAoBuK,IAApB,CAAyBH,YAAzB,EAAuC,UAAChO,GAAD,EAAMoO,QAAN,EAAmB;AACtD,gBAAGpO,GAAH,EACI,OAAOS,QAAQwF,KAAR,CAAcjG,GAAd,CAAP;;AAFkD;AAAA;AAAA;;AAAA;AAItD,gEAAmBoO,QAAnB,4GAA6B;AAAA,wBAArBC,OAAqB;;AACzBA,4BAAQJ,QAAR,GACII,QAAQJ,QAAR,CAAiB9H,MAAjB,CAAwB;AAAA,+BAAW,CAAC,MAAKnD,GAAL,CAASsL,MAAT,CAAgB/F,QAAQA,OAAxB,CAAZ;AAAA,qBAAxB,CADJ;AAEA8F,4BAAQxH,IAAR,CAAa,eAAO;AAChB,4BAAG7G,GAAH,EAAQS,QAAQwF,KAAR,CAAcjG,GAAd;AACX,qBAFD;AAGH;AAVqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWzD,SAXD;AAYAqE;AACH,KAzBD;;AA2BA,WAAOvB,GAAGc,KAAH,CAAS,SAAT,EAAoB0J,aAApB,CAAP;AACH,CAvDD,C;;;;;;ACTA,iC;;;;;;ACAA,oC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkMA;;;;;yEAIA,kBAA0BpB,KAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAC4BqC,OAD5B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,0EACcC,CADd,oBACiBC,MADjB;AAAA;AAAA,mBAGcA,OAAOC,UAAP,CAAkBxC,KAAlB,CAHd;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,8CAIauC,MAJb;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,8CAMS,IANT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeE,U;;;;;AASf;;;;;AA/MA;;;;AAIA,IAAMnQ,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMmQ,OAAO,mBAAAnQ,CAAQ,EAAR,CAAb;AACA,IAAMoQ,OAAO,mBAAApQ,CAAQ,EAAR,CAAb;AACA,IAAMqD,SAAS,mBAAArD,CAAQ,EAAR,CAAf;AACA,IAAMqK,QAAQ,mBAAArK,CAAQ,EAAR,CAAd;AACA,IAAMqQ,UAAU,mBAAArQ,CAAQ,EAAR,CAAhB;;AAEA,IAAMsQ,UAAU,UAAhB;;AAEA;;;;;;IAKMC,M;AACJ,kBAAY9C,KAAZ,EAAmB;AAAA;;AACjB,QAAIhE,IAAIsC,MAAJ,KAAewE,MAAnB,EACE,6CAA2C,KAAKvE,WAAL,CAAiBlI,IAA5D;AACF,SAAK2J,KAAL,GAAaA,KAAb;AACD;;AAED;;;;;AAKA;;;;;;;AAKA;;;;2BAIO;AACL,kDAA0C,KAAKzB,WAAL,CAAiBlI,IAA3D;AACD;;;;6FAVuB2J,K;;;;;6DACqB,KAAK3J,I;;;;;;;;;;;;;;;;;;;;IAY9C0M,U;;;;;;;;;;;;AAKJ;;;;;;+FAKmBC,W;;;;;;;AACXC,yB,GAAY3Q,KAAKgN,IAAL,CAAU,OAAV,EAAmB0D,WAAnB,C;;uBAEI,KAAKhD,KAAL,CAAWnM,IAAX,CAAgBvB,KAAKgN,IAAL,CAAU2D,SAAV,EAAqB,OAArB,CAAhB,C;;;AAAhBC,sB,kBAAgEvE,I;AAChExL,mB,GAAM,E;;;;;uDAEQ+P,M;;;;;;;;AAATC,qB;AACHC,sB,GAASD,MAAME,OAAN,CAAc,OAAd,EAAuB,MAAvB,C;AACf;;;uBACW,KAAKrD,KAAL,CAAWsD,UAAX,CAAsBF,MAAtB,C;;;;;;;;AACTxN,uBAAOmE,KAAP,CAAa,2BAAb,EAA0CgJ,WAAW1M,IAArD,EAA2D+M,MAA3D;sBACM,gC;;;;AAGRjQ,oBAAI8B,IAAJ,CAAS;AACPsO,sBAAIJ,KADG;AAEPK,uBAAKJ;AAFE,iBAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sBAMEjQ,IAAI0B,MAAJ,KAAe,C;;;;;AACjBe,uBAAOmE,KAAP,CAAa,0BAAb,EAAyCgJ,WAAW1M,IAApD,EAA0D2M,WAA1D;sBACM,sB;;;kDAED7P,G;;;;;;;;;;;;;;;;;AAGT;;;;;;;;;+FAKoBsQ,Q;;;;;;;sBACd,CAACA,QAAD,IAAaA,SAAS5O,MAAT,KAAoB,C;;;;;AACnCe,uBAAOmE,KAAP,CAAa,6BAAb,EAA4CgJ,WAAW1M,IAAvD;sBACM,wB;;;AAGFlD,mB,GAAM,E;AACRuQ,6B,GAAgB,C;;;;;wDAEED,Q;;;;;;;;AAAXE,uB;+BAEDA,QAAQtN,IAAR,IAAgBsN,QAAQrR,I;+BAClBqR,QAAQC,UAAR,IAAsB,C;;uBACjB,KAAKC,YAAL,CAAkBF,QAAQrR,IAA1B,CAAgC;AAAhC,iB;;;;AAHbwR,mB;AACJzN,sB;AACAuN,4B;AACAG,2B;;;;AAGFD,oBAAIE,aAAJ,GAAoBL,QAAQK,aAAR,IAAyBF,IAAIzN,IAAjD;;AAEAqN,iCAAiBI,IAAIF,UAArB;AACAzQ,oBAAI8B,IAAJ,CAAS6O,GAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sBAIEG,KAAKpF,GAAL,CAAS6E,gBAAgB,CAAzB,IAA8B9G,MAAMsH,G;;;;;AACtCtO,uBAAOmE,KAAP,CAAa,2CAAb,EAA0DgJ,WAAW1M,IAArE;sBACM,sC;;;kDAGDlD,G;;;;;;;;;;;;;;;;;AAGT;;;;;;;;;+FAKcgR,G;;;;;;AACNC,oB,GAAOD,IAAIE,MAAJ,IAAc,E;AACrBC,sB,GAASH,IAAII,OAAJ,IAAe,E;AACxBC,0B,GAAaJ,KAAKK,cAAL,IAAuB,C;AACpCC,qB,GAAQN,KAAKO,iBAAL,IAA0B,G;+BAG9BR,IAAIS,MAAJ,IAAc,C;;uBACN,KAAKC,aAAL,CAAmBV,IAAIV,QAAvB,C;;;;+BACPU,IAAIvB,OAAJ,IAAe,gB;+BAChBuB,IAAIW,MAAJ,IAAc,E;+BACd;AACN;AACAC,wBAAMX,KAAKW,IAAL,GACFd,KAAKe,IAAL,CAAUZ,KAAKW,IAAL,GAAYP,UAAZ,GAAyBE,KAAnC,IAA4CA,KAD1C,GAEF,IAJE;AAKNO,0BAAQb,KAAKa,MAAL,IAAe,GALjB;AAMNC,0BAAQd,KAAKc,MAAL,IAAe;AANjB,iB;+BAQU,E;+BACT;AACPzI,4BAAU,CAAC6H,OAAO7H,QAAP,IAAmB,KAApB,EAA2B0I,WAA3B,EADH;AAEP7S,wBAAMgS,OAAOhS,IAAP,IAAe;AAFd,iB;+BAIE6R,IAAIiB,SAAJ,IAAiB,I;AAlBxB3D,oB;AACJmD,wB;AACAnB,0B;AACAb,yB;AACAkC,wB;AACAT,wB;AAQAgB,kC;AACAd,yB;AAIAa,2B;;;sBAGE,CAAC3D,KAAKmB,OAAN,IAAiB,CAACA,QAAQ/C,cAAR,CAAuB4B,KAAKmB,OAA5B,C;;;;;AACpBhN,uBAAOmE,KAAP,CAAa,qCAAb,EAAoDgJ,WAAW1M,IAA/D,EAAqEoL,KAAKmB,OAA1E;kDACO,I;;;+BAGLnB,KAAK2D,S;;;;;;;;uBAAoB,KAAKpF,KAAL,CAAWsD,UAAX,CAAsB7B,KAAK2D,SAA3B,C;;;;;;;;;;;AAC3BxP,uBAAOmE,KAAP,CAAa,0DAAb,EACagJ,WAAW1M,IADxB,EAC8BoL,KAAK2D,SADnC;kDAEO,I;;;;uBAGE,KAAKpF,KAAL,CAAWsD,UAAX,CAAsB7B,KAAK8C,OAAL,CAAajS,IAAnC,C;;;;;;;;AACTsD,uBAAOmE,KAAP,CAAa,uCAAb,EAAsDgJ,WAAW1M,IAAjE,EAAuEoL,KAAK8C,OAAL,CAAajS,IAApF;kDACO,I;;;kDAGF,IAAIoQ,KAAK4C,IAAT,CAAc7D,IAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;uBAII,KAAKlD,WAAL,CAAiBiE,UAAjB,CAA4B,KAAKxC,KAAjC,C;;;;;;;;AACTpK,uBAAOmE,KAAP,CAAa,gDAAb,EAA+DgJ,WAAW1M,IAA1E;kDACO,I;;;;+BAIKsM,I;;uBAAiB,KAAK3C,KAAL,CAAWE,aAAX,CAAyB2C,OAAzB,C;;;;AAAvBsB,mB,gBAAWoB,K;kDACV,KAAKC,OAAL,CAAarB,GAAb,C;;;;;;AAEPvO,uBAAOmE,KAAP,CAAa,0CAAb,EAAyDgJ,WAAW1M,IAApE;AACAT,uBAAO6P,KAAP;kDACO,I;;;;;;;;;;;;;;;;;;;+FAvIazF,K;;;;;kDACfA,MAAMsD,UAAN,CAAiBT,OAAjB,C;;;;;;;;;;;;;;;;;;EAFcC,M;;AA6IzB;;;;;;AAIA,IAAMT,UAAU,kBAAQ;AACtB;AACA,CAACU,WAAW1M,IAAZ,EAAkB0M,UAAlB,CAFsB,CAAR,CAAhB,CAmBArQ,OAAOC,OAAP,GAAiB;AACfmQ,gBADe;AAEfC,wBAFe;AAGfN,wBAHe;AAIfJ;AAJe,CAAjB,C;;;;;;AChNA,sD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;AAIA,SAASqD,oBAAT,CAA8BC,CAA9B,EAAiCC,CAAjC,EAAoC;AAClC,MAAID,EAAEE,aAAF,KAAoBD,EAAEC,aAA1B,EACE,OAAO,IAAItO,IAAJ,CAASoO,EAAEZ,IAAX,EAAiBe,OAAjB,KAA6B,IAAIvO,IAAJ,CAASqO,EAAEb,IAAX,EAAiBe,OAAjB,EAApC;AACF,SAAOH,EAAEE,aAAF,GAAkBD,EAAEC,aAA3B;AACD;;IAEKE,O;AACJ,mBAAYrD,IAAZ,EAA6B;AAAA,QAAXhP,IAAW,uEAAJ,EAAI;AAAA;;AAC3B,QAAIsI,IAAIsC,MAAJ,KAAeyH,OAAnB,EACE,6CAA2C,KAAKxH,WAAL,CAAiBlI,IAA5D;AACF,SAAK2P,KAAL,GAAatD,IAAb;AACA,SAAKuD,KAAL,GAAavS,IAAb;AACD;;;;;;AAuBD;2BACOyB,G,EAAK;AACV,YAAM,IAAIiD,KAAJ,CAAU,wCAAV,CAAN;AACD;;AAED;;;;8BACUjD,G,EAAK;AACb,YAAM,IAAIiD,KAAJ,CAAU,wCAAV,CAAN;AACD;;AAED;;;;0BACK8N,Q,EAAU;AACb,YAAM,IAAI9N,KAAJ,CAAU,wCAAV,CAAN;AACD;;AAED;;;;gCACY+N,W,EAAa;AACvB,YAAM,IAAI/N,KAAJ,CAAU,wCAAV,CAAN;AACD;;;8BAES;AACR,aAAO,CAAC,EAAD,EAAK,aAAL,EAAoB,YAApB,EAAkC,YAAlC,EAAgD,cAAhD,EACC,cADD,EACiB,YADjB,EAC+B,aAD/B,CAAP;AAED;;;+BAEU8N,Q,EAAU;AACnB,UAAME,SAAS,KAAKC,OAAL,EAAf;AADmB;AAAA;AAAA;;AAAA;AAEnB,wDAAkB,oBAAYH,QAAZ,CAAlB,4GAAyC;AAAA,cAA9BI,GAA8B;;AACvC,cAAMC,UAAUL,SAASI,GAAT,CAAhB;AACA,cAAIF,OAAOjM,OAAP,CAAeoM,QAAQA,OAAvB,MAAoC,CAAC,CAAzC,EACE,OAAO,IAAP;AACH;AANkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQnB,aAAO,KAAP;AACD;;;gCAEWJ,W,EAAa;AAAA;;AACvB,aAAO,KAAKK,WAAL,CACDL,YACGlM,MADH,CACU;AAAA,eAAKwM,EAAEZ,aAAF,IAAmB,CAAxB;AAAA,OADV,EAEG5L,MAFH,CAEU;AAAA,eAAK,CAAC,MAAKyM,UAAL,CAAgBD,EAAEF,OAAlB,CAAN;AAAA,OAFV,EAGG5H,IAHH,CAGQ+G,oBAHR,CADC,CAAP;AAMD;;AAED;;;;wBAlEW;AACT,aAAO,KAAKM,KAAZ;AACD;;;wBAEU;AACT,aAAO,KAAKC,KAAZ;AACD;;AAED;;;;gCACmBU,E,EAAI;AACrB,YAAM,IAAIvO,KAAJ,CAAU,wCAAV,CAAN;AACD;;;gCAEkB;AACjB,YAAM,IAAIA,KAAJ,CAAU,wCAAV,CAAN;AACD;;;iCAEmB;AAClB,YAAM,IAAIA,KAAJ,CAAU,wCAAV,CAAN;AACD;;;qCAgDuBwO,K,EAAO;AAC7B,YAAM,IAAIxO,KAAJ,CAAU,wCAAV,CAAN;AACD;;;;;IAGGyO,c;;;;;;;;;;2BAeG1R,G,EAAK;AACV,aAAOA,IAAI2R,KAAJ,KAAc,KAAKpE,IAAL,CAAUqE,SAAV,EAArB;AACD;;;8BAES5R,G,EAAK;AACb,aAAOA,IAAI6R,MAAJ,IAAc7R,IAAI8R,KAAJ,GAAY,CAAjC;AACD;;;0BAEK9R,G,EAAK;AACT,aAAOA,IAAI8R,KAAX;AACD;;;0BAEIf,Q,EAAU;AACb,UAAI/S,MAAM,CAAV;AADa;AAAA;AAAA;;AAAA;AAEb,yDAAkB,oBAAY+S,QAAZ,CAAlB,iHAAyC;AAAA,cAA9BI,GAA8B;;AACvC,cAAMC,UAAUL,SAASI,GAAT,CAAhB;AACA,cAAIC,QAAQA,OAAR,KAAoB,aAAxB,EAAuC;AACrC,mBAAO;AACdO,qBAAO,CADO,EACJE,QAAQ,KADJ,EACWE,SAAS,CADpB,EACuBD,OAAO;AAD9B,aAAP;AAGD;;AAED9T,iBAAOoT,QAAQA,OAAR,KAAoB,YAApB,GACH,CADG,GAEH,CAFJ;AAGD;AAbY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAeb,aAAO;AACVO,eAAOK,SAAShU,MAAM,KAAKuP,IAAL,CAAUqE,SAAV,EAAf,EAAsC,EAAtC,CADG,EACwCG,SAAS,CADjD,EACoDF,QAAQ,IAD5D,EACkEC,OAAO;AADzE,OAAP;AAGD;;;gCAEWd,W,EAAa;AACvBA,kBAAYxH,IAAZ,CAAiB+G,oBAAjB;;AAEA,UAAIuB,QAAQ,CAAZ;AACA,UAAIC,UAAU,CAAd;AAJuB,UAKfxT,IALe,GAKN,IALM,CAKfA,IALe;AAAA;AAAA;AAAA;;AAAA;;AAOvB,yDAAyByS,WAAzB,iHAAsC;AAAA,cAA3BiB,UAA2B;;AACpC,cAAMC,aAAa,KAAKC,IAAL,CAAUF,WAAWb,OAArB,CAAnB;AACA,cAAI,CAACc,WAAWL,MAAhB,EAAwB;AACtB,gBAAIK,WAAWP,KAAX,KAAqB,CAAzB,EAA4B;AAC1BI,yBAAWxT,KAAKwT,OAAL,IAAgB,EAA3B;AACAD;AACD,aAHD,MAGO;AACL,qBAAO;AACLH,uBAAOO,WAAWP,KADb;AAELI,yBAASA,UAAUE,WAAWvB,aAFzB;AAGLmB,wBAAQ,IAHH;AAILC;AAJK,eAAP;AAMD;AACF;AACF;AAtBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwBvB,aAAO;AACXH,eAAO,CADI,EACDI,SAAS,CADR,EACWF,QAAQ,KADnB,EAC0BC;AAD1B,OAAP;AAGD;;;;;AAxEC;gCACiBN,E,EAAI;AACrB,aAAO,IAAP;AACD;;;gCAEkB;AACjB,aAAO,IAAP;AACD;;;iCAEmB;AAClB,aAAO,IAAP;AACD;;;qCA+DuBC,K,EAAO;AAC7B,aAAOA,MAAMW,MAAN,CAAa,UAACC,GAAD,EAAM1D,GAAN;AAAA,eAAe;AACjCgD,iBAAOU,IAAIV,KAAJ,GAAYhD,IAAIgD,KADU;AAEjCI,mBAASM,IAAIN,OAAJ,GAAcpD,IAAIoD;AAFM,SAAf;AAAA,OAAb,EAGH,EAAEJ,OAAO,CAAT,EAAYI,SAAS,CAArB,EAHG,CAAP;AAID;;;EAjF0BnB,O;;IAoFvB0B,W;;;;;;;;;;2BAeGtS,G,EAAK;AACV,aAAOA,IAAI2R,KAAJ,GAAY,CAAnB;AACD;;;8BAES3R,G,EAAK;AACb,aAAOA,IAAI6R,MAAJ,IAAc7R,IAAI8R,KAAJ,GAAY,CAAjC;AACD;;;0BAEK9R,G,EAAK;AACT,aAAOA,IAAI8R,KAAX;AACD;;;0BAEIf,Q,EAAU;AACb,UAAI/S,MAAM,CAAV;AADa;AAAA;AAAA;;AAAA;AAEb,yDAAkB,oBAAY+S,QAAZ,CAAlB,iHAAyC;AAAA,cAA9BI,GAA8B;;AACvC,cAAMC,UAAUL,SAASI,GAAT,CAAhB;AACA,cAAIC,QAAQA,OAAR,KAAoB,aAAxB,EAAuC;AACrC,mBAAO;AACdO,qBAAO,CADO,EACJE,QAAQ,KADJ,EACWE,SAAS,CADpB,EACuBD,OAAO;AAD9B,aAAP;AAGD;;AAED9T,iBAAOoT,QAAQA,OAAR,KAAoB,YAApB,GACH,CADG,GAEH,CAFJ;AAGD;AAbY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAeb,aAAO;AACXO,eAAO3T,GADI,EACC+T,SAAS,CADV,EACaF,QAAQ,IADrB,EAC2BC,OAAO;AADlC,OAAP;AAGD;;;gCAEWd,W,EAAa;AACvBA,kBAAYxH,IAAZ,CAAiB+G,oBAAjB;;AAEA,UAAIuB,QAAQ,CAAZ;AACA,UAAIC,UAAU,CAAd;AAJuB,UAKfxT,IALe,GAKN,IALM,CAKfA,IALe;AAAA;AAAA;AAAA;;AAAA;;AAOvB,yDAAyByS,WAAzB,iHAAsC;AAAA,cAA3BiB,UAA2B;;AACpC,cAAMC,aAAa,KAAKC,IAAL,CAAUF,WAAWb,OAArB,CAAnB;AACA,cAAIc,WAAWL,MAAf,EAAuB;AACrB,gBAAIK,WAAWP,KAAX,KAAqB,CAAzB,EAA4B;AAC1BI,yBAAWxT,KAAKwT,OAAL,IAAgB,EAA3B;AACAD;AACD,aAHD,MAGO;AACL,qBAAO;AACLH,uBAAO,CADF;AAELI,yBAASA,UAAUE,WAAWvB,aAFzB;AAGLmB,wBAAQ,IAHH;AAILC;AAJK,eAAP;AAMD;AACF;AACF;AAtBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwBvB,aAAO;AACXH,eAAO,CADI,EACDI,SAAS,CADR,EACWF,QAAQ,KADnB,EAC0BC;AAD1B,OAAP;AAGD;;;;;AAxED;gCACmBN,E,EAAI;AACrB,aAAO,IAAP;AACD;;;gCAEkB;AACjB,aAAO,KAAP;AACD;;;iCAEmB;AAClB,aAAO,IAAP;AACD;;;qCA+DuBC,K,EAAO;AAC7B,aAAOA,MAAMW,MAAN,CAAa,UAACC,GAAD,EAAM1D,GAAN;AAAA,eAAe;AACjCgD,iBAAOU,IAAIV,KAAJ,GAAYhD,IAAIgD,KADU;AAEjCI,mBAASM,IAAIN,OAAJ,GAAcpD,IAAIoD;AAFM,SAAf;AAAA,OAAb,EAGH,EAAEJ,OAAO,CAAT,EAAYI,SAAS,CAArB,EAHG,CAAP;AAID;;;EAjFuBnB,O;;AAoF1BrT,OAAOC,OAAP,GAAiB;AACb+U,YAAU3B,OADG;AAEbc,gCAFa;AAGbY;AAHa,CAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClQA;;;;AAIA,IAAMjV,KAAK,mBAAAD,CAAQ,EAAR,CAAX;AACA,IAAMoV,MAAM,mBAAApV,CAAQ,EAAR,CAAZ;AACA,IAAMqV,MAAM,mBAAArV,CAAQ,EAAR,CAAZ;AACAqV,IAAIC,kBAAJ;;AAEA,IAAMvV,OAAO,mBAAAC,CAAQ,CAAR,CAAb;;AAEA,IAAMgO,cAAc,mBAAAhO,CAAQ,EAAR,CAApB;;AAEA,IAAMuV,cAAc;AAClB5D,OAAK,IADa;AAElB6D,iBAAe,EAFG;AAGlBC,mBAAiB,CAHC;AAIlBC,kBAAgB,EAJE;AAKlBC,eAAa,EALK;AAMlBC,eAAa,GANK;AAOlBC,gBAAc,EAPI;AAQlBC,iBAAe,CARG;AASlBC,gBAAc,KAAK,EATD;AAUlBC,YAAU,MAVQ;AAWlBC,gBAAclW,KAAKqB,OAAL,CAAa,wBAAb,CAXI;AAYlB8U,qBAAmB,EAZD;AAalBC,YAAU;AAbQ,CAApB;;IAgBMC,a;AACJ,2BAAuB;AAAA,QAAXC,IAAW,uEAAJ,EAAI;AAAA;;AACrB,SAAKtW,IAAL,GAAYsV,IAAIiB,OAAJ,CAAY,EAAEC,QAAQ,YAAV,EAAwBC,eAAe,IAAvC,EAAZ,EAA2D1S,IAAvE;AACA,SAAK2S,GAAL,GAAW,mBAAX;AACA,SAAKJ,IAAL,GAAYA,IAAZ;AACD;;;;sCAEiB;AAChB,UAAIK,OAAO,GAAX;AACA,UAAI9V,MAAM,EAAV;AAFgB;AAAA;AAAA;;AAAA;AAGhB,wDAA2B,KAAK6V,GAAhC,4GAAqC;AAAA;AAAA,cAAzB1C,GAAyB;AAAA,cAApB4C,KAAoB;;AACnC,cAAIA,QAAQD,IAAZ,EACE9V,MAAM,EAAN;AACF,cAAI+V,SAASD,IAAb,EAAmB;AACjBA,mBAAOC,KAAP;AACA/V,gBAAI8B,IAAJ,CAASqR,GAAT;AACD;AACF;AAVe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYhB,UAAI;AACF,YAAInT,IAAI0B,MAAJ,GAAa,CAAjB,EAAoB;AAClB,cAAMsU,MAAMlF,KAAKmF,MAAL,KAAgBjW,IAAI0B,MAApB,GAA6B,CAAzC;AACA,cAAM7B,IAAI,KAAKqW,WAAL,CAAiBlW,IAAIgW,GAAJ,CAAjB,CAAV;AACA3W,aAAG8W,UAAH,CAActW,CAAd;AACA,eAAKgW,GAAL,CAASO,MAAT,CAAgBpW,IAAIgW,GAAJ,CAAhB;AACA,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD,OATD,CASE,OAAOK,EAAP,EAAW;AACX,eAAO,KAAP;AACD;AACF;;;kCAEa;AACZ,aAAO,KAAKR,GAAL,CAASJ,IAAT,IAAiB,KAAKA,IAA7B,EAAmC;AACjC,YAAI,CAAC,KAAKa,eAAL,EAAL,EACE;AACH;AACF;;;yBAEIzW,C,EAAG;AACN,UAAM0W,KAAKzF,KAAK0F,GAAL,CAAS,KAAKX,GAAL,CAASlR,GAAT,CAAa9E,CAAb,KAAmB,CAA5B,EAA+B,CAA/B,IAAoC,CAA/C;AADM;AAAA;AAAA;;AAAA;AAEN,yDAA2B,KAAKgW,GAAhC;AAAA;AAAA,cAAY1C,GAAZ;AAAA,cAAiB4C,KAAjB;;AACE,eAAKF,GAAL,CAASY,GAAT,CAAatD,GAAb,EAAkB4C,QAAQ,CAA1B;AADF;AAFM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKN,WAAKF,GAAL,CAASY,GAAT,CAAa5W,CAAb,EAAgB0W,EAAhB;AACD;;;kCAEa1W,C,EAAG6W,E,EAAI;AAAA;;AACnB,UAAMC,cAActX,GAAGuX,iBAAH,CAAqBzX,KAAKgN,IAAL,CAAU,KAAKhN,IAAf,EAAqBU,CAArB,CAArB,CAApB;AACA8W,kBAAYtM,EAAZ,CAAe,QAAf,EAAyB,YAAM;AAC7B,cAAKwM,WAAL;AACA,cAAKC,IAAL,CAAUjX,CAAV;AACA6W,WAAG,IAAH;AACD,OAJD;;AAMAC,kBAAYtM,EAAZ,CAAe,OAAf,EAAwB,UAAC1J,GAAD,EAAS;AAC/B+V,WAAG,IAAH;AACD,OAFD;;AAIA,aAAOC,WAAP;AACD;;;gCAEW9W,C,EAAGkX,C,EAAG;AAChBvC,UAAIwC,QAAJ,CAAaD,CAAb,EAAgB,KAAKb,WAAL,CAAiBrW,CAAjB,CAAhB;AACA,WAAKgX,WAAL;AACA,WAAKC,IAAL,CAAUjX,CAAV;AACD;;;2BAEMA,C,EAAG;AACR,aAAO,KAAKgW,GAAL,CAASA,GAAT,CAAahW,CAAb,CAAP;AACD;;;gCAEWA,C,EAAG;AACb,aAAOV,KAAKqB,OAAL,CAAa,KAAKrB,IAAlB,EAAwBU,CAAxB,CAAP;AACD;;;;;IAGGoX,gB;AACJ,4BAAYxT,EAAZ,EAAgByT,OAAhB,EAAyB;AAAA;;AACvB,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAK3T,EAAL,GAAUA,EAAV;AACA,SAAK4T,KAAL,GAAa,IAAI7B,aAAJ,EAAb;;AAEA,SAAK0B,OAAL,GAAeA,OAAf;AACA,QAAIzT,EAAJ,EACE,KAAK6T,KAAL,GAAa,IAAIlK,WAAJ,CAAgB3J,EAAhB,EAAoB,aAApB,CAAb;AACH;;;;mCAEc;AACb,UAAMzD,MAAM,KAAKoX,aAAL,EAAZ;AACA,WAAKA,aAAL,IAAsBzC,YAAYC,aAAlC;AACA,aAAO5U,MAAM2U,YAAYC,aAAzB;AACD;;;;;AAGHrV,OAAOC,OAAP,GAAiB;AACfyX,oCADe;AAEftC;AAFe,CAAjB,C;;;;;;AC9HA,qC;;;;;;;;;;;;;;;;ACAA,IAAI4C,MAAM,mBAAAnY,CAAQ,EAAR,CAAV;AACA,IAAI4O,OAAOxL,QAAQI,GAAR,CAAY4U,IAAZ,IAAoB,IAA/B;;AAEAD,IAAIE,MAAJ,CAAWzJ,IAAX,EAAiB,YAAM;AACrB5M,UAAQC,GAAR,uCAAgD2M,IAAhD;AACD,CAFD,E;;;;;;;;;;;;;;;ACHA,IAAM3F,UAAU,mBAAAjJ,CAAQ,CAAR,CAAhB;AACA,IAAMgI,UAAU,mBAAAhI,CAAQ,EAAR,CAAhB;AACA,IAAMsY,aAAa,mBAAAtY,CAAQ,EAAR,EAAyBgI,OAAzB,CAAnB;AACA,IAAM9H,WAAW,mBAAAF,CAAQ,CAAR,CAAjB;AACA,IAAMD,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMuY,UAAU,mBAAAvY,CAAQ,EAAR,CAAhB;AACA,IAAMqD,SAAS,mBAAArD,CAAQ,EAAR,CAAf;AACA,IAAMwY,eAAe,mBAAAxY,CAAQ,EAAR,CAArB;AACA,IAAMyY,aAAa,mBAAAzY,CAAQ,EAAR,CAAnB;AACA,IAAM0Y,SAAS,mBAAA1Y,CAAQ,EAAR,CAAf;AACA,IAAM2Y,QAAQ,mBAAA3Y,CAAQ,EAAR,CAAd;AACA,IAAMkJ,SAASD,QAAQE,MAAR,EAAf;AACA;AACA,IAAMyP,UAAU,mBAAA5Y,CAAQ,EAAR,CAAhB;AACA,IAAM6Y,YAAY,mBAAA7Y,CAAQ,EAAR,CAAlB;;AAEA;AACA,mBAAAA,CAAQ,EAAR;;AAEA,IAAMmY,MAAMlP,SAAZ;AACA,IAAM6P,SAAS,mBAAA9Y,CAAQ,EAAR,CAAf;AACA,IAAM+G,QAAQ,mBAAA/G,CAAQ,EAAR,CAAd;AACA,IAAMiE,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;;AAEAmY,IAAIpK,GAAJ,CAAQ9E,QAAQ8P,MAAR,CAAehZ,KAAKgN,IAAL,CAAU/I,SAAV,EAAqB,QAArB,CAAf,CAAR;;AAEA;AACA;AACAmU,IAAIpK,GAAJ,CAAQ/F,QAAQ;AACdjC,UAAQ,iBADM;AAEdiT,UAAQ,KAFM;AAGdC,qBAAmB,KAHL;AAIdxL,SAAO,IAAI6K,UAAJ,CAAe,EAAEY,oBAAoB7U,EAAtB,EAAf;AAJO,CAAR,CAAR;;AAOA;AACA8T,IAAId,GAAJ,CAAQ,OAAR,EAAiBtX,KAAKgN,IAAL,CAAU/I,SAAV,EAAqB,OAArB,CAAjB;AACAmU,IAAId,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;;AAEA;AACA;AACAc,IAAIpK,GAAJ,CAAQ1K,OAAO,KAAP,CAAR;AACA8U,IAAIpK,GAAJ,CAAQ0K,WAAWlR,IAAX,EAAR;AACA4Q,IAAIpK,GAAJ,CAAQ0K,WAAWU,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACAjB,IAAIpK,GAAJ,CAAQyK,cAAR;AACAL,IAAIpK,GAAJ,CAAQ2K,QAAR;AACAP,IAAIpK,GAAJ,CAAQ4K,OAAR;AACA;;AAEA;AACAR,IAAIpK,GAAJ,CAAQ,UAAC1I,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC1BhF,MAAIyY,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAzY,MAAIyY,MAAJ,CAAW,8BAAX,EAA2C,+DAA3C;AACAzY,MAAIyY,MAAJ,CAAW,kCAAX,EAA+C,MAA/C;AACAzY,MAAIyY,MAAJ,CAAW,+BAAX,EAA4C,eAA5C;AACA,MAAIhU,IAAIiU,MAAJ,KAAe,SAAnB,EACE,OAAO1Y,IAAImI,UAAJ,CAAe,GAAf,CAAP;AACFnD;AACD,CARD;;AAUA;AACAuS,IAAIpK,GAAJ,CAAQhH,MAAMpB,UAAN,CAAiB;AACvBtB,QADuB;AAEvB4B,iBAAe,QAFQ;AAGvBE,kBAAgB,QAHO;AAIvBhB,SAAOlB,OAAO3D,IAJS;AAKvBwG,UAAQ,gBAACpC,IAAD,EAAU;AAChB,QAAMO,QAAQ,EAAd;AACA,QAAIP,KAAKiD,IAAT,EACE1C,MAAMvC,IAAN,CAAWgC,KAAKiD,IAAhB;AACF,QAAI,CAACjD,KAAKkL,OAAV,EACE3K,MAAMvC,IAAN,CAAW,MAAX;AACF,WAAOuC,KAAP;AACD,GAZsB;AAavB4B,cAAY,oBAACnC,IAAD,EAAOW,GAAP;AAAA,WAAeX,KAAK6U,cAAL,CAAoBlU,IAAIkB,WAAJ,EAApB,CAAf;AAAA,GAbW;AAcvBC,oBAAkB,0BAACrB,KAAD,EAAQE,GAAR;AAAA,WAAgBA,IAAIgB,WAAJ,MAAqBhB,IAAIkB,WAAJ,EAArB,KAC1B,CAAClB,IAAIiB,IAAJ,CAASsJ,OAAV,IAAqB1P,SAASyE,KAAT,CAAeC,QAAf,CAAwB4U,OAAxB,CAAgCnU,IAAIiB,IAAJ,CAASsJ,OAAzC,CADK,CAAhB;AAAA,GAdK;AAgBvBnJ,YAAU,kBAACtB,KAAD,EAAQE,GAAR,EAAgB;AAAA,QAChBlE,IADgB,GACPkE,IAAI0B,KADG,CAChB5F,IADgB;;AAExB,QAAMuF,KAAK,EAAX;AACAA,OAAGvF,KAAKgF,cAAR,IAA0Bd,IAAIgB,WAAJ,EAA1B;AACAK,OAAGkJ,OAAH,GAAavK,IAAIiB,IAAJ,CAASsJ,OAAT,IAAoB,IAAjC;AACA,WAAOlJ,EAAP;AACD;AAtBsB,CAAjB,CAAR;;AAyBA;AACAyR,IAAIpK,GAAJ,CAAQ,GAAR,EAAa+K,MAAb;;AAEA,IAAMW,gBAAgB;AACpBC,iBAAe,IADK;AAEpBC,oBAAkB,IAFE;AAGpB3Q,oBAAkB,KAHE;AAIpB4Q,iBAAe,uBAACvU,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACjC,QAAIP,IAAIiB,IAAJ,CAASN,EAAb,EACEX,IAAIiB,IAAJ,CAAS/B,GAAT,GAAec,IAAIiB,IAAJ,CAASN,EAAxB;AACF,QAAIX,IAAIkE,MAAJ,CAAWvD,EAAf,EACEX,IAAIkE,MAAJ,CAAWhF,GAAX,GAAiBc,IAAIkE,MAAJ,CAAWvD,EAA5B;AACF,QAAIX,IAAIwU,KAAJ,CAAU7T,EAAd,EACEX,IAAIwU,KAAJ,CAAUtV,GAAV,GAAgBc,IAAIwU,KAAJ,CAAU7T,EAA1B;AACF,QAAIX,IAAIwU,KAAJ,CAAUA,KAAV,IAAmBxU,IAAIwU,KAAJ,CAAUA,KAAV,CAAgB7T,EAAvC,EACEX,IAAIwU,KAAJ,CAAUA,KAAV,CAAgBtV,GAAhB,GAAsBc,IAAIwU,KAAJ,CAAUA,KAAV,CAAgB7T,EAAtC;;AAEF;;;;;;;;;;AAUA;;;;;;;;AAQAe,UAAMyB,MAAN,CAAa,MAAb,EAAqBnD,GAArB,EAA0BzE,GAA1B,EAA+BgF,IAA/B;AACD,GAjCmB;AAkCpBkU,YAAU,kBAACzU,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC5B,QAAMhE,SAASyD,IAAI0U,GAAJ,CAAQnY,MAAvB;AACA,QAAMoY,aAAa3U,IAAI0U,GAAJ,CAAQC,UAA3B;;AAEA,QAAMC,WAAW,SAAXA,QAAW,CAACvP,KAAD,EAAW;AAC1B,UAAIA,SAASA,MAAMnG,GAAnB,EACE,kCAAYmG,KAAZ,EAAsB,EAAE1E,IAAI0E,MAAMnG,GAAZ,EAAtB;AACF,aAAOmG,KAAP;AACD,KAJD;;AAMA,QAAIrI,MAAM8E,OAAN,CAAcvF,MAAd,CAAJ,EACEhB,IAAI0G,MAAJ,CAAW0S,UAAX,EAAuBzS,IAAvB,CAA4B3F,OAAOiL,GAAP,CAAWoN,QAAX,CAA5B,EADF,KAGErZ,IAAI0G,MAAJ,CAAW0S,UAAX,EAAuBzS,IAAvB,CAA4B0S,SAASrY,MAAT,CAA5B;AACH;AAhDmB,CAAtB;;AAmDAgX,QAAQsB,KAAR,CAAchR,MAAd,EAAsBjF,OAAOzD,OAA7B,yBAA2C,EAAEsD,MAAM,UAAR,EAA3C,EAAoE2V,aAApE;AACAb,QAAQsB,KAAR,CAAchR,MAAd,EAAsBjF,OAAO3D,IAA7B,yBAAwC,EAAEwD,MAAM,OAAR,EAAiBqW,kBAAkB,KAAnC,EAAxC,EAAuFV,aAAvF;AACAb,QAAQsB,KAAR,CAAchR,MAAd,EAAsBjF,OAAO1D,UAA7B,yBAA8C,EAAEuD,MAAM,aAAR,EAA9C,EAA0E2V,aAA1E;AACAb,QAAQsB,KAAR,CAAchR,MAAd,EAAsBjF,OAAO5D,OAA7B,yBAA2C,EAAEyD,MAAM,UAAR,EAAoBqW,kBAAkB,KAAtC,EAA3C,EAA6FV,aAA7F;;AAEA;AACAvQ,OAAO6E,GAAP,CAAW,SAAX,EAAsB8K,SAAtB;;AAEAV,IAAIpK,GAAJ,CAAQ7E,MAAR;;AAEA;AACAiP,IAAIpK,GAAJ,CAAQ,UAAC1I,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC1B,MAAMrE,MAAM,IAAIsE,KAAJ,CAAU,WAAV,CAAZ;AACAtE,MAAI+F,MAAJ,GAAa,GAAb;AACA1B,OAAKrE,GAAL;AACD,CAJD;;AAMA;;AAEA;AACA;AACA,IAAI4W,IAAI5S,GAAJ,CAAQ,KAAR,MAAmB,aAAvB,EAAsC;AACpC4S,MAAIpK,GAAJ,CAAQ,UAACxM,GAAD,EAAM8D,GAAN,EAAWzE,GAAX,EAAgBgF,IAAhB,EAAyB;AAC/BhF,QAAI0G,MAAJ,CAAW/F,IAAI+F,MAAJ,IAAc,GAAzB;AACA1G,QAAIwZ,MAAJ,CAAW,OAAX,EAAoB;AAClB/S,eAAS9F,IAAI8F,OADK;AAElBG,aAAOjG;AAFW,KAApB;AAID,GAND;AAOD;;AAED;AACA;AACA4W,IAAIpK,GAAJ,CAAQ,UAACxM,GAAD,EAAM8D,GAAN,EAAWzE,GAAX,EAAgBgF,IAAhB,EAAyB;AAC/BhF,MAAI0G,MAAJ,CAAW/F,IAAI+F,MAAJ,IAAc,GAAzB;AACA1G,MAAIwZ,MAAJ,CAAW,OAAX,EAAoB;AAClB/S,aAAS9F,IAAI8F,OADK;AAElBG,WAAO;AAFW,GAApB;AAID,CAND;;AAQArH,OAAOC,OAAP,GAAiB+X,GAAjB,C;;;;;;;ACrLA,4C;;;;;;ACAA,0C;;;;;;ACAA,0C;;;;;;ACAA,mC;;;;;;ACAA,0C;;;;;;ACAA,wC;;;;;;ACAA,mC;;;;;;ACAA,0C;;;;;;ACAA,qD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;AAGA,IAAMlP,UAAU,mBAAAjJ,CAAQ,CAAR,CAAhB;AACA,IAAMkJ,SAASD,QAAQE,MAAR,EAAf;AACA,IAAMpJ,OAAO,mBAAAC,CAAQ,CAAR,CAAb;;AAEA,IAAME,WAAW,mBAAAF,CAAQ,CAAR,CAAjB;AACA,IAAMiE,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;IACQK,O,GAAkB4D,M,CAAlB5D,O;IAASC,I,GAAS2D,M,CAAT3D,I;;eACY,mBAAAN,CAAQ,EAAR,C;IAArBoJ,gB,YAAAA,gB;;IACAxE,Q,GAAa1E,SAASyE,K,CAAtBC,Q;;;AAER,SAASyV,kBAAT,CAA4B9Y,GAA5B,EAAiC8D,GAAjC,EAAsCzE,GAAtC,EAA2CgF,IAA3C,EAAiD;AAC/ChF,MAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAOjG,GAAT,EAArB;AACD;;AAED,IAAM+Y,mBACA,gEADN;;AAGApR,OAAOI,IAAP,CAAY,eAAZ;AAAA,wEAA6B,iBAAOjE,GAAP,EAAYzE,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC3B;AAD2B,6BAEC,sBAAc,EAAd,EAAkB,EAAE2Z,UAAU,KAAZ,EAAlB,EAAuClV,IAAIiB,IAA3C,CAFD,EAEnBkU,KAFmB,kBAEnBA,KAFmB,EAEZD,QAFY,kBAEZA,QAFY;;AAI3B;;AAJ2B;AAAA,mBAKL,kBAAQ3O,GAAR,CAAY4O,MAAM3N,GAAN,CAAU;AAAA,qBAAK,sBAAY,UAACzL,OAAD,EAAa;AACxE;AACA,oBAAMqZ,KAAK,sBAAc,EAAd,EAAkBC,CAAlB,EAAqB,EAAE9K,SAAShL,SAASS,IAAIkE,MAAJ,CAAWvD,EAApB,CAAX,EAArB,CAAX;AACA,oBAAMtB,OAAO,IAAIpE,IAAJ,CAASma,EAAT,CAAb;AACA,uBAAOna,KAAKsG,OAAL,CAAa,EAAE+T,QAAQjW,KAAKiW,MAAf,EAAuB/K,SAASlL,KAAKkL,OAArC,EAAb,EAA6D,UAACrO,GAAD,EAAMqZ,OAAN,EAAkB;AACpF,sBAAIrZ,GAAJ,EACE,OAAOH,QAAQG,GAAR,CAAP;;AAEF,sBAAI,CAACqZ,OAAL,EAAc;AACZ,2BAAOlW,KAAK0D,IAAL,CAAU,UAAC8C,IAAD,EAAU;AACzB,0BAAIA,IAAJ,EACE,OAAO9J,QAAQ8J,IAAR,CAAP;AACF,6BAAO9J,QAAQ,IAAR,CAAP;AACD,qBAJM,CAAP;AAKD,mBAND,MAMO,IAAI,CAACmZ,QAAL,EACL,OAAOnZ,QAAQ,KAAR,CAAP;;AAEF;AACA,yBAAOwZ,QAAQC,MAAR,CAAeJ,EAAf,EAAmB,UAACvP,IAAD,EAAU;AAClC,wBAAIA,IAAJ,EACE,OAAO9J,QAAQ8J,IAAR,CAAP;AACF,2BAAO9J,QAAQ,IAAR,CAAP;AACD,mBAJM,CAAP;AAKD,iBAnBM,CAAP;AAoBD,eAxBgD,CAAL;AAAA,aAAV,CAAZ,CALK;;AAAA;AAKrB0Z,mBALqB;AA+BrBC,iBA/BqB,GA+BbD,QAAQpT,MAAR,CAAe;AAAA,qBAAKsT,MAAM,IAAN,IAAcA,MAAM,KAAzB;AAAA,aAAf,CA/Ba;;AAAA,kBAgCvBD,MAAMzY,MAAN,GAAe,CAhCQ;AAAA;AAAA;AAAA;;AAAA,6CAiClB+X,mBAAmBU,MAAM,CAAN,CAAnB,EAA6B1V,GAA7B,EAAkCzE,GAAlC,CAjCkB;;AAAA;AAAA,6CAmCpBA,IAAIqa,IAAJ,CAAS,GAAT,CAnCoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;;AAsCA9a,OAAOC,OAAP,GAAiB8I,MAAjB,C;;;;;;AC1DA,2C;;;;;;;;;;;;;;;ACAA;;;AAGA,IAAIhJ,WAAW,mBAAAF,CAAQ,CAAR,CAAf;AACA,IAAIkb,eAAe,mBAAAlb,CAAQ,EAAR,EAAkCE,QAAlC,CAAnB;AACA,IAAIiE,SAASjE,SAASiE,MAAtB;;AAEAhE,OAAOC,OAAP,GAAiB,YAAM;AACnB,QAAGiE,GAAGJ,MAAH,CAAU5D,OAAb,EACI,OAAOgE,GAAGc,KAAH,CAAS,SAAT,CAAP;;AAEJ,QAAM3E,UAAU,mBAAAR,CAAQ,EAAR,GAAhB;;AAEA,QAAImb,iBAAiB,IAAIhX,MAAJ,CAAW;AAC5BiX,gBAAQ;AACJ5W,kBAAMC,MADF;AAEJK,sBAAU,IAFN;AAGJkK,mBAAO;AAHH,SADoB;AAM5BlF,iBAAS,EAACtF,MAAML,OAAOQ,KAAP,CAAaC,QAApB,EAA8BC,KAAK,SAAnC,EAA8CC,UAAU,IAAxD,EANmB;AAO5BuW,eAAO,EAAC7W,MAAMC,MAAP,EAAe6W,SAAS,KAAxB;AAPqB,KAAX,EAQlB,EAAC/W,KAAK,KAAN,EARkB,CAArB;;AAUA,QAAIgX,gBAAgB,IAAIpX,MAAJ,CAAW;AAC3BL,cAAM,EAACU,MAAMC,MAAP,EAAeqK,WAAW,CAA1B,EAA6BC,WAAW,EAAxC,EADqB;AAE3ByM,oBAAY,EAAChX,MAAMQ,IAAP,EAAaF,UAAU,IAAvB,EAFe;AAG3B2W,kBAAU,EAACjX,MAAMQ,IAAP,EAAaF,UAAU,IAAvB,EAHiB;AAI3BuL,iBAAS,EAAC7L,MAAMC,MAAP,EAAeK,UAAU,IAAzB,EAJkB;AAK3B0K,kBAAU;AACNhL,kBAAM,CAAC2W,cAAD,CADA;AAENO,sBAAU;AACNC,2BAAW,mBAASC,CAAT,EAAY;AACnB,wBAAG,CAACvZ,MAAM8E,OAAN,CAAcyU,CAAd,CAAJ,EAAsB,OAAO,KAAP;AACtB,wBAAIC,UAAUD,EAAE/O,GAAF,CAAM,UAACiP,GAAD,EAAS;AACzB,+BAAOA,IAAIV,MAAX;AACH,qBAFa,CAAd;;AAIA,2BAAO,kBAAQS,OAAR,EAAiBxF,IAAjB,IAAyBwF,QAAQvZ,MAAxC;AACH,iBARK;AASN+E,yBAAS;AATH;AAFJ,SALiB;AAmB3B0U,gBAAQC;AAnBmB,KAAX,CAApB;;AAsBAT,kBAAcnM,KAAd,CAAoB,EAACtL,MAAM,CAAP,EAApB;AACAyX,kBAAcnM,KAAd,CAAoB,EAACtL,MAAM,MAAP,EAApB;AACAyX,kBAAcU,MAAd,CAAqBf,YAArB;;AAEAK,kBAAcjM,GAAd,CAAkB,MAAlB,EAA0B,UAAS1J,IAAT,EAAc;AACpC,aAAK4J,QAAL,CAAcpD,IAAd,CAAmB,UAACgH,CAAD,EAAIC,CAAJ,EAAU;AACzB,gBAAI;AACA,uBAAQ,UAAC2H,CAAD,EAAIkB,CAAJ,EAAU;AACd,wBAAIC,KAAKvH,SAASoG,EAAE9X,KAAF,CAAQ,CAAR,CAAT,KAAwB,CAAjC;AACA,wBAAIkZ,KAAKxH,SAASsH,EAAEhZ,KAAF,CAAQ,CAAR,CAAT,KAAwB,CAAjC;;AAEA,wBAAG8X,EAAE,CAAF,KAAQkB,EAAE,CAAF,CAAX,EACI,OAAOC,KAAKC,EAAL,GAAU,CAAC,CAAX,GAAgBD,KAAKC,EAAL,GAAU,CAAV,GAAc,CAArC;;AAEJ,2BAAOpB,EAAE,CAAF,IAAOkB,EAAE,CAAF,CAAP,GAAc,CAAC,CAAf,GAAmB,CAA1B;AACH,iBARM,CAQJ9I,EAAEgI,MARE,EAQM/H,EAAE+H,MARR,CAAP;AASH,aAVD,CAUE,OAAMnE,EAAN,EAAS;AACP,uBAAO,KAAP;AACH;AACJ,SAdD;;AAgBArR;AACH,KAlBD;;AAoBA2V,kBAAcc,OAAd,CAAsBC,UAAtB,GAAmC,YAAU;AACzC,eAAO,KAAKd,UAAL,CAAgBjI,OAAhB,MAA6BvO,KAAKkD,GAAL,EAApC;AACH,KAFD;;AAIAqT,kBAAcc,OAAd,CAAsBE,QAAtB,GAAiC,YAAU;AACvC,eAAO,KAAKd,QAAL,CAAclI,OAAd,MAA2BvO,KAAKkD,GAAL,EAAlC;AACH,KAFD;;AAIAqT,kBAAcc,OAAd,CAAsBG,SAAtB,GAAkC,YAAU;AACxC,eAAO,KAAKF,UAAL,MAAqB,CAAC,KAAKC,QAAL,EAA7B;AACH,KAFD;;AAIAhB,kBAAcc,OAAd,CAAsBI,gBAAtB,GAAyC,YAAU;AAC/C,eAAO7H,SAAS,CAAC5P,KAAKkD,GAAL,KAAa,KAAKsT,UAAL,CAAgBjI,OAAhB,EAAd,IAA2C,EAA3C,GAAgD,IAAzD,CAAP;AACH,KAFD;;AAIAgI,kBAAcjM,GAAd,CAAkB,QAAlB,EAA4B,UAAS1J,IAAT,EAAe;AACvCvB,WAAGc,KAAH,CAAS,YAAT,EAAuBuD,MAAvB,CAA8B,EAAEkH,SAAS,KAAKrL,GAAhB,EAA9B,EAAqD,eAAO;AACzD,gBAAGhD,GAAH,EAAQS,QAAQwF,KAAR,CAAcjG,GAAd;AACV,SAFD;AAGA8C,WAAGc,KAAH,CAAS,MAAT,EAAiBuD,MAAjB,CAAwB,EAAEkH,SAAS,KAAKrL,GAAhB,EAAxB,EAA+C,eAAO;AACnD,gBAAGhD,GAAH,EAAQS,QAAQwF,KAAR,CAAcjG,GAAd;AACV,SAFD;AAGAqE;AACH,KARD;;AAWA,WAAOvB,GAAGc,KAAH,CAAS,SAAT,EAAoBoW,aAApB,CAAP;AACH,CA1FD,C;;;;;;ACPA,sD;;;;;;ACAA,mD;;;;;;;;;ACAA;;;AAGA,IAAIrb,WAAW,mBAAAF,CAAQ,CAAR,CAAf;AACA,IAAImE,SAASjE,SAASiE,MAAtB;AACA,IAAMuY,SAAS,mBAAA1c,CAAQ,EAAR,CAAf;;AAEAG,OAAOC,OAAP,GAAiB,YAAM;AACnB,QAAGiE,GAAGJ,MAAH,CAAU3D,IAAb,EACI,OAAO+D,GAAGc,KAAH,CAAS,MAAT,CAAP;;AAEJ,QAAIwX,aAAa,IAAIxY,MAAJ,CAAW;AACxBwW,gBAAQ;AACJnW,kBAAMC,MADF;AAEJqK,uBAAW,CAFP;AAGJC,uBAAW,EAHP;AAIJC,mBAAO,yBAJH;AAKJlK,sBAAU;AALN,SADgB;AAQxBhB,cAAM;AACFU,kBAAMC,MADJ;AAEFsK,uBAAW,EAFT;AAGFuM,qBAAS;AAHP,SARkB;AAaxBsB,qBAAYnY,MAbY;AAcxBoY,kBAAU,EAACrY,MAAMC,MAAP,EAdc;AAexBqY,eAAO;AACHtY,kBAAMC,MADH;AAEHsK,uBAAW;AACX;AAHG,SAfiB;AAoBxBa,iBAAS,EAACpL,MAAML,OAAOQ,KAAP,CAAaC,QAApB,EAA8BC,KAAK,SAAnC,EApBe;AAqBxBkY,oBAAY,EAACvY,MAAMwX,OAAP,EAAgBV,SAAS,KAAzB,EArBY;AAsBxB3T,cAAM,EAACnD,MAAMC,MAAP,EAAe6W,SAAS,YAAxB;AAtBkB,KAAX,CAAjB;;AAyBAqB,eAAWvN,KAAX,CAAiB,EAACuL,QAAQ,CAAT,EAAY/K,SAAS,CAArB,EAAjB,EAA0C,EAACP,QAAQ,IAAT,EAA1C;AACAsN,eAAWvN,KAAX,CAAiB,EAACuL,QAAQ,MAAT,EAAiB7W,MAAM,MAAvB,EAAjB,EAAiD;AAC7CkZ,iBAAS;AACLrC,oBAAQ,CADH;AAEL7W,kBAAM;AAFD;AADoC,KAAjD;;AAOA6Y,eAAWrN,GAAX,CAAe,MAAf,EAAuB,UAAS1J,IAAT,EAAc;AACjC,YAAG,KAAKqX,UAAL,CAAgB,UAAhB,CAAH,EAA+B;AAC3B,iBAAKJ,QAAL,GAAgBH,OAAO,KAAKG,QAAZ,CAAhB;AACH;;AAEDjX;AACH,KAND;;AAQA+W,eAAWN,OAAX,CAAmB9C,cAAnB,GAAoC,UAAS2D,SAAT,EAAmB;AACnD,eAAO,KAAKL,QAAL,IAAiBH,OAAOQ,SAAP,CAAxB;AACH,KAFD;;AAIAP,eAAWrN,GAAX,CAAe,QAAf,EAAyB,UAAS1J,IAAT,EAAe;AACpCvB,WAAGc,KAAH,CAAS,YAAT,EAAuBuD,MAAvB,CAA8B,EAAEyU,UAAU,KAAK5Y,GAAjB,EAA9B,EAAsD,eAAO;AACzD,gBAAGhD,GAAH,EAAQS,QAAQwF,KAAR,CAAcjG,GAAd;AACX,SAFD;AAGAqE;AACH,KALD;;AAOA,WAAOvB,GAAGc,KAAH,CAAS,MAAT,EAAiBwX,UAAjB,CAAP;AACH,CAzDD,C;;;;;;ACPA,mC;;;;;;;;;;;;;;;ACAA;;;;AAIA,IAAMzc,WAAW,mBAAAF,CAAQ,CAAR,CAAjB;IACQmE,M,GAAWjE,Q,CAAXiE,M;;;AAER,IAAMiZ,kBAAkB;AACtBpJ,WAAS,EADa,EACTqJ,MAAM,EADG,EACCC,QAAQ,CAAC,CADV,EACa/I,OAAO;AADpB,CAAxB;;AAIA;AACApU,OAAOC,OAAP,GAAiB,YAAM;AACrB,MAAIiE,GAAGJ,MAAH,CAAU1D,UAAd,EACE,OAAO8D,GAAGc,KAAH,CAAS,YAAT,CAAP;;AAGF,MAAMoY,mBAAmB,IAAIpZ,MAAJ,CAAW;AAClCgZ,cAAU,EAAE3Y,MAAML,OAAOQ,KAAP,CAAaC,QAArB,EAA+BC,KAAK,MAApC,EAA4CC,UAAU,IAAtD,EADwB;AAElC8K,aAAS,EAAEpL,MAAML,OAAOQ,KAAP,CAAaC,QAArB,EAA+BC,KAAK,SAApC,EAFyB;AAGlCiF,aAAS,EAAEtF,MAAML,OAAOQ,KAAP,CAAaC,QAArB,EAA+BC,KAAK,SAApC,EAA+CC,UAAU,IAAzD,EAHyB;AAIlC0N,UAAM,EAAEhO,MAAMQ,IAAR,EAAcsW,SAAStW,KAAKkD,GAA5B,EAJ4B;AAKlCoL,mBAAe,EAAE9O,MAAMgZ,MAAR,EAAgBlC,SAAS,CAAzB,EALmB;AAMlCpR,cAAUzF,MANwB,EAMhB;AAClB2C,UAAM3C,MAP4B;AAQlCuP,aAAS7P,OAAOQ,KAAP,CAAawK;AARY,GAAX,CAAzB;;AAWAoO,mBAAiBnO,KAAjB,CAAuB,EAAEQ,SAAS,CAAX,EAAcuN,UAAU,CAAxB,EAAvB;AACAI,mBAAiBnO,KAAjB,CAAuB,EAAEQ,SAAS,CAAX,EAAc9F,SAAS,CAAvB,EAAvB;AACAyT,mBAAiBnO,KAAjB,CAAuB,EAAEQ,SAAS,CAAX,EAAc4C,MAAM,CAApB,EAAvB;AACA+K,mBAAiBnO,KAAjB,CAAuB,EAAEQ,SAAS,CAAX,EAAc0D,eAAe,CAA7B,EAAvB;AACAiK,mBAAiBnO,KAAjB,CAAuB,EAAEtF,SAAS,CAAX,EAAvB;AACAyT,mBAAiBnO,KAAjB,CAAuB,EAAE+N,UAAU,CAAZ,EAAvB;;AAEAI,mBAAiBjO,GAAjB,CAAqB,MAArB,EAA6B,UAAU1J,IAAV,EAAgB;AAAA;;AAC3C,QAAI,KAAKkE,OAAT,EAAkB;AAChBzF,SAAGc,KAAH,CAAS,SAAT,EAAoBsY,QAApB,CAA6B,KAAK3T,OAAlC,EAA2C4T,IAA3C,CAAgD,UAACnc,GAAD,EAAMuI,OAAN,EAAkB;AAChE,YAAIvI,GAAJ,EACEqE,KAAKrE,GAAL;AACF,cAAKyS,OAAL,GAAe,MAAKA,OAAL,IAAgB,EAA/B;AACA,YAAMpT,MAAM,EAAZ;AAJgE;AAAA;AAAA;;AAAA;AAKhE,0DAAmBkJ,QAAQoF,IAAR,CAAagC,QAAhC;AAAA,gBAAWxE,IAAX;;AACE9L,gBAAI8L,KAAK5I,IAAT,IAAiB,MAAKkQ,OAAL,CAAatH,KAAK5I,IAAlB,KAA2BsZ,eAA5C;AADF;AALgE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQhE,cAAKpJ,OAAL,GAAepT,GAAf;AACAgF;AACD,OAVD;AAWD;AACF,GAdD;;AAgBA,SAAOvB,GAAGc,KAAH,CAAS,YAAT,EAAuBoY,gBAAvB,CAAP;AACD,CAxCD,C;;;;;;;;;ACZA,IAAMtU,UAAU,mBAAAjJ,CAAQ,CAAR,CAAhB;AACA,IAAMD,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAME,WAAW,mBAAAF,CAAQ,CAAR,CAAjB;AACA;AACA,IAAMkJ,SAASD,QAAQE,MAAR,EAAf;AACA,IAAMlF,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;IACQM,I,GAAqB2D,M,CAArB3D,I;IAAMC,U,GAAe0D,M,CAAf1D,U;;eACe,mBAAAP,CAAQ,EAAR,C;IAArBoJ,gB,YAAAA,gB;;IACAxE,Q,GAAa1E,SAASyE,K,CAAtBC,Q;;;AAER,IAAM+Y,gBAAgB,iBAAtB;;AAEA,SAASC,eAAT,CAAyBrc,GAAzB,EAA8B8D,GAA9B,EAAmCzE,GAAnC,EAAwC;AACtCA,MAAI2G,IAAJ,CAAS,EAAEC,OAAOjG,GAAT,EAAT;AACD;;AAEDpB,OAAOC,OAAP,GAAiB8I,MAAjB,C;;;;;;;;;;;;;;;;;;;AChBA,IAAMD,UAAU,mBAAAjJ,CAAQ,CAAR,CAAhB;AACA,IAAMkJ,SAASD,QAAQE,MAAR,EAAf;AACA,IAAMpJ,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMiE,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;IACQQ,O,GAAqByD,M,CAArBzD,O;IAASH,O,GAAY4D,M,CAAZ5D,O;;;AAEjB,IAAMyL,UAAU,mBAAA9L,CAAQ,EAAR,EAA4ByM,aAA5C;AACA,IAAM8D,SAAS,mBAAAvQ,CAAQ,EAAR,CAAf;AACA,IAAMqK,QAAQ,mBAAArK,CAAQ,EAAR,CAAd;AACA,IAAM6d,MAAM,mBAAA7d,CAAQ,EAAR,CAAZ;AACA,IAAM4P,UAAU,mBAAA5P,CAAQ,EAAR,CAAhB;AACA,IAAM8d,QAAQ,mBAAA9d,CAAQ,EAAR,CAAd;AACA,IAAM+G,QAAQ,mBAAA/G,CAAQ,EAAR,CAAd;AACA,IAAM+d,WAAW,mBAAA/d,CAAQ,EAAR,CAAjB;;AAEA,SAASge,mBAAT,CAA6Bzc,GAA7B,EAAkC8D,GAAlC,EAAuCzE,GAAvC,EAA4CgF,IAA5C,EAAkD;AAChDhF,MAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAOjG,IAAIwG,QAAJ,EAAT,EAArB;AACD;;AAED;AACAmB,OAAO3D,GAAP,CAAW,GAAX,EAAgB,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAClChF,MAAIwZ,MAAJ,CAAW,OAAX;AACD,CAFD;;AAIAlR,OAAOI,IAAP,CAAY,aAAZ,EAA2BvC,MAAM8B,OAAN,EAA3B;AACAK,OAAOI,IAAP,CAAY,YAAZ,EAA0BvC,MAAMC,YAAN,CAAmB,CAAC,YAAD,EAAe,MAAf,CAAnB,CAA1B;;AAEAkC,OAAOI,IAAP,CAAY,aAAZ,EAA2BvC,MAAMyB,MAAN,CAAa,CAAC,MAAD,CAAb,CAA3B,EAAmD,UAACnD,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACrE,MAAI,CAACP,IAAI7D,KAAL,IAAc,CAAC6D,IAAI7D,KAAJ,CAAUsL,IAA7B,EACE,OAAOlM,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS,qCAAX,EAArB,CAAP;AACF7G,UAAQoG,OAAR,CAAgB,EAAErC,KAAKc,IAAIkE,MAAJ,CAAWvD,EAAlB,EAAhB,EAAwC,UAACzE,GAAD,EAAMuI,OAAN,EAAkB;AACxD,QAAIvI,GAAJ,EACE,OAAOX,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS9F,IAAIwG,QAAJ,EAAX,EAArB,CAAP;AACF,QAAI,CAAC+B,OAAL,EACE,OAAOlJ,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS,mBAAX,EAArB,CAAP;;AAEF,+DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACOyF,kBADP,GACczH,IAAI7D,KAAJ,CAAUsL,IADxB;AAGKqD,kBAHL,GAGY,IAHZ;AAIO1C,mBAJP,GAIe,IAAI3B,OAAJ,EAJf;AAAA;;AAMG2B,oBAAMwQ,OAAN,CAAcnR,KAAK/M,IAAnB;;AAEMme,mBART,GAQiB3N,OAAOL,UAAP,CAAkBzC,KAAlB,CARjB;;AAAA,oBASOyQ,UAAU,IATjB;AAAA;AAAA;AAAA;;AAAA,oBAUW,IAAIrY,KAAJ,CAAU,yBAAV,CAVX;;AAAA;;AAYGsK,qBAAO,IAAI+N,KAAJ,CAAUzQ,KAAV,EAAiBC,IAAjB,EAAP;AAZH;AAAA;;AAAA;AAAA;AAAA;AAAA,+CAcU9M,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS,YAAGU,QAAH,EAAX,EAArB,CAdV;;AAAA;AAAA,kBAiBMoI,IAjBN;AAAA;AAAA;AAAA;;AAAA,+CAkBUvP,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS,6BAAX,EAArB,CAlBV;;AAAA;;AAqBCrF,sBAAQC,GAAR,wBAAiC6K,KAAK/M,IAAtC;;AAEA2O,yBAAWyP,KAAX,CAAiBrR,KAAK/M,IAAtB,EAA4Bqe,IAA5B,CAAiC,UAACf,IAAD,EAAU;AACzCvT,wBAAQE,GAAR,GAAcqT,KAAKrT,GAAnB;AACAF,wBAAQoF,IAAR,GAAeiB,KAAKkO,MAAL,EAAf;;AAEA,oBAAIlO,KAAKmO,YAAL,EAAJ,EAAyB;AACvB5P,6BAAWyP,KAAX,CAAiB1Q,MAAMtB,aAAN,CAAoBgE,KAAKoO,YAAL,EAApB,CAAjB,EAA2DH,IAA3D,CAAgE,UAACI,aAAD,EAAmB;AACjF1U,4BAAQmF,YAAR,GAAuBuP,cAAcxU,GAArC;AACAqT,yBAAKpO,YAAL,GAAoBuP,cAAcxU,GAAlC;;AAEAF,4BAAQ1B,IAAR,CAAa,UAAC7G,GAAD,EAAS;AACpB,0BAAIA,GAAJ,EACE,OAAOX,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS9F,IAAIwG,QAAJ,EAAX,EAArB,CAAP;AACFnH,0BAAIqa,IAAJ,CAASoC,IAAT;AACD,qBAJD;AAKD,mBATD,EASGoB,KATH,CASS,UAACld,GAAD,EAAS;AAChBX,wBAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS9F,IAAIwG,QAAJ,EAAX,EAArB;AACD,mBAXD;AAYD,iBAbD,MAaO;AACL+B,0BAAQ1B,IAAR,CAAa,UAAC7G,GAAD,EAAS;AACpB,wBAAIA,GAAJ,EACE,OAAOX,IAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS9F,IAAIwG,QAAJ,EAAX,EAArB,CAAP;AACFnH,wBAAIqa,IAAJ,CAASoC,IAAT;AACD,mBAJD;AAKD;AACF,eAxBD,EAwBGoB,KAxBH,CAwBS,UAACld,GAAD,EAAS;AAChBX,oBAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,SAAS9F,IAAIwG,QAAJ,EAAX,EAArB;AACD,eA1BD;;AAvBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAmDD,GAzDD;AA0DD,CA7DD;;AA+DAmB,OAAO3D,GAAP,CAAW,eAAX,EAA4B,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC9CvF,UAAQqP,IAAR,CAAa,EAAEqM,QAAQ,KAAV,EAAb,EAAgC,UAACxa,GAAD,EAAMoO,QAAN,EAAmB;AACjD,QAAIpO,GAAJ,EACE,OAAOyc,oBAAoBzc,GAApB,EAAyB8D,GAAzB,EAA8BzE,GAA9B,CAAP;;AAEFA,QAAI2G,IAAJ,CAAS,EAAEoI,kBAAF,EAAT;AACD,GALD;AAMD,CAPD;;AASAzG,OAAO6E,GAAP,CAAW,UAAX,EAAuB6B,OAAvB;AACA1G,OAAO6E,GAAP,CAAW,QAAX,EAAqB+P,KAArB;;AAEA3d,OAAOC,OAAP,GAAiB8I,MAAjB,C;;;;;;ACtGA,kC;;;;;;ACAA,0C;;;;;;ACAA,yD;;;;;;ACAA,iC;;;;;;ACAA,0C;;;;;;ACAA,oC;;;;;;ACAA,0C;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;AAIA,IAAMmH,UAAU,mBAAArQ,CAAW,EAAX,CAAhB;AACA,IAAM0e,WAAW,mBAAA1e,CAAQ,EAAR,CAAjB;;IAEM+S,I;AACJ,gBAAY7D,IAAZ,EAAkB;AAAA;;AAChB,SAAKA,IAAL,GAAYA,IAAZ;AACD;;AAED;;AAEA;;;;;;;sCAGkB;AAChB,aAAOmB,QAAQ,KAAKnB,IAAL,CAAUmB,OAAlB,CAAP;AACD;;AAED;;;;;;iCAGa;AACX,aAAO,KAAK,KAAKsO,eAAL,EAAL,EAA6B,IAA7B,CAAP;AACD;;AAED;;;;;;;mCAIe;AACb,aAAO,KAAKzP,IAAL,CAAU0P,EAAjB;AACD;;AAED;;;;;;;iCAIa;AACX,aAAO,KAAK1P,IAAL,CAAU8C,OAAV,CAAkBjS,IAAzB;AACD;;AAED;;;;;;;yCAIqB;AACnB,aAAO,KAAKmP,IAAL,CAAU8C,OAAV,CAAkB9H,QAAzB;AACD;;AAED;;;;;;kCAGc;AACZ,aAAO,KAAKgF,IAAL,CAAUgC,QAAjB;AACD;;AAED;;;;;;uCAGmB;AACjB,UAAI;AACF,eAAO,KAAKhC,IAAL,CAAUgC,QAAV,CAAmB5O,MAA1B;AACD,OAFD,CAEE,OAAOuc,CAAP,EAAU;AACV,eAAO,CAAP;AACD;AACF;;AAED;;;;;;mCAGe;AACb,UAAI;AACF,eAAO,KAAK3P,IAAL,CAAU4C,MAAV,CAAiBU,IAAjB,GAAwB,IAA/B;AACD,OAFD,CAEE,OAAOqM,CAAP,EAAU;AACV,eAAO,GAAP;AACD;AACF;;;qCAEgB;AACf,aAAO,KAAK3P,IAAL,CAAU4C,MAAV,CAAiBU,IAAxB;AACD;;AAED;;;;;;qCAGiB;AACf,UAAI;AACF,eAAO,KAAKtD,IAAL,CAAU4C,MAAV,CAAiBY,MAAxB;AACD,OAFD,CAEE,OAAOmM,CAAP,EAAU;AACV,eAAO,GAAP;AACD;AACF;;;gCAEW;AACV,aAAO,KAAKxM,MAAL,IAAe,CAAtB;AACD;;AAED;;;;;;mCAGe;AACb,aAAO2J,QAAQ,KAAK9M,IAAL,CAAU2D,SAAlB,CAAP;AACD;;;mCAEc;AACb,UAAI,CAAC,KAAK3D,IAAL,CAAU2D,SAAf,EACE,OAAO,IAAP;AACF,aAAO,KAAK3D,IAAL,CAAU2D,SAAjB;AACD;;;6BAEQ;AACP,UAAMjS,MAAM8d,SAAS,KAAKxP,IAAd,CAAZ;AADO;AAAA;AAAA;;AAAA;AAEP,wDAAsBtO,IAAIsQ,QAA1B;AAAA,cAAWE,OAAX;;AACE,iBAAOA,QAAQI,SAAf;AADF;AAFO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIP,aAAO5Q,GAAP;AACD;;;;;AAGHT,OAAOC,OAAP,GAAiB,EAAE2S,UAAF,EAAjB,C;;;;;;ACzHA,qC;;;;;;ACAA,mC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,IAAMhT,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAME,WAAW,mBAAAF,CAAQ,CAAR,CAAjB;AACA,IAAM8e,SAAS,mBAAA9e,CAAQ,EAAR,CAAf;AACA,IAAM+e,WAAW,mBAAA/e,CAAQ,EAAR,CAAjB;AACA,IAAM+G,QAAQ,mBAAA/G,CAAQ,EAAR,CAAd;;AAEA,IAAMiJ,UAAU,mBAAAjJ,CAAQ,CAAR,CAAhB;AACA,IAAMkJ,SAASD,QAAQE,MAAR,EAAf;;AAEA,IAAMlF,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;;AAEA,IAAMgf,0BACA,oGADN;IAGE3e,O,GACE4D,M,CADF5D,O;IAASE,U,GACP0D,M,CADO1D,U;IAAYC,O,GACnByD,M,CADmBzD,O;IAASF,I,GAC5B2D,M,CAD4B3D,I;;;AAGhC,SAAS+Z,kBAAT,CAA4B9Y,GAA5B,EAAiC8D,GAAjC,EAAsCzE,GAAtC,EAA2CgF,IAA3C,EAAiD;AAC/ChF,MAAI0G,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAOjG,IAAIwG,QAAJ,EAAT,EAArB;AACD;;AAED,SAASkX,cAAT,CAAwBva,IAAxB,EAA8B;AAC5B,MAAI;AACF,WAAOrE,QAAQod,QAAR,CAAiB/Y,KAAKkL,OAAtB,CAAP;AACD,GAFD,CAEE,OAAOqH,EAAP,EAAW;AACX,WAAO,EAAEyG,MAAM;AAAA,eAAMpG,GAAGL,EAAH,CAAN;AAAA,OAAR,EAAP;AACD;AACF;;AAED;AACA/N,OAAO6E,GAAP,CAAWhH,MAAMyB,MAAN,CAAa,YAAb,CAAX;;AAEAU,OAAO3D,GAAP,CAAW,GAAX,EAAgB,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAClCqZ,iBAAe5Z,IAAI0B,KAAJ,CAAUrC,IAAzB,EAA+BwW,YAA/B,CAA4C,kBAA5C,EAAgE;AAC9DvR,cAAU,EAAC,oBAAoB,EAAEuV,QAAQF,uBAAV,EAArB;AADoD,GAAhE,EAEGtB,IAFH,CAEQ,UAACnc,GAAD,EAAMqO,OAAN,EAAkB;AACxB,QAAIrO,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAAP;AACF,QAAI,CAACgP,OAAL,EACE,OAAOyK,mBAAmB,sBAAnB,EAA2ChV,GAA3C,EAAgDzE,GAAhD,CAAP;;AAEF,QAAI,CAACgP,QAAQ0M,UAAR,EAAL,EACE1M,QAAQJ,QAAR,GAAmB,EAAnB;;AAEF,QAAM2P,wCAAiBvP,QAAQ3H,QAAR,EAAjB,EAAwC,EAAEmX,WAAW,uBAAeN,OAAOO,kBAAtB,CAAb,EAAxC,CAAN;;AAEA/e,SAAKoP,IAAL,CAAU,EAAEE,SAASA,QAAQ5J,EAAnB,EAAV,EAAmCkZ,MAAnC,CAA0C,0BAA1C,EAAsExB,IAAtE,CAA2E,UAACnc,GAAD,EAAM+d,KAAN,EAAgB;AACzF,UAAI/d,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAAP;AACF,UAAI0e,UAAU,IAAd,EACE,OAAOjF,mBAAmB,wBAAnB,EAA6ChV,GAA7C,EAAkDzE,GAAlD,CAAP;;AAEFA,UAAI2G,IAAJ,CAAS,EAAEgY,OAAOla,IAAI0B,KAAJ,CAAUrC,IAAV,CAAeH,GAAxB,EAA6B+a,YAA7B,EAAoC1P,SAASuP,UAA7C,EAAT;AACD,KAPD;AAQD,GArBD;AAsBD,CAvBD;;AAyBA;AACAjW,OAAO3D,GAAP,CAAW,KAAX,EAAkB,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACpCrF,aAAWmP,IAAX,CAAgB,EAAEE,SAASvK,IAAI0B,KAAJ,CAAUrC,IAAV,CAAekL,OAA1B,EAAmCuN,UAAU9X,IAAI0B,KAAJ,CAAUrC,IAAV,CAAeH,GAA5D,EAAhB,EACG6H,IADH,CACQ,OADR,EAEGsR,IAFH,CAEQ,UAACnc,GAAD,EAAMie,IAAN,EAAe;AACnB,QAAIje,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAAP;;AAEFA,QAAI2G,IAAJ,CAAS,EAAEgY,OAAOla,IAAI0B,KAAJ,CAAUrC,IAAV,CAAeH,GAAxB,EAA6BqP,aAAa4L,IAA1C,EAAT;AACD,GAPH;AAQD,CATD;;AAWAtW,OAAO3D,GAAP,CAAW,cAAX,EAA2B,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAC7CqZ,iBAAe5Z,IAAI0B,KAAJ,CAAUrC,IAAzB,EAA+BgZ,IAA/B,CAAoC,UAACnc,GAAD,EAAMqO,OAAN,EAAkB;AACpD,QAAIrO,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAAP;AACF,QAAI,CAACgP,OAAL,EACE,OAAOyK,mBAAmB,sBAAnB,EAA2ChV,GAA3C,EAAgDzE,GAAhD,CAAP;;AAEF,QAAI,CAACgP,QAAQ0M,UAAR,EAAL,EACE,OAAO1b,IAAI2G,IAAJ,CAAS,EAAEgY,OAAOla,IAAI0B,KAAJ,CAAUrC,IAAV,CAAeH,GAAxB,EAA6BqP,aAAa,EAA1C,EAAT,CAAP;;AAEFrT,eAAWmP,IAAX,CAAgB,EAAEE,SAASvK,IAAI0B,KAAJ,CAAUrC,IAAV,CAAekL,OAA1B,EAAhB,EAAqDxD,IAArD,CAA0D,OAA1D,EAAmE8S,MAAnE,CAA0E,OAA1E,EAAmFxB,IAAnF,CAAwF,UAACnc,GAAD,EAAMie,IAAN,EAAe;AACrG,UAAIje,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAAP;AACFA,UAAI2G,IAAJ,CAAS,EAAEgY,OAAOla,IAAI0B,KAAJ,CAAUrC,IAAV,CAAeH,GAAxB,EAA6BqP,aAAa4L,IAA1C,EAAT;AACD,KAJD;AAKD,GAdD;AAeD,CAhBD;;AAkBA;AACAtW,OAAOI,IAAP,CAAY,SAAZ,EAAuB,UAACjE,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACzC,MAAI,CAACP,IAAIiB,IAAJ,CAASc,IAAV,IAAkB,CAAC/B,IAAIiB,IAAJ,CAAS4D,QAA5B,IAAwC,CAAC7E,IAAIiB,IAAJ,CAASwD,OAAtD,EACE,OAAOuQ,mBAAmB,2BAAnB,EAAgDhV,GAAhD,EAAqDzE,GAArD,CAAP;AACF,MAAM8D,OAAOW,IAAI0B,KAAJ,CAAUrC,IAAvB;;AAEA,MAAI,CAACoa,OAAOO,kBAAP,CAA0B/R,cAA1B,CAAyCjI,IAAIiB,IAAJ,CAAS4D,QAAlD,CAAL,EACE,OAAOmQ,mBAAmB,qBAAnB,EAA0ChV,GAA1C,EAA+CzE,GAA/C,CAAP;;AAEF,MAAI;AACFyE,QAAIiB,IAAJ,CAASc,IAAT,GAAgB2X,SAAS1Z,IAAIiB,IAAJ,CAAS4D,QAAlB,EAA4B7E,IAAIiB,IAAJ,CAASc,IAArC,CAAhB;AACD,GAFD,CAEE,OAAO6P,EAAP,EAAW;AACX,WAAOoD,mBAAmBpD,GAAG5P,OAAtB,EAA+BhC,GAA/B,EAAoCzE,GAApC,CAAP;AACD;;AAEDqe,iBAAeva,IAAf,EAAqBgZ,IAArB,CAA0B,UAACnc,GAAD,EAAMqO,OAAN,EAAkB;AAC1C,QAAIrO,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAAP;AACF,QAAI,CAACgP,OAAL,EACE,OAAOyK,mBAAmB,mBAAnB,EAAwChV,GAAxC,EAA6CzE,GAA7C,CAAP;;AAEFJ,YAAQid,QAAR,CAAiBpY,IAAIiB,IAAJ,CAASwD,OAA1B,EAAmC4T,IAAnC,CAAwC,UAACnc,GAAD,EAAMuI,OAAN,EAAkB;AACxD,UAAIvI,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAAP;AACF,UAAI,CAACkJ,OAAD,IAAY8F,QAAQJ,QAAR,CAAiBiQ,SAAjB,CAA2B;AAAA,eAAKzE,EAAElR,OAAF,IAAazE,IAAIiB,IAAJ,CAASwD,OAA3B;AAAA,OAA3B,MAAmE,CAAC,CAApF,EACE,OAAOuQ,mBAAmB,mBAAnB,EAAwChV,GAAxC,EAA6CzE,GAA7C,CAAP;;AAEF,UAAI,CAACgP,QAAQ0M,UAAR,EAAL,EACE,OAAOjC,mBAAmB,qBAAnB,EAA0ChV,GAA1C,EAA+CzE,GAA/C,CAAP;;AAEF,UAAI0S,gBAAgB1D,QAAQ6M,gBAAR,EAApB;;AAEA,UAAI7M,QAAQ2M,QAAR,EAAJ,EACEjJ,gBAAgB,CAAC,CAAjB;;AAEF,UAAMU,UAAU,EAAhB;AAdwD;AAAA;AAAA;;AAAA;AAexD,wDAAmBlK,QAAQoF,IAAR,CAAagC,QAAhC;AAAA,cAAWxE,IAAX;;AACEsH,kBAAQtH,KAAK5I,IAAb,IAAqB;AAC7BkQ,qBAAS,aADoB,EACLsJ,QAAQ,CAAC,CADJ,EACO/I,OAAO,CADd,EACiB8I,MAAM;AADvB,WAArB;AADF;AAfwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBxD,UAAM3T,MAAM,IAAInJ,UAAJ,CAAe;AACzB4c,kBAAU9X,IAAI0B,KAAJ,CAAUrC,IAAV,CAAesB,EADA;AAEzB4J,wBAFyB;AAGzB9F,iBAASzE,IAAIiB,IAAJ,CAASwD,OAHO;AAIzBwJ,oCAJyB;AAKzBpJ,kBAAU7E,IAAIiB,IAAJ,CAAS4D,QALM;AAMzB9C,cAAM/B,IAAIiB,IAAJ,CAASc,IANU;AAOzB4M;AAPyB,OAAf,CAAZ;;AAUAtK,UAAItB,IAAJ;AAAA,8EAAS,iBAAO7G,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA,uBACHA,GADG;AAAA;AAAA;AAAA;;AAAA,mDAEE8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,CAFF;;AAAA;AAAA;AAAA;AAAA,yBAKCgJ,UAAUC,GAAV,CAAc;AAClB7D,wBAAIX,IAAIiB,IAAJ,CAASwD,OADK;AAElBC,2BAAOL,IAAInF,GAFO;AAGlByF,yBAAKF,QAAQE,GAHK;AAIlB5C,0BAAM/B,IAAIiB,IAAJ,CAASc,IAJG;AAKlB6C,0BAAM5E,IAAIiB,IAAJ,CAAS4D;AALG,mBAAd,CALD;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,mDAaEmQ,gCAAuBhV,GAAvB,EAA4BzE,GAA5B,CAbF;;AAAA;;AAgBPA,sBAAI2G,IAAJ,CAAS,EAAEN,SAAS,WAAX,EAAT;;AAhBO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAT;;AAAA;AAAA;AAAA;AAAA;AAkBD,KAjDD;AAkDD,GAxDD;AAyDD,CAvED;;AAyEAiC,OAAO3D,GAAP,CAAW,oBAAX,EAAiC,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACnDqZ,iBAAe5Z,IAAI0B,KAAJ,CAAUrC,IAAzB,EAA+BwW,YAA/B,CAA4C,kBAA5C,EAAgEwC,IAAhE,CAAqE,UAACnc,GAAD,EAAMqO,OAAN,EAAkB;AACrF,QAAIrO,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,EAAkCgF,IAAlC,CAAP;AACF,QAAI,CAACgK,OAAL,EACE,OAAOhK,MAAP;;AAJmF;AAAA;AAAA;;AAAA;AAMrF,uDAAmBgK,QAAQJ,QAA3B,iHAAqC;AAAA,YAA1BkQ,IAA0B;;AACnC,YAAIA,KAAKtE,MAAL,IAAe/V,IAAIkE,MAAJ,CAAW6R,MAA9B,EAAsC;AACpC;AACA,iBAAO1M,WAAWiR,IAAX,CAAgBD,KAAK5V,OAAL,CAAamF,YAA7B,EAA2CrO,GAA3C,CAAP;AACD;AACF;AAXoF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAarFgF;AACD,GAdD;AAeD,CAhBD;;AAkBAsD,OAAO3D,GAAP,CAAW,iBAAX,EAA8B,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAChDqZ,iBAAe5Z,IAAI0B,KAAJ,CAAUrC,IAAzB,EAA+BgZ,IAA/B,CAAoC,UAACnc,GAAD,EAAMqO,OAAN,EAAkB;AACpD,QAAIrO,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,EAAkCgF,IAAlC,CAAP;AACF,QAAI,CAACgK,OAAL,EACE,OAAOyK,mBAAmB,mBAAnB,EAAwChV,GAAxC,EAA6CzE,GAA7C,EAAkDgF,IAAlD,CAAP;;AAEFrF,eAAWkd,QAAX,CAAoBpY,IAAIkE,MAAJ,CAAWvD,EAA/B,EAAmC4Z,IAAnC,GAA0ClC,IAA1C,CAA+C,UAACnc,GAAD,EAAMmI,GAAN,EAAc;AAC3D,UAAInI,GAAJ,EACE,OAAO8Y,mBAAmB9Y,GAAnB,EAAwB8D,GAAxB,EAA6BzE,GAA7B,EAAkCgF,IAAlC,CAAP;AACF,UAAI,CAAC8D,GAAL,EACE,OAAO2Q,mBAAmB,sBAAnB,EAA2ChV,GAA3C,EAAgDzE,GAAhD,EAAqDgF,IAArD,CAAP;;AAEF,UAAI,CAAC8D,IAAIyT,QAAJ,CAAatN,MAAb,CAAoBxK,IAAI0B,KAAJ,CAAUrC,IAAV,CAAeH,GAAnC,CAAD,IAA4C,CAACqL,QAAQ2M,QAAR,EAAjD,EACE7S,IAAItC,IAAJ,GAAW7E,SAAX;;AAGF3B,UAAI2G,IAAJ,CAASmC,GAAT;AACD,KAXD;AAYD,GAlBD;AAmBD,CApBD;;AAsBAR,OAAO3D,GAAP,CAAW,YAAX,EAAyB,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX;AAAA,SAAoBhF,IAAI2G,IAAJ,CAAS,uBAAeuX,OAAOO,kBAAtB,CAAT,CAApB;AAAA,CAAzB;;AAEAlf,OAAOC,OAAP,GAAiB8I,MAAjB,C;;;;;;AC3MA,iE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wEC4BA,iBAAwB2W,GAAxB,EAA6BpS,KAA7B,EAAoCqS,OAApC,EAA6ClP,KAA7C;AAAA,QAAoDC,MAApD,uEAA6D,QAA7D;AAAA,QAAuErJ,KAAvE,uEAA+E,OAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AACE,gBAAIoJ,KAAJ,EACEiP,IAAIE,KAAJ,GAAYnP,KAAZ;AACFiP,gBAAIG,MAAJ,GAAanP,MAAb;AACAgP,gBAAII,MAAJ,GAAazY,KAAb;;AAEA;AANF;AAAA,mBAOoBqY,IAAIK,iBAAJ,CAAsBJ,OAAtB,CAPpB;;AAAA;AAOQlf,eAPR;AAAA,6CAWSA,GAXT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeuf,Q;;;;;AA8Vf;;;;;;;;;;;yEAUA,mBAAoC3c,GAApC,EAAyCiK,KAAzC,EAAgDxD,IAAhD;AAAA,QAAsDmW,GAAtD,uEAA4DC,WAA5D;AAAA,QACoCC,OADpC,uEAC8CC,gBAD9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAEQV,eAFR,GAEc,IAAIW,OAAJ,CAAYhd,GAAZ,EAAiBiK,KAAjB,CAFd;AAAA;AAAA;AAAA,mBAIUoS,IAAIY,IAAJ,EAJV;;AAAA;AAAA;AAAA,mBAKyBC,YAAYzW,IAAZ,EAAkB4V,GAAlB,EAAuBpS,KAAvB,EAA8B2S,GAA9B,EAAmCE,OAAnC,CALzB;;AAAA;AAKU1e,kBALV;AAAA;AAAA,mBAQuBie,IAAIc,MAAJ,EARvB;;AAAA;AAQI/e,mBAAOK,GARX;AAAA;AAAA;AAAA,mBAYY4d,IAAIe,OAAJ,EAZZ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAcM5e,oBAAQwF,KAAR;;AAdN;AAAA,+CAiBW5F,MAjBX;;AAAA;AAAA;AAAA;;AAmBIyB,mBAAOmE,KAAP,CAAa,8BAAb,EAA6C,cAAEO,QAAF,EAA7C;AAnBJ;AAAA;AAAA,mBAqBY8X,IAAIe,OAAJ,EArBZ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAuBM5e,oBAAQwF,KAAR;;AAvBN;AAAA,kBA0BU,EAAEJ,MAAM,CAAR,EA1BV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeyZ,oB;;;;;AA8Bf;;;AAGA;;;;yEACA,mBAA6Brd,GAA7B,EAAkCiK,KAAlC,EAAyCoS,GAAzC,EAA8C1P,IAA9C,EAAoDlG,IAApD,EAA0DmH,OAA1D,EAAmE0P,QAAnE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+CACS;AAAA,qFAAY,mBAAO1f,OAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACjBiC,+BAAO6P,KAAP,0BAAoC4N,SAAS9P,EAA7C;;AAEA;AACM+P,iCAJW,GAIC5Q,KAAK6Q,YAAL,EAJD;;AAMjB;;AACMC,mCAPW,GAOG9Q,KAAK+Q,cAAL,KAAwB,IAP3B;AASbC,wCATa,GASM,EATN;AAUbC,sCAVa,GAUI,EAVJ;AAWbC,gCAXa;;AAYXC,gCAZW,GAYA,SAAXA,QAAW;AAAA,iCAAKlgB,QAAQwa,CAAR,CAAL;AAAA,yBAZA;;AAcb2F,+BAda,GAcH,EAdG;AAejB;;AAfiB;AAAA;AAAA,+BAiBT1B,IAAIY,IAAJ,EAjBS;;AAAA;AAAA;AAAA,+BAkBUe,WAAWvX,IAAX,EAAiB4V,GAAjB,EAAsBpS,KAAtB,EAA6B8S,gBAA7B,EACiBO,SAAS9P,EAD1B,EAC8B+P,SAD9B,EAEiBA,YAAYxL,YAAYO,aAFzC,EAEwDmL,WAFxD,CAlBV;;AAAA;AAkBfE,wCAlBe;AAAA;AAAA,+BAsBctB,IAAIc,MAAJ,EAtBd;;AAAA;AAsBfQ,yCAAiBlf,GAtBF;;AAuBfsf,kCAAUJ,iBAAiBlf,GAA3B;;AAEA;;AAzBe,4BA0BVue,QAAQiB,oBAAR,CAA6BN,iBAAiB/Z,IAA9C,CA1BU;AAAA;AAAA;AAAA;;AA2BbpF,gCAAQC,GAAR,CAAY,oCAAZ;AACAD,gCAAQC,GAAR,CAAYkf,gBAAZ;AA5Ba,2DA6BNG,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,YAAf,CAAT,CA7BM;;AAAA;AAgCTC,6BAhCS,GAgCD,IAAInB,OAAJ,CAAYhd,GAAZ,EAAiBiK,KAAjB,EAAwB0T,iBAAiBlf,GAAzC,CAhCC;;AAiCfof,mCAAWM,MAAMC,cAAN,EAAX;;AAEA;;AAnCe,8BAoCXT,iBAAiB/Z,IAAjB,KAA0B,CApCf;AAAA;AAAA;AAAA;;AAqCPya,kCArCO,GAqCMF,MAAMG,aAAN,EArCN;AAsCPC,gCAtCO,GAsCIJ,MAAMK,WAAN,EAtCJ;;AAAA,8BAwCTH,eAAeI,aAAaC,YAxCnB;AAAA;AAAA;AAAA;;AAAA,2DAyCJZ,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,aAAf,EAA8B,CAAC,CAA/B,EAAkC,EAAElP,MAAMuO,SAAR,EAAlC,CAAT,CAzCI;;AAAA;AAAA,8BA0CJc,eAAeI,aAAaE,iBA1CxB;AAAA;AAAA;AAAA;;AAAA,2DA2CJb,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,aAAf,EAA8B,CAAC,CAA/B,EAAkC,EAAElP,MAAM6O,QAAR,EAAlC,CAAT,CA3CI;;AAAA;AAAA,8BA4CJQ,eAAeI,aAAaG,iBA5CxB;AAAA;AAAA;AAAA;;AAAA,2DA6CJd,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,aAAf,EAA8B,CAAC,CAA/B,EAAkC,EAAElP,MAAM6O,QAAR,EAAlC,CAAT,CA7CI;;AAAA;AAAA,2DAiDNC,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,aAAf,EAA8B,CAAC,CAA/B,EAAkC;AAChDW,sDAA0BN,QADsB;AAEhDvP,gCAAM6O;AAF0C,yBAAlC,CAAT,CAjDM;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAuDfhe,+BAAOmE,KAAP,CAAa,4BAAb,EAA2C,cAAEO,QAAF,EAA3C;AAvDe,2DAwDRuZ,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,YAAf,CAAT,CAxDQ;;AAAA;AAAA;AAAA;AAAA,+BA6DT7B,IAAIyC,qBAAJ,CAA0B,OAA1B,EAAmCxB,SAAS9P,EAA5C,CA7DS;;AAAA;AAAA;AAAA,+BA8DT6O,IAAIyC,qBAAJ,CAA0B,QAA1B,EAAoCxB,SAAS7P,GAA7C,CA9DS;;AAAA;AAAA;AAAA,+BAgEQsR,SAASpS,KAAKqS,kBAAL,EAAT,EAAoC3C,GAApC,EAAyCpS,KAAzC,EACoCgV,iBADpC,CAhER;;AAAA;AAgEfrB,sCAhEe;AAAA;AAAA,+BAkEYvB,IAAIc,MAAJ,EAlEZ;;AAAA;AAkEfS,uCAAenf,GAlEA;;AAAA,4BAoEVue,QAAQiB,oBAAR,CAA6BL,eAAeha,IAA5C,CApEU;AAAA;AAAA;AAAA;;AAqEbpF,gCAAQC,GAAR,CAAY,4CAAZ;AACAD,gCAAQC,GAAR,CAAYmf,cAAZ;AAtEa,2DAuENE,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,YAAf,CAAT,CAvEM;;AAAA;;AA0Ef7B,4BAAI5d,GAAJ,GAAUsf,OAAV;AACM1Q,8BA3ES,GA2EAuQ,eAAenB,MA3Ef;;AAAA,8BA6EXmB,eAAeha,IAAf,KAAwB,CA7Eb;AAAA;AAAA;AAAA;;AA8EPua,8BA9EO,GA8EC,IAAInB,OAAJ,CAAYhd,GAAZ,EAAiBiK,KAAjB,EAAwB2T,eAAenf,GAAvC,CA9ED;AA+EP4f,mCA/EO,GA+EMF,OAAMG,aAAN,EA/EN;AAgFPC,iCAhFO,GAgFIJ,OAAMK,WAAN,EAhFJ;;AAAA,8BAkFTH,gBAAeI,aAAaC,YAA5B,IACCL,gBAAeI,aAAaE,iBAnFpB;AAAA;AAAA;AAAA;;AAAA,2DAoFJb,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,cAAf,CAAT,CApFI;;AAAA;AAAA,8BAuFTK,cAAa,CAAb,IAAkBA,cAAa,CAvFtB;AAAA;AAAA;AAAA;;AAAA,2DAwFJT,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,YAAf,EAA6B,CAA7B,EAAgC,EAAEW,MAAMxR,MAAR,EAAgB2B,MAAM6O,QAAtB,EAAhC,CAAT,CAxFI;;AAAA;AAAA,2DA0FNC,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,cAAf,EAA+B,CAA/B,EAAkC,EAAEW,MAAMxR,MAAR,EAAgB2B,MAAM6O,QAAtB,EAAlC,CAAT,CA1FM;;AAAA;AAAA,2DA6FRC,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,YAAf,EAA6B,CAA7B,EAAgC,EAAEW,MAAMxR,MAAR,EAAgB2B,MAAM6O,QAAtB,EAAhC,CAAT,CA7FQ;;AAAA;AAAA;AAAA;;AA+Ffhe,+BAAOmE,KAAP,CAAa,0BAAb,EAAyC,cAAEO,QAAF,EAAzC;AACA/F,gCAAQC,GAAR;AAhGe,2DAiGRqf,SAAS,IAAII,OAAJ,CAAY,CAAZ,EAAe,YAAf,CAAT,CAjGQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAZ;;AAAA;AAAA;AAAA;AAAA,gBADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAegB,a;;;;;AAuGf;;;;;;;;;;;;yEASA,mBAA2Blf,GAA3B,EAAgCiK,KAAhC,EAAuC0C,IAAvC,EAA6ClG,IAA7C,EAAmDmH,OAAnD;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AACMiQ,oBADN,GACiB,CAAC,CADlB;AAAA;AAGUjf,aAHV,GAGcgP,QAAQI,SAAR,CAAkBlP,MAHhC;AAIQqgB,qBAJR,GAIoB,CAJpB;AAKQC,oBALR,GAKmB,CALnB;AAOaC,aAPb,GAOiB,CAPjB;;AAAA;AAAA,kBAOoBA,IAAIzgB,CAPxB;AAAA;AAAA;AAAA;;AAQY0gB,iBARZ,GAQoB,EARpB;AASYC,iBATZ,GASoB,EATpB;;AAUM,iBAASC,CAAT,GAAa,CAAb,EAAgBA,IAAIzN,YAAYE,eAAhB,IAAmCoN,IAAIG,CAAJ,GAAQ5gB,CAA3D,EAA8D4gB,GAA9D,EAAmE;AAC3DnD,iBAD2D,GACrD,IAAIW,OAAJ,CAAYhd,GAAZ,EAAiBiK,KAAjB,CADqD;;AAEjEsV,oBAAMrgB,IAAN,CAAWmd,GAAX;AACAiD,oBAAMpgB,IAAN,CAAWggB,cAAclf,GAAd,EAAmBiK,KAAnB,EAA0BoS,GAA1B,EAA+B1P,IAA/B,EAAqClG,IAArC,EACcmH,OADd,EACuBA,QAAQI,SAAR,CAAkBqR,IAAIG,CAAtB,CADvB,CAAX;AAED;;AAED;AAjBN;AAAA,mBAkBwB,kBAAQpX,GAAR,CAAYkX,MAAMjW,GAAN,CAAUoW,cAAV,CAAZ,CAlBxB;;AAAA;AAkBYriB,eAlBZ;AAmBeoiB,cAnBf,GAmBmB,CAnBnB;;AAAA;AAAA,kBAmBsBA,KAAIzN,YAAYE,eAAhB,IAAmCoN,IAAIG,EAAJ,GAAQ5gB,CAnBjE;AAAA;AAAA;AAAA;;AAoBgBkF,kBApBhB,GAoB2B1G,IAAIoiB,EAAJ,CApB3B,CAoBgB1b,MApBhB;;AAAA,kBAsBYA,WAAW,UAtBvB;AAAA;AAAA;AAAA;;AAAA,kBAuBgB1G,IAAIoiB,EAAJ,EAAOxb,KAvBvB;;AAAA;AAyBc0b,sBAzBd,GAyB2BtiB,IAAIoiB,EAAJ,EAAOtW,IAzBlC;;AA0BQiW,yBAAaI,MAAMC,EAAN,EAASpB,cAAT,EAAb;AACAgB,wBAAYG,MAAMC,EAAN,EAASG,WAAT,EAAZ;AACA,gBAAID,WAAW7F,IAAX,CAAgB/P,cAAhB,CAA+B,MAA/B,CAAJ,EACE+T,WAAW3P,KAAK0F,GAAL,CAASiK,QAAT,EAAmB6B,WAAW7F,IAAX,CAAgB7K,IAAnC,CAAX;;AA7BV,kBA+BY0Q,WAAWlP,OAAX,KAAuB,YA/BnC;AAAA;AAAA;AAAA;;AAgCUkP,uBAAW5F,MAAX,GAAoBuF,IAAIG,EAAxB;AACA,gBAAI3B,YAAY,CAAhB,EACE6B,WAAW7F,IAAX,CAAgB7K,IAAhB,GAAuB6O,QAAvB;AAlCZ,+CAmCiB6B,UAnCjB;;AAAA;AAmBoEF,gBAnBpE;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAwCY,kBAAQpX,GAAR,CAAYmX,MAAMlW,GAAN;AAAA,qFAAU,mBAAMuW,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA,2DAAaA,IAAIxC,OAAJ,EAAb;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAV;;AAAA;AAAA;AAAA;AAAA,gBAAZ,CAxCZ;;AAAA;AAO2BiC,iBAAKtN,YAAYE,eAP5C;AAAA;AAAA;;AAAA;;AA2CIzT,oBAAQC,GAAR,CAAY,IAAZ,EAAkB0gB,SAAlB;AACA3gB,oBAAQC,GAAR,CAAY,IAAZ,EAAkB2gB,QAAlB;AA5CJ;AAAA;;AAAA;AAAA;AAAA;;AA8CIvf,mBAAOmE,KAAP,CAAa,0BAAb,EAAyC,cAAEO,QAAF,EAAzC;AA9CJ,+CA+CW,IAAI2Z,OAAJ,CAAY,CAAZ,EAAe,YAAf,CA/CX;;AAAA;AAAA,+CAkDS,IAAIA,OAAJ,CAAY,CAAZ,EAAe,YAAf,EAA6BtQ,QAAQI,SAAR,CAAkBlP,MAA/C,EAAuD,EAAEkQ,MAAM6O,QAAR,EAAvD,CAlDT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAegC,W;;;;;AAqDf;;;;;;;;;;;;;;yEAWA,mBAAwB7f,GAAxB,EAA6B2M,IAA7B,EAAmC1C,KAAnC,EAA0CrG,IAA1C,EAAgD6C,IAAhD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEQwD,MAAMP,qBAAN,CAA4BmT,WAA5B,EAAyCjZ,IAAzC,CAFR;;AAAA;AAAA;AAAA,mBAMgB,kBAAQwE,GAAR,CAAY,CAACiV,qBAAqBrd,GAArB,EAA0BiK,KAA1B,EAAiCxD,IAAjC,CAAD,EACC4W,qBAAqBrd,GAArB,EAA0BiK,KAA1B,EAAiC0C,KAAKqS,kBAAL,EAAjC,EACqBrS,KAAKmT,UAAL,EADrB,EACwCb,iBADxC,CADD,CAAZ,CANhB;;AAAA;AAAA;AAAA;AAKSc,6BALT;AAK4BC,oCAL5B;;AAAA,gBAYOhD,QAAQiB,oBAAR,CAA6B8B,kBAAkBnc,IAA/C,CAZP;AAAA;AAAA;AAAA;;AAaIpF,oBAAQC,GAAR,CAAY,qCAAZ;AACAD,oBAAQC,GAAR,CAAYshB,iBAAZ;AAdJ,+CAeWlZ,MAAMnI,QAAN,CAAe,CAAC,IAAIwf,OAAJ,CAAY,CAAZ,EAAe,YAAf,CAAD,CAAf,EAA+CvR,KAAKsT,gBAAL,EAA/C,CAfX;;AAAA;AAAA,kBAmBMF,kBAAkBnc,IAAlB,KAA2B,CAnBjC;AAAA;AAAA;AAAA;;AAoBUua,iBApBV,GAoBkB,IAAInB,OAAJ,CAAYhd,GAAZ,EAAiB,IAAjB,EAAuB+f,kBAAkBthB,GAAzC,CApBlB;AAqBU4f,sBArBV,GAqBuBF,MAAMG,aAAN,EArBvB;AAsBUjR,kBAtBV,GAsBmB0S,kBAAkBtD,MAtBrC;;AAAA,kBAwBQ4B,eAAeI,aAAaC,YAA5B,IAA4CL,eAAeI,aAAaE,iBAxBhF;AAAA;AAAA;AAAA;;AAAA,+CAyBa9X,MAAMnI,QAAN,CAAe,CAAC,IAAIwf,OAAJ,CAAY,CAAZ,EAAe,aAAf,CAAD,CAAf,EAAgDvR,KAAKsT,gBAAL,EAAhD,CAzBb;;AAAA;AAAA,+CA2BWpZ,MAAMnI,QAAN,CAAe,CAAC,IAAIwf,OAAJ,CAAY,CAAZ,EAAe,YAAf,EAA6B,CAAC,CAA9B,EAAiC7Q,MAAjC,CAAD,CAAf,EAA2DV,KAAKsT,gBAAL,EAA3D,CA3BX;;AAAA;AAAA,gBA+BOjD,QAAQiB,oBAAR,CAA6B+B,yBAAyBpc,IAAtD,CA/BP;AAAA;AAAA;AAAA;;AAgCIpF,oBAAQC,GAAR,CAAY,6CAAZ;AACAD,oBAAQC,GAAR,CAAYuhB,wBAAZ;AAjCJ,+CAkCWnZ,MAAMnI,QAAN,CAAe,CAAC,IAAIwf,OAAJ,CAAY,CAAZ,EAAe,YAAf,CAAD,CAAf,EAA+CvR,KAAKsT,gBAAL,EAA/C,CAlCX;;AAAA;AAAA,kBAsCMD,yBAAyBpc,IAAzB,KAAkC,CAtCxC;AAAA;AAAA;AAAA;;AAuCUua,mBAvCV,GAuCkB,IAAInB,OAAJ,CAAYhd,GAAZ,EAAiB,IAAjB,EAAuB+f,kBAAkBthB,GAAzC,CAvClB;AAwCU4f,wBAxCV,GAwCuBF,QAAMG,aAAN,EAxCvB;AAyCUC,oBAzCV,GAyCqBJ,QAAMK,WAAN,EAzCrB;AA0CUnR,mBA1CV,GA0CmB0S,kBAAkBtD,MA1CrC;;;AA4CI5c,mBAAOmE,KAAP,CAAa,oDAAb,EACaqa,YADb,EACyBE,QADzB,EACmClR,OADnC;;AA5CJ,+CA+CWxG,MAAMnI,QAAN,CAAe,CAAC,IAAIwf,OAAJ,CAAY,CAAZ,EAAe,YAAf,CAAD,CAAf,EAA+CvR,KAAKsT,gBAAL,EAA/C,CA/CX;;AAAA;;AAkDE;AACM9P,oBAnDR,GAmDmB,EAnDnB;AAAA;AAAA;AAAA;AAAA;AAAA,mDAoDwBxD,KAAKuT,WAAL,EApDxB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAoDatS,mBApDb;AAAA;AAAA,mBAsDiCiS,YAAY7f,GAAZ,EAAiBiK,KAAjB,EAAwB0C,IAAxB,EAA8BlG,IAA9B,EAAoCmH,OAApC,CAtDjC;;AAAA;AAsDUuS,0BAtDV;;AAuDIhQ,qBAASjR,IAAT,CAAcihB,cAAd;;AAEA;;AAzDJ,kBA0DQA,eAAe3P,OAAf,KAA2B,YA1DnC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AA8DE;AACAL,qBAASjR,IAAT,CAAc,IAAIgf,OAAJ,CAAY,CAAZ,EAAe,cAAf,CAAd;AA/DF,+CAgESrX,MAAMnI,QAAN,CAAeyR,QAAf,EAAyBxD,KAAKsT,gBAAL,EAAzB,CAhET;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeG,Q;;;;;AAmEf;;;;;;;;;;0EAOA,mBAA2BpgB,GAA3B,EAAgCqgB,IAAhC,EAAsCzc,IAAtC,EAA4C6C,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AACQwD,iBADR,GACgB,IAAI3B,OAAJ,EADhB;AAAA;AAAA,mBAEQ2B,MAAMwQ,OAAN,CAAc4F,IAAd,CAFR;;AAAA;AAAA;AAAA,mBAIuB7T,OAAOE,UAAP,CAAkBzC,KAAlB,CAJvB;;AAAA;AAIQ8C,kBAJR;;AAAA,kBAKMA,WAAW,IALjB;AAAA;AAAA;AAAA;;AAAA,kBAMU,IAAI1K,KAAJ,CAAU,yBAAV,CANV;;AAAA;AAAA;AAAA,mBAQqB,IAAI0K,MAAJ,CAAW9C,KAAX,EAAkBC,IAAlB,EARrB;;AAAA;AAQQyC,gBARR;AAUQe,oBAVR,GAUmBf,KAAKuT,WAAL,EAVnB;AAAA;AAAA,mBAWyBE,SAASpgB,GAAT,EAAc2M,IAAd,EAAoB1C,KAApB,EAA2BrG,IAA3B,EAAiC6C,IAAjC,CAXzB;;AAAA;AAWQ0J,oBAXR;AAaQ/S,eAbR,GAac,EAbd;;AAcE,iBAASiiB,CAAT,GAAa,CAAb,EAAgBA,IAAI3R,SAAS5O,MAA7B,EAAqCugB,GAArC;AACEjiB,kBAAIsQ,SAAS2R,CAAT,EAAY/e,IAAhB,IAAwB6P,SAASkP,CAAT,CAAxB;AADF,aAdF,mCAkBSjiB,GAlBT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAekjB,W;;;;;AAqBf;;;;;AArrBA;;;;AAIA;AACA,IAAM7jB,KAAK,mBAAAD,CAAQ,EAAR,CAAX;AACA,IAAMD,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMijB,iBAAiB,mBAAAjjB,CAAQ,EAAR,CAAvB;;AAEA,IAAMgU,UAAU,mBAAAhU,CAAQ,EAAR,CAAhB;AACA,IAAMqK,QAAQ,mBAAArK,CAAQ,EAAR,CAAd;AACA,IAAMqD,SAAS,mBAAArD,CAAQ,EAAR,CAAf;AACA,IAAM+jB,UAAU,mBAAA/jB,CAAQ,EAAR,CAAhB;AACA,IAAMgkB,cAAc,mBAAAhkB,CAAQ,EAAR,CAApB;;AAEA,IAAMgQ,SAAS,mBAAAhQ,CAAQ,EAAR,CAAf;AACA,IAAMikB,WAAW,mBAAAjkB,CAAQ,EAAR,CAAjB;;AAEA,IAAM8L,UAAU,mBAAA9L,CAAQ,EAAR,EAAqByM,aAArC;;IAEQiV,O,GAAY1N,O,CAAZ0N,O;IACAlB,O,GAA0BuD,O,CAA1BvD,O;IAASyB,Y,GAAiB8B,O,CAAjB9B,Y;IACTpK,gB,GAAkCmM,W,CAAlCnM,gB;IAAkBtC,W,GAAgByO,W,CAAhBzO,W;IAClB/E,U,GAAeR,M,CAAfQ,U;;;AAER,IAAM0T,aAAa,mCAAnB;AACA,IAAMC,mBAAmB,gCAAzB;;AAgBA,IAAM3C,aAAa;AACX4C,KADW,eACPvE,GADO,EACFpS,KADE,EACK4W,QADL,EACe5Y,IADf,EAGU;AAAA,QAFWsV,SAEX,uEAFuB,IAEvB;AAAA,QAF6BuD,OAE7B,uEAFuC,IAEvC;AAAA,QAF6CrD,WAE7C,uEAF2D,IAE3D;AAAA,QADjBrQ,KACiB,uEADT,OACS;;AAAA;;AAAA,QADAC,MACA,uEADS,QACT;AAAA,QAAjBrJ,KAAiB,uEAAT,OAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACzBqY,kBAAIkB,SAAJ,GAAgBA,SAAhB;AACAlB,kBAAI0E,cAAJ,GAAqBD,OAArB;AACAzE,kBAAI2E,UAAJ,GAAiBvD,WAAjB;AAHyB;AAAA,qBAInBpB,IAAIyC,qBAAJ,CAA0B1R,KAA1B,EAAiCnF,IAAjC,CAJmB;;AAAA;AAAA;AAAA,qBAKnBoU,IAAIyC,qBAAJ,CAA0B,MAA1B,EAAkC+B,QAAlC,EAA4C,IAA5C,CALmB;;AAAA;AAAA;AAAA,qBAOPlE,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,QAAD,CAArB,EAAiCmD,KAAjC,EAAwCC,MAAxC,EAAgDrJ,KAAhD,CAPO;;AAAA;AAOnB5G,iBAPmB;AAAA;AAAA,qBAQnBif,IAAI4E,UAAJ,CAAe,MAAf,CARmB;;AAAA;AAAA;AAAA,qBASnB5E,IAAI4E,UAAJ,CAAe7T,KAAf,CATmB;;AAAA;AAAA,gDAWlBhQ,GAXkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAY1B,GAfgB;AAgBX8jB,KAhBW,eAgBP7E,GAhBO,EAgBFpS,KAhBE,EAgBK4W,QAhBL,EAgBe5Y,IAhBf,EAkBU;AAAA,QAFWsV,SAEX,uEAFuB,IAEvB;AAAA,QAF6BuD,OAE7B,uEAFuC,IAEvC;AAAA,QAF6CrD,WAE7C,uEAF2D,IAE3D;AAAA,QADjBrQ,KACiB,uEADT,OACS;;AAAA;;AAAA,QADAC,MACA,uEADS,QACT;AAAA,QAAjBrJ,KAAiB,uEAAT,OAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACzBqY,kBAAIkB,SAAJ,GAAgBA,SAAhB;AACAlB,kBAAI0E,cAAJ,GAAqBD,OAArB;AACAzE,kBAAI2E,UAAJ,GAAiBvD,WAAjB;AACApB,kBAAI8E,MAAJ,CAAWC,IAAX,GAAkB,IAAlB;AACA/E,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AANyB;AAAA,qBAOnB6O,IAAIyC,qBAAJ,CAA0B1R,KAA1B,EAAiCnF,IAAjC,CAPmB;;AAAA;AAAA;AAAA,qBAQnBoU,IAAIyC,qBAAJ,CAA0B,SAA1B,EAAqC,SAArC,EAAgD,IAAhD,CARmB;;AAAA;AAAA;AAAA,qBAUPnC,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,kBAAD,EAAqB,SAArB,CAArB,EAAsDmD,KAAtD,EAA6DC,MAA7D,EAAqErJ,KAArE,CAVO;;AAAA;AAUnB5G,iBAVmB;;AAWzBif,kBAAIgF,IAAJ,CAASriB,GAAT;AACAqd,kBAAIgF,IAAJ,CAASriB,GAAT;;AAZyB;AAAA,qBAcnBqd,IAAI4E,UAAJ,CAAe,SAAf,CAdmB;;AAAA;AAAA;AAAA,qBAenB5E,IAAI4E,UAAJ,CAAe7T,KAAf,CAfmB;;AAAA;AAAA,gDAiBlBhQ,GAjBkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkB1B,GApCgB;AAqCXkkB,KArCW,eAqCPjF,GArCO,EAqCFpS,KArCE,EAqCK4W,QArCL,EAqCe5Y,IArCf,EAuCU;AAAA,QAFWsV,SAEX,uEAFuB,IAEvB;AAAA,QAF6BuD,OAE7B,uEAFuC,IAEvC;AAAA,QAF6CrD,WAE7C,uEAF2D,IAE3D;AAAA,QADjBrQ,KACiB,uEADT,OACS;;AAAA;;AAAA,QADAC,MACA,uEADS,QACT;AAAA,QAAjBrJ,KAAiB,uEAAT,OAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACzBqY,kBAAIkB,SAAJ,GAAgBA,SAAhB;AACAlB,kBAAI0E,cAAJ,GAAqBD,OAArB;AACAzE,kBAAI2E,UAAJ,GAAiBvD,WAAjB;AACApB,kBAAI8E,MAAJ,CAAWC,IAAX,GAAkB,IAAlB;AACA/E,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AANyB;AAAA,qBAOnB6O,IAAIyC,qBAAJ,CAA0B1R,KAA1B,EAAiCnF,IAAjC,CAPmB;;AAAA;AAAA;AAAA,qBAQnBoU,IAAIyC,qBAAJ,CAA0B,SAA1B,EAAqC,SAArC,EAAgD,IAAhD,CARmB;;AAAA;AAAA;AAAA,qBAUPnC,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,kBAAD,EAAqB,SAArB,CAArB,EAAsDmD,KAAtD,EAA6DC,MAA7D,EAAqErJ,KAArE,CAVO;;AAAA;AAUnB5G,iBAVmB;;AAWzBif,kBAAIgF,IAAJ,CAASriB,GAAT;AACAqd,kBAAIgF,IAAJ,CAASriB,GAAT;;AAZyB;AAAA,qBAcnBqd,IAAI4E,UAAJ,CAAe,SAAf,CAdmB;;AAAA;AAAA;AAAA,qBAenB5E,IAAI4E,UAAJ,CAAe7T,KAAf,CAfmB;;AAAA;AAAA,gDAiBlBhQ,GAjBkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkB1B,GAzDgB;AA0DXmkB,MA1DW,gBA0DNlF,GA1DM,EA0DDpS,KA1DC,EA0DM4W,QA1DN,EA0DgB5Y,IA1DhB,EA4DW;AAAA,QAFWsV,SAEX,uEAFuB,IAEvB;AAAA,QAF6BuD,OAE7B,uEAFuC,IAEvC;AAAA,QAF6CrD,WAE7C,uEAF2D,IAE3D;AAAA,QADjBrQ,KACiB,uEADT,OACS;;AAAA;;AAAA,QADAC,MACA,uEADS,QACT;AAAA,QAAjBrJ,KAAiB,uEAAT,OAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBwd,qBADoB,GACVnF,IAAIoF,YADM;AAEpBC,oBAFoB,GAEXrF,IAAI8E,MAFO;AAGpBQ,yBAHoB,GAGNtF,IAAIuF,QAHE;AAIpBC,yBAJoB,GAINxF,IAAIyF,YAJE;AAKpBC,mBALoB,GAKZ1F,IAAI2F,MALQ;;;AAO1B3F,kBAAI8E,MAAJ,CAAWc,gBAAX,GAA8B,GAA9B;AACA5F,kBAAIoF,YAAJ,GAAmB,IAAnB;AACApF,kBAAIkB,SAAJ,GAAgBA,SAAhB;AACAlB,kBAAI0E,cAAJ,GAAqBD,OAArB;AACAzE,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,cAAN,EAAd;AACA6O,kBAAI2E,UAAJ,GAAkB,OAAO,IAAR,GAAgBvD,WAAjC;AACApB,kBAAIyF,YAAJ,GAAmBzF,IAAI2E,UAAvB;AACA3E,kBAAIuF,QAAJ,GAAe,IAAf;AACAvF,kBAAI2F,MAAJ,GAAa,IAAb;;AAhB0B;AAAA,qBAkBpB3F,IAAIyC,qBAAJ,CAA0B1R,KAA1B,EAAiCnF,IAAjC,CAlBoB;;AAAA;AAAA;AAAA,qBAmBpBoU,IAAI6F,eAAJ,CAAoB,SAApB,EAA+B3lB,KAAK4lB,QAApC,CAnBoB;;AAAA;AAqBpB7F,qBArBoB,GAqBV,CACd,eADc,EAEd,SAFc,kBAGAqE,gBAHA,gBAG2BD,UAH3B,EAId,UAJc,YAKPjD,cAAc,IAAd,GAAqB,CALd,SAMd,2BANc,EAOd,kCAPc,EAQd,wCARc,EASd,MATc,CArBU;;AAiC1B;;AAjC0B;AAAA,qBAkCRd,SAASN,GAAT,EAAcpS,KAAd,EAAqBqS,OAArB,EAA8BlP,KAA9B,EAAqCC,MAArC,EAA6CrJ,KAA7C,CAlCQ;;AAAA;AAkCpB5G,iBAlCoB;AAAA;AAAA,qBA4ChBif,IAAI/e,UAAJ,CAAe,0BAAf,CA5CgB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,oBA6ClB,IAAI+E,KAAJ,CAAU,qBAAV,CA7CkB;;AAAA;AAAA;AAAA,qBA+Cfga,IAAI/e,UAAJ,CAAe,OAAf,CA/Ce;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,oBAgDlB,IAAI+E,KAAJ,CAAU,sBAAV,CAhDkB;;AAAA;AAAA;AAAA,qBAkDpBga,IAAI4E,UAAJ,CAAe7T,KAAf,CAlDoB;;AAAA;AAmD1BiP,kBAAIgF,IAAJ,CAASriB,GAAT;AACAqd,kBAAIgF,IAAJ,CAASriB,GAAT;AACAqd,kBAAI8E,MAAJ,GAAaO,MAAb;AACArF,kBAAIoF,YAAJ,GAAmBD,OAAnB;AACAnF,kBAAIuF,QAAJ,GAAeD,WAAf;AACAtF,kBAAIyF,YAAJ,GAAmBD,WAAnB;AACAxF,kBAAI2F,MAAJ,GAAaD,KAAb;;AAzD0B,gDA2DnB3kB,GA3DmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4D3B;AAxHgB,CAAnB;AA0HA4gB,WAAWoE,CAAX,GAAepE,WAAW4C,GAA1B;;AAEA,IAAM7B,WAAW;AACT6B,KADS,eACLvE,GADK,EACApS,KADA,EACO4W,QADP,EAGkF;AAAA,QADvFzT,KACuF,uEAD/E,OAC+E;AAAA,QADtEC,MACsE,uEAD7D,QAC6D;AAAA,QADnDgV,MACmD,uEAD1C,QAC0C;AAAA,QAAvFC,YAAuF,uEAAxE,IAAwE;;AAAA;;AAAA,QAAlEC,aAAkE,uEAAlD,gBAAkD;AAAA,QAAhCC,YAAgC,uEAAjB,eAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/FnG,kBAAIkB,SAAJ,GAAgBxL,YAAYI,WAA5B;AACAkK,kBAAI0E,cAAJ,GAAqBhP,YAAYM,YAAjC;AACAgK,kBAAI2E,UAAJ,GAAiBjP,YAAYK,WAAZ,GAA0B,IAA3C;;AAH+F;AAAA,qBAKzFiK,IAAIyC,qBAAJ,CAA0B,MAA1B,EAAkC+B,QAAlC,EAA4C,IAA5C,CALyF;;AAAA;AAAA;AAAA,qBAO7ElE,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,QAAD,EAAWmD,KAAX,EAAkBC,MAAlB,EAA0BgV,MAA1B,CAArB,EACSC,YADT,EACuBC,aADvB,EACsCC,YADtC,CAP6E;;AAAA;AAOzFplB,iBAPyF;AAAA;AAAA,qBASzFif,IAAI4E,UAAJ,CAAe,MAAf,CATyF;;AAAA;AAAA;AAAA,qBAUzF5E,IAAI4E,UAAJ,CAAe7T,KAAf,CAVyF;;AAAA;AAAA;AAAA,qBAY5EiP,IAAIoG,eAAJ,CAAoBF,aAApB,CAZ4E;;AAAA;AAY/FnlB,kBAAIof,MAZ2F;AAAA;AAAA,qBAa5EH,IAAIoG,eAAJ,CAAoBD,YAApB,CAb4E;;AAAA;AAa/FplB,kBAAIqf,MAb2F;AAAA,gDAcxFrf,GAdwF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAehG;AAlBc,CAAjB;AAoBA2hB,SAASqD,CAAT,GAAarD,SAAS6B,GAAtB;;AAEA,IAAM1D,cAAc;AACZ0D,KADY,eACRvE,GADQ,EACHpS,KADG,EACIX,IADJ,EACUuX,QADV,EACoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9B6B,wBAD8B,GACjB,YADiB;AAAA;AAAA,qBAE9BrG,IAAIyC,qBAAJ,CAA0B4D,UAA1B,EAAsCpZ,IAAtC,CAF8B;;AAAA;AAI9BoY,oBAJ8B,GAIrBrF,IAAIsG,WAJiB;AAK9BnB,qBAL8B,GAKpBnF,IAAIoF,YALgB;AAM9BmB,mBAN8B,GAMtBvG,IAAIkB,SANkB;AAO9BsF,oBAP8B,GAOrBxG,IAAI0E,cAPiB;;AAQpC1E,kBAAIsG,WAAJ,GAAkB,IAAlB;AACAtG,kBAAIoF,YAAJ,GAAmB,IAAnB;AACApF,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIkB,SAAJ,GAAgBxL,YAAYG,cAA5B;AACAmK,kBAAI0E,cAAJ,GAAqBhP,YAAYG,cAAjC;;AAZoC;AAAA,qBAclByK,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,cAAD,EAAiB,SAAjB,EAA4B,KAA5B,EAAmC,YAAnC,EACCyY,UADD,EACa,KADb,CAArB,CAdkB;;AAAA;AAc9BtlB,iBAd8B;;;AAiBpCif,kBAAIoF,YAAJ,GAAmBD,OAAnB;AACAnF,kBAAIsG,WAAJ,GAAkBjB,MAAlB;AACArF,kBAAIkB,SAAJ,GAAgBqF,KAAhB;AACAvG,kBAAI0E,cAAJ,GAAqB8B,MAArB;AACAxG,kBAAIgF,IAAJ,CAASriB,GAAT;;AArBoC;AAAA,qBAuB9Bqd,IAAI4E,UAAJ,CAAeyB,UAAf,CAvB8B;;AAAA;AAAA,oBAyBhCtlB,IAAIwG,IAAJ,KAAa,CAAb,IAAkBid,QAzBc;AAAA;AAAA;AAAA;;AAAA;AAAA,qBA0B5BxE,IAAIyG,gBAAJ,CAAqB,OAArB,EAA8BjC,QAA9B,CA1B4B;;AAAA;AAAA;AAAA,qBA2B5BxE,IAAI4E,UAAJ,CAAe,OAAf,CA3B4B;;AAAA;AAAA;AAAA,qBA8BjB5E,IAAIoG,eAAJ,CAAoB,QAApB,CA9BiB;;AAAA;AA8BpCrlB,kBAAIof,MA9BgC;AAAA;AAAA,qBA+BjBH,IAAIoG,eAAJ,CAAoB,OAApB,CA/BiB;;AAAA;AA+BpCrlB,kBAAIqf,MA/BgC;AAAA;AAAA,qBAgC9BJ,IAAI4E,UAAJ,CAAe,QAAf,CAhC8B;;AAAA;AAAA;AAAA,qBAiC9B5E,IAAI4E,UAAJ,CAAe,OAAf,CAjC8B;;AAAA;AAAA,gDAkC7B7jB,GAlC6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCrC,GApCiB;AAqCZglB,GArCY,aAqCV/F,GArCU,EAqCLpS,KArCK,EAqCEX,IArCF,EAqCQuX,QArCR,EAqCkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5B6B,wBAD4B,GACf,UADe;AAAA;AAAA,qBAE5BrG,IAAIyC,qBAAJ,CAA0B4D,UAA1B,EAAsCpZ,IAAtC,CAF4B;;AAAA;AAI5BoY,oBAJ4B,GAInBrF,IAAIsG,WAJe;AAK5BnB,qBAL4B,GAKlBnF,IAAIoF,YALc;AAM5BmB,mBAN4B,GAMpBvG,IAAIkB,SANgB;AAO5BsF,oBAP4B,GAOnBxG,IAAI0E,cAPe;;AAQlC1E,kBAAIsG,WAAJ,GAAkB,IAAlB;AACAtG,kBAAIoF,YAAJ,GAAmB,IAAnB;AACApF,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIkB,SAAJ,GAAgBxL,YAAYG,cAA5B;AACAmK,kBAAI0E,cAAJ,GAAqBhP,YAAYG,cAAjC;;AAZkC;AAAA,qBAchByK,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,cAAD,EAAiB,SAAjB,EAA4B,KAA5B,EAAmC,UAAnC,EACCyY,UADD,EACa,KADb,CAArB,CAdgB;;AAAA;AAc5BtlB,iBAd4B;;;AAkBlCif,kBAAIoF,YAAJ,GAAmBD,OAAnB;AACAnF,kBAAIsG,WAAJ,GAAkBjB,MAAlB;AACArF,kBAAIkB,SAAJ,GAAgBqF,KAAhB;AACAvG,kBAAI0E,cAAJ,GAAqB8B,MAArB;AACAxG,kBAAIgF,IAAJ,CAASriB,GAAT;;AAtBkC;AAAA,qBAwB5Bqd,IAAI4E,UAAJ,CAAeyB,UAAf,CAxB4B;;AAAA;AAAA,oBA0B9BtlB,IAAIwG,IAAJ,KAAa,CAAb,IAAkBid,QA1BY;AAAA;AAAA;AAAA;;AAAA;AAAA,qBA2B1BxE,IAAIyG,gBAAJ,CAAqB,OAArB,EAA8BjC,QAA9B,CA3B0B;;AAAA;AAAA;AAAA,qBA4B1BxE,IAAI4E,UAAJ,CAAe,OAAf,CA5B0B;;AAAA;AAAA;AAAA,qBA+Bf5E,IAAIoG,eAAJ,CAAoB,QAApB,CA/Be;;AAAA;AA+BlCrlB,kBAAIof,MA/B8B;AAAA;AAAA,qBAgC5BH,IAAI4E,UAAJ,CAAe,QAAf,CAhC4B;;AAAA;AAAA,gDAiC3B7jB,GAjC2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCnC,GAvEiB;AAwEZmkB,MAxEY,gBAwEPlF,GAxEO,EAwEFpS,KAxEE,EAwEKX,IAxEL,EAwEW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBoZ,wBADqB,GACR,WADQ;AAAA;AAAA,qBAErBrG,IAAIyC,qBAAJ,CAA0B4D,UAA1B,EAAsCpZ,IAAtC,CAFqB;;AAAA;AAIrBoY,oBAJqB,GAIZrF,IAAIsG,WAJQ;AAKrBnB,qBALqB,GAKXnF,IAAIoF,YALO;AAMrBmB,mBANqB,GAMbvG,IAAIkB,SANS;AAOrBsF,oBAPqB,GAOZxG,IAAI0E,cAPQ;;AAQ3B1E,kBAAIsG,WAAJ,GAAkB,IAAlB;AACAtG,kBAAIoF,YAAJ,GAAmB,IAAnB;AACApF,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,cAAN,EAAd;AACA6O,kBAAIkB,SAAJ,GAAgBxL,YAAYG,cAA5B;AACAmK,kBAAI0E,cAAJ,GAAqBhP,YAAYG,cAAjC;;AAb2B;AAAA,qBAeTyK,SAASN,GAAT,EAAcpS,KAAd,EACS,CAAC,gBAAD,EAAmB,QAAnB,EAA6B,WAA7B,EAA0C,OAA1C,EAAmDyY,UAAnD,CADT,CAfS;;AAAA;AAerBtlB,iBAfqB;;;AAkB3Bif,kBAAIoF,YAAJ,GAAmBD,OAAnB;AACAnF,kBAAIsG,WAAJ,GAAkBjB,MAAlB;AACArF,kBAAIkB,SAAJ,GAAgBqF,KAAhB;AACAvG,kBAAI0E,cAAJ,GAAqB8B,MAArB;AACAxG,kBAAIgF,IAAJ,CAASriB,GAAT;AACAqd,kBAAIgF,IAAJ,CAASriB,GAAT;;AAvB2B;AAAA,qBAyBrBqd,IAAI4E,UAAJ,CAAeyB,UAAf,CAzBqB;;AAAA;AAAA,oBA2BvBtlB,IAAIwG,IAAJ,KAAa,CA3BU;AAAA;AAAA;AAAA;;AAAA;AAAA,qBA4BnByY,IAAI0G,aAAJ,CAAkB,SAAlB,EAA6BxmB,KAAK4lB,QAAlC,CA5BmB;;AAAA;AAAA;AAAA,qBA+BR9F,IAAIoG,eAAJ,CAAoB,QAApB,CA/BQ;;AAAA;AA+B3BrlB,kBAAIof,MA/BuB;AAAA;AAAA,qBAgCRH,IAAIoG,eAAJ,CAAoB,OAApB,CAhCQ;;AAAA;AAgC3BrlB,kBAAIqf,MAhCuB;AAAA;AAAA,qBAiCrBJ,IAAI4E,UAAJ,CAAe,QAAf,CAjCqB;;AAAA;AAAA;AAAA,qBAkCrB5E,IAAI4E,UAAJ,CAAe,OAAf,CAlCqB;;AAAA;AAAA,gDAmCpB7jB,GAnCoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoC5B,GA5GiB;AA6GZ8jB,KA7GY,eA6GR7E,GA7GQ,EA6GHpS,KA7GG,EA6GIX,IA7GJ,EA6GUuX,QA7GV,EA6GoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9B6B,wBAD8B,GACjB,QADiB;AAAA;AAAA,qBAE9BrG,IAAIyC,qBAAJ,CAA0B4D,UAA1B,EAAsCpZ,IAAtC,CAF8B;;AAAA;AAI9BoY,oBAJ8B,GAIrBrF,IAAIsG,WAJiB;AAK9BnB,qBAL8B,GAKpBnF,IAAIoF,YALgB;AAM9BmB,mBAN8B,GAMtBvG,IAAIkB,SANkB;AAO9BsF,oBAP8B,GAOrBxG,IAAI0E,cAPiB;;AAQpC1E,kBAAIsG,WAAJ,GAAkB,IAAlB;AACAtG,kBAAIoF,YAAJ,GAAmB,IAAnB;AACApF,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIkB,SAAJ,GAAgBxL,YAAYG,cAA5B;AACAmK,kBAAI0E,cAAJ,GAAqBhP,YAAYG,cAAjC;;AAboC;AAAA,qBAelByK,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,kBAAD,EAAqB,IAArB,EAA2B,YAA3B,EACCyY,UADD,CAArB,CAfkB;;AAAA;AAe9BtlB,iBAf8B;;;AAkBpCif,kBAAIoF,YAAJ,GAAmBD,OAAnB;AACAnF,kBAAIsG,WAAJ,GAAkBjB,MAAlB;AACArF,kBAAIkB,SAAJ,GAAgBqF,KAAhB;AACAvG,kBAAI0E,cAAJ,GAAqB8B,MAArB;AACAxG,kBAAIgF,IAAJ,CAASriB,GAAT;AACAqd,kBAAIgF,IAAJ,CAASriB,GAAT;;AAvBoC;AAAA,qBAyB9Bqd,IAAI4E,UAAJ,CAAeyB,UAAf,CAzB8B;;AAAA;AAAA,oBA2BhCtlB,IAAIwG,IAAJ,KAAa,CAAb,IAAkBid,QA3Bc;AAAA;AAAA;AAAA;;AAAA;AAAA,qBA4B5BxE,IAAI0G,aAAJ,CAAkB,UAAlB,EAA8B;AAAA,uBAAK,SAAL;AAAA,eAA9B,CA5B4B;;AAAA;AAAA;AAAA,qBA8BjB1G,IAAIoG,eAAJ,CAAoB,QAApB,CA9BiB;;AAAA;AA8BpCrlB,kBAAIof,MA9BgC;AAAA;AAAA,qBA+BjBH,IAAIoG,eAAJ,CAAoB,OAApB,CA/BiB;;AAAA;AA+BpCrlB,kBAAIqf,MA/BgC;AAAA;AAAA,qBAgC9BJ,IAAI4E,UAAJ,CAAe,QAAf,CAhC8B;;AAAA;AAAA;AAAA,qBAiC9B5E,IAAI4E,UAAJ,CAAe,OAAf,CAjC8B;;AAAA;AAAA,iDAkC7B7jB,GAlC6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCrC,GAhJiB;AAiJZkkB,KAjJY,eAiJRjF,GAjJQ,EAiJHpS,KAjJG,EAiJIX,IAjJJ,EAiJUuX,QAjJV,EAiJoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9B6B,wBAD8B,GACjB,QADiB;AAAA;AAAA,qBAE9BrG,IAAIyC,qBAAJ,CAA0B4D,UAA1B,EAAsCpZ,IAAtC,CAF8B;;AAAA;AAI9BoY,oBAJ8B,GAIrBrF,IAAIsG,WAJiB;AAK9BnB,qBAL8B,GAKpBnF,IAAIoF,YALgB;AAM9BmB,mBAN8B,GAMtBvG,IAAIkB,SANkB;AAO9BsF,oBAP8B,GAOrBxG,IAAI0E,cAPiB;;AAQpC1E,kBAAIsG,WAAJ,GAAkB,IAAlB;AACAtG,kBAAIoF,YAAJ,GAAmB,IAAnB;AACApF,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;AACA6O,kBAAIkB,SAAJ,GAAgBxL,YAAYG,cAA5B;AACAmK,kBAAI0E,cAAJ,GAAqBhP,YAAYG,cAAjC;;AAboC;AAAA,qBAelByK,SAASN,GAAT,EAAcpS,KAAd,EAAqB,CAAC,kBAAD,EAAqB,IAArB,EAA2B,YAA3B,EACCyY,UADD,CAArB,CAfkB;;AAAA;AAe9BtlB,iBAf8B;;;AAkBpCif,kBAAIoF,YAAJ,GAAmBD,OAAnB;AACAnF,kBAAIsG,WAAJ,GAAkBjB,MAAlB;AACArF,kBAAIkB,SAAJ,GAAgBqF,KAAhB;AACAvG,kBAAI0E,cAAJ,GAAqB8B,MAArB;AACAxG,kBAAIgF,IAAJ,CAASriB,GAAT;AACAqd,kBAAIgF,IAAJ,CAASriB,GAAT;;AAvBoC;AAAA,qBAyB9Bqd,IAAI4E,UAAJ,CAAeyB,UAAf,CAzB8B;;AAAA;AAAA,oBA2BhCtlB,IAAIwG,IAAJ,KAAa,CAAb,IAAkBid,QA3Bc;AAAA;AAAA;AAAA;;AAAA;AAAA,qBA4B5BxE,IAAI0G,aAAJ,CAAkB,UAAlB,EAA8B;AAAA,uBAAK,SAAL;AAAA,eAA9B,CA5B4B;;AAAA;AAAA;AAAA,qBA+BjB1G,IAAIoG,eAAJ,CAAoB,QAApB,CA/BiB;;AAAA;AA+BpCrlB,kBAAIof,MA/BgC;AAAA;AAAA,qBAgCjBH,IAAIoG,eAAJ,CAAoB,OAApB,CAhCiB;;AAAA;AAgCpCrlB,kBAAIqf,MAhCgC;AAAA;AAAA,qBAiC9BJ,IAAI4E,UAAJ,CAAe,QAAf,CAjC8B;;AAAA;AAAA;AAAA,qBAkC9B5E,IAAI4E,UAAJ,CAAe,OAAf,CAlC8B;;AAAA;AAAA,iDAmC7B7jB,GAnC6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoCrC;AArLiB,CAApB;;AAwLA;AACA,IAAMyf,cAAc,OAApB;AACA,IAAME,mBAAmB,YAAzB;AACA,IAAMiG,eAAe,WAArB;AACA,IAAM/D,oBAAoB,gBAA1B,CA8TA,IAAI,CAACtiB,OAAOqN,MAAR,IAAkB,KAAtB,EAA6B;AAC3B,6DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACOhK,eADP,GACa,IAAIqU,gBAAJ,EADb;AAEOpK,iBAFP,GAEe,IAAI3B,OAAJ,EAFf;AAAA;AAAA,mBAGO2B,MAAMwQ,OAAN,CAAc,uBAAd,CAHP;;AAAA;AAKOwI,sBALP,GAKoB,IAAIjW,UAAJ,CAAe/C,KAAf,CALpB;AAAA;AAAA,mBAMoBgZ,WAAW/Y,IAAX,EANpB;;AAAA;AAMOyC,gBANP;;;AAQC;AACM/I,gBATP,GASc,2HATd;AAUOsf,qBAVP,GAUmB,uLAVnB;AAWOC,oBAXP,GAWkB,yGAXlB;AAYOC,yBAZP,GAYuB,0FAZvB;AAaOC,sBAbP,GAaoB,+IAbpB;AAcK;AACA;;AAEEC,uBAjBP;AAwBOC,wBAxBP;AAiCOC,wBAjCP;AAkDOC,sBAlDP;AAwFOC,kBAxFP,GAwFgB,WAxFhB;AAAA,4BA0FC7c,KA1FD;AAAA;AAAA,mBA0FwBuZ,SAASpgB,GAAT,EAAc2M,IAAd,EAAoB1C,KAApB,EAA2BuZ,YAA3B,EAAyC,MAAzC,CA1FxB;;AAAA;AAAA;;AAAA,0BA0FOjlB,UA1FP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD;AA+HD;;AAED;AACA,IAAMsd,qBAAqB;AACzB+E,OAAK,QADoB;AAEzBwB,KAAG,MAFsB;AAGzBb,QAAM,QAHmB;AAIzBL,OAAK,UAJoB;AAKzBI,OAAK;AALoB,CAA3B;;AAQA3kB,OAAOC,OAAP,GAAiB,EAAEwjB,kBAAF,EAAYE,wBAAZ,EAAyBzE,sCAAzB,EAAjB,C;;;;;;;ACj0BA,4C;;;;;;;;;;;;;;;;;;;;;;;ACAA,IAAM8H,eAAe;AACnB,MAAI,iBADe;AAEnBC,eAAa,UAFM;AAGnBC,gBAAc,SAHK;;AAKnBC,cAAY,cALO;AAMnBC,eAAa,eANM;AAOnBC,eAAa,uBAPM;AAQnBC,eAAa,qBARM;AASnBC,eAAa,yBATM;AAUnBC,eAAa,uBAVM;;AAYnBC,cAAY,mBAZO;AAanBC,eAAa,uBAbM;;AAenBC,gBAAc,gBAfK;AAgBnBC,gBAAc,mBAhBK;;AAkBnBC,cAAY,eAlBO;AAmBnBC,cAAY,eAnBO;;AAqBnBC,cAAY;AArBO,CAArB;;IAwBMxG,O;AACJ,mBAAYnN,KAAZ,EAAmBP,OAAnB,EAAoD;AAAA,QAAxBsJ,MAAwB,uEAAf,CAAC,CAAc;AAAA,QAAXD,IAAW,uEAAJ,EAAI;AAAA;;AAClD,SAAK9I,KAAL,GAAaA,SAAS,CAAtB;AACA,SAAKP,OAAL,GAAeA,OAAf;AACA,SAAKsJ,MAAL,GAAcA,MAAd;AACA,SAAKD,IAAL,GAAY,EAAZ;AACA,QAAI,OAAOA,IAAP,KAAgB,QAApB,EACE,sBAAc,KAAKA,IAAnB,EAAyB,EAAEgF,MAAMhF,IAAR,EAAzB,EADF,KAGE,sBAAc,KAAKA,IAAnB,EAAyBA,QAAQ,EAAjC;AACH;;;;kCAEa;AACZ,aAAO,KAAKC,MAAL,IAAe,CAAtB;AACD;;;kCAEa;AACZ,aAAO,KAAKD,IAAL,CAAUgF,IAAV,IAAkB,EAAzB;AACD;;;qCAEgB;AACf,aAAO,KAAKrO,OAAZ;AACD;;;qCAEgB;AACf,aAAOmT,aAAa7Z,cAAb,CAA4B,KAAK0G,OAAjC,IACHmT,aAAa,KAAKnT,OAAlB,CADG,GAEH,KAAKA,OAFT;AAGD;;;+BAEU;AACT,aAAO,KAAKO,KAAZ;AACD;;;gCAEW;AACV,aAAO7C,KAAK0F,GAAL,CAAS,CAAT,EAAY,KAAKkG,MAAjB,CAAP;AACD;;;6BAEQ;AACP,aAAO;AACL/I,eAAO,KAAKA,KADP;AAELP,iBAAS,KAAKA,OAFT;AAGLsJ,gBAAQ,KAAKA,MAHR;AAILD,cAAM,KAAKA;AAJN,OAAP;AAMD;;;6BAEe9V,I,EAAM;AACpB,aAAO,IAAIma,OAAJ,CAAYna,KAAKgN,KAAL,IAAc,CAA1B,EAA6BhN,KAAKyM,OAAlC,EAA2CzM,KAAK+V,MAAL,IAAe,CAAC,CAA3D,EAA8D/V,KAAK8V,IAAL,IAAa,EAA3E,CAAP;AACD;;;;;AAGHld,OAAOC,OAAP,GAAiB;AACfshB,kBADe;AAEfyF;AAFe,CAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5EA;;;AAGA,IAAMgB,UAAU,mBAAAnoB,CAAQ,EAAR,CAAhB;;AAEA,IAAMC,KAAK,mBAAAD,CAAQ,EAAR,CAAX;;AAEA,IAAMD,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMqD,SAAS,mBAAArD,CAAQ,EAAR,CAAf;AACA,IAAMooB,OAAO,mBAAApoB,CAAQ,EAAR,CAAb;AACA,IAAMqK,QAAQ,mBAAArK,CAAQ,EAAR,CAAd;IACQyB,S,GAAc4I,K,CAAd5I,S;;;AAER,IAAMqK,UAAU,mBAAA9L,CAAQ,EAAR,EAAqByM,aAArC;IACQ8I,W,GAAgB6S,I,CAAhB7S,W;;AACR,IAAM8S,uBAAuB,mBAAAroB,CAAQ,EAAR,EAAiCsoB,KAA9D;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA,SAASC,kBAAT,CAA4BzI,OAA5B,EAA8D;AAAA,MAAzBpe,IAAyB,uEAAlB,EAAkB;AAAA,MAAd8mB,OAAc,uEAAJ,EAAI;;AAC5D,MAAIA,QAAQlb,cAAR,CAAuB,OAAvB,CAAJ,EAAqC;AACnCkb,YAAQC,OAAR,GAAkBD,QAAQE,KAA1B;AACA,WAAOF,QAAQE,KAAf;AACD;AACD,SAAOL,qBAAqBvI,OAArB,EAA8Bpe,IAA9B,EAAoC8mB,OAApC,CAAP;AACD;;AAED;;;;;;;IAMMG,O;AACJ;;;;;AAKA,mBAAYnlB,GAAZ,EAAiBiK,KAAjB,EAAwB;AAAA;;AACtB,QAAIhE,IAAIsC,MAAJ,KAAe4c,OAAnB,EACE,6CAA2C,KAAK3c,WAAL,CAAiBlI,IAA5D;AACF,SAAK8kB,MAAL,GAAcnb,KAAd;AACA,SAAKjK,GAAL,GAAWA,GAAX;AACD;;;;+BAEUiK,K,EAAO;AAChB,WAAKmb,MAAL,GAAcnb,KAAd;AACD;;;mCAEcjK,G,EAAK;AAClB,WAAKA,GAAL,GAAWA,GAAX;AACD;;;kCAEa;AACZ,YAAM,iDAAN;AACD;;;qCAEgB;AACf,YAAM,iDAAN;AACD;;;qCAEgB;AACf,YAAM,iDAAN;AACD;;;kCAEa;AACZ,YAAM,iDAAN;AACD;;AAED;;;;;;;gCAIY/C,C,EAAG;AACb,aAAOV,KAAKgN,IAAL,CAAU,KAAK8b,WAAL,EAAV,EAA8BpoB,CAA9B,CAAP;AACD;;;6BAEQid,I,EAAM;AACb,UAAIA,SAAS,IAAb,EACE,OAAO,GAAP,CADF,KAEK,IAAIA,SAAS,KAAb,EACH,OAAO,GAAP;AACF,aAAOA,IAAP;AACD;;AAED;;;;;;;;;;;6FAOejd,C;YAAGqoB,K,uEAAQ,K;YAAOpL,I,uEAAO,K;;;;;;AAChCrS,uB,GAAU,KAAK0d,WAAL,CAAiBtoB,CAAjB,C;;;uBAEGR,GAAGqL,IAAH,CAAQD,OAAR,EAAiByd,KAAjB,EAAwB,KAAKE,QAAL,CAActL,IAAd,CAAxB,C;;;AAAXuL,kB;iDACCA,E;;;;;;AAEP5lB,uBAAOmE,KAAP,CAAa,mCAAb,EAAkD,KAAKwE,WAAL,CAAiBlI,IAAnE,EAAyErD,CAAzE;;;;;;;;;;;;;;;;;;AAKJ;;;;;;;;;+FAKiBA,C;YAAGid,I,uEAAO,K;;;;;;AACnBrS,uB,GAAU,KAAK0d,WAAL,CAAiBtoB,CAAjB,C;;;uBAEGR,GAAGqL,IAAH,CAAQD,OAAR,EAAiB,KAAjB,C;;;AAAX4d,kB;;uBACAhpB,GAAGipB,KAAH,CAAS7d,OAAT,EAAkB,KAAK2d,QAAL,CAActL,IAAd,CAAlB,C;;;;uBACAzd,GAAG0L,KAAH,CAASsd,EAAT,C;;;;;;;;;;AAEN5lB,uBAAOmE,KAAP,CAAa,qCAAb,EAAoD,KAAKwE,WAAL,CAAiBlI,IAArE,EAA2ErD,CAA3E;;;;;;;;;;;;;;;;;;AAKJ;;;;;;;;;;+FAM4BA,C,EAAGkX,C;YAAG+F,I,uEAAO,K;;;;;;AACjCrS,uB,GAAU,KAAK0d,WAAL,CAAiBtoB,CAAjB,C;;;uBAEI,KAAKmoB,MAAL,CAAYzc,aAAZ,CAA0BwL,CAA1B,C;;;AAAZwR,mB;;uBACAlpB,GAAGsM,SAAH,CAAalB,OAAb,EAAsB8d,GAAtB,EAA2B,EAAEC,MAAM,KAAR,EAA3B,C;;;;uBACAnpB,GAAGipB,KAAH,CAAS7d,OAAT,EAAkB,KAAK2d,QAAL,CAActL,IAAd,CAAlB,C;;;;;;;;;;AAENra,uBAAOmE,KAAP,CAAa,+CAAb,EAA8D,KAAKwE,WAAL,CAAiBlI,IAA/E;;;;;;;;;;;;;;;;;;;;+FAKuBrD,C,EAAGyL,O;YAASwR,I,uEAAO,K;;;;;;AACtCrS,uB,GAAU,KAAK0d,WAAL,CAAiBtoB,CAAjB,C;;;uBAERR,GAAGsM,SAAH,CAAalB,OAAb,EAAsBa,OAAtB,EAA+B,EAAEkd,MAAM,KAAR,EAA/B,C;;;;uBACAnpB,GAAGipB,KAAH,CAAS7d,OAAT,EAAkB,KAAK2d,QAAL,CAActL,IAAd,CAAlB,C;;;;;;;;;;AAENra,uBAAOmE,KAAP,CAAa,+CAAb,EAA8D,KAAKwE,WAAL,CAAiBlI,IAA/E;;;;;;;;;;;;;;;;;;AAKJ;;;;;;;;;+FAKcrD,C;;;;;;;AAEJ4K,uB,GAAU,KAAK0d,WAAL,CAAiBtoB,CAAjB,C;;uBACCR,GAAGqL,IAAH,CAAQD,OAAR,EAAiB,GAAjB,C;;;AAAX4d,kB;kDACCA,E;;;;;;AAEP5lB,uBAAOmE,KAAP,CAAa,uCAAb,EACa,KAAKwE,WAAL,CAAiBlI,IAD9B,EACoCrD,CADpC;;;;;;;;;;;;;;;;;;;;+FAMkBA,C;;;;;;;AAEZ4K,uB,GAAU,KAAK0d,WAAL,CAAiBtoB,CAAjB,C;;uBACHR,GAAGuM,QAAH,CAAYnB,OAAZ,EAAqB,MAArB,C;;;;;;;;;sBAET,aAAEjE,IAAF,KAAW,Q;;;;;kDACN,E;;;AACT/D,uBAAOmE,KAAP,CAAa,uCAAb,EACa,KAAKwE,WAAL,CAAiBlI,IAD9B,EACoCrD,CADpC;;;;;;;;;;;;;;;;;;AAMJ;;;;;;;;;+FAKuBA,C,EAAGkX,C;;;;;;;AAEhBtM,uB,GAAU,KAAK0d,WAAL,CAAiBtoB,CAAjB,C;+BACV,KAAKmoB,M;+BAA6BjR,C;;uBAAS1X,GAAGuM,QAAH,CAAYnB,OAAZ,C;;;;;oCAA/B6B,qB;;;;;;;;;;AAElB7J,uBAAOmE,KAAP,CAAa,kDAAb,EACa,KAAKwE,WAAL,CAAiBlI,IAD9B,EACoCrD,CADpC;;;;;;;;;;;;;;;;;;;+FAKgBS,O,EAASmoB,G;;;;;;;;;;uBAEL5nB,UAAUP,OAAV,EAAmB,EAAEyL,KAAK,KAAKkc,WAAL,EAAP,EAA2BS,UAAU,IAArC,EAAnB,C;;;AAAd9nB,qB;;uBACA2mB,QAAQvc,GAAR,CAAYpK,MAAMqL,GAAN;AAAA,yFAAU,kBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA,2CAC1B,MAAK8b,MADqB;AAAA,2CACQS,IAAIvc,IAAJ,CADR;AAAA;AAAA,mCACyB7M,GAAGuM,QAAH,CAAYM,IAAZ,CADzB;;AAAA;AAAA;;AAAA,yCACdI,qBADc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAV;;AAAA;AAAA;AAAA;AAAA,oBAAZ,C;;;;;;;;;;AAINlL,wBAAQC,GAAR;AACAoB,uBAAOmE,KAAP,CAAa,oCAAb;;;;;;;;;;;;;;;;;;;iGAIkBtG,O,EAASmoB,G;;;;;;;;;uBACP,KAAKT,MAAL,CAAYtnB,IAAZ,CAAiBJ,OAAjB,C;;;AAAhBqoB,uB;;uBACApB,QAAQvc,GAAR,CAAY2d,QAAQ1c,GAAR;AAAA,0FAAY,mBAAOmC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACtB,OAAKsT,qBAAL,CAA2B+G,IAAIra,KAAJ,CAA3B,EAAuCA,KAAvC,CADsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAZ;;AAAA;AAAA;AAAA;AAAA,oBAAZ,C;;;;;;;;;;;;;;;;;;;iGAKWvO,C;;;;;;;uBACCR,GAAGS,IAAH,CAAQ,KAAKqoB,WAAL,CAAiBtoB,CAAjB,CAAR,C;;;AAAZG,mB;mDACCA,G;;;;;;;;;;;;;;;;;;;iGAGGH,C;YAAG+oB,I,uEAAO,G;;;;;;uBACdvpB,GAAGipB,KAAH,CAAS,KAAKH,WAAL,CAAiBtoB,CAAjB,CAAT,EAA8B+oB,IAA9B,C;;;;;;;;;;;;;;;;;;;iGAGS/oB,C;;;;;;;uBAEP,KAAKgpB,YAAL,CAAkBhpB,CAAlB,C;;;mDACC,I;;;;;mDAEA,K;;;;;;;;;;;;;;;;;;;iGAIMA,C;;;;;;;;uBAEK,KAAKgpB,YAAL,CAAkBhpB,CAAlB,C;;;AAAZG,mB;mDACCA,IAAIC,MAAJ,E;;;;;;AAEPmB,wBAAQC,GAAR;mDACO,K;;;;;;;;;;;;;;;;;;;iGAIKxB,C;;;;;;;;uBAEM,KAAKgpB,YAAL,CAAkBhpB,CAAlB,C;;;AAAZG,mB;mDACCA,IAAII,WAAJ,E;;;;;mDAEA,K;;;;;;;;;;;;;;;;;;;iGAIKP,C;;;;;;;uBAENR,GAAGypB,KAAH,CAAS,KAAKX,WAAL,CAAiBtoB,CAAjB,CAAT,C;;;;;;;;;;sBAEF,cAAE2G,IAAF,KAAW,Q;;;;;;;;;;;;;;;;;;;;;;;;iGAKF3G,C;;;;;;;uBAEPR,GAAG0pB,MAAH,CAAU,KAAKZ,WAAL,CAAiBtoB,CAAjB,CAAV,C;;;;;;;;;;sBAEF,cAAE2G,IAAF,KAAW,Q;;;;;;;;;;;;;;;;;;;;;;;;;AAMrB,IAAM6a,eAAe;AACnB2H,sBAAoB,eADD;AAEnBC,WAAS,IAFU;AAGnBC,eAAa,QAHM;AAInB5H,gBAAc,SAJK;AAKnBC,qBAAmB,cALA;AAMnB4H,oBAAkB,aANC;AAOnBC,gBAAc,SAPK;AAQnB5H,qBAAmB,uBARA;AASnB6H,uBAAqB;AATF,CAArB;;IAYMzJ,O;;;AACJ,mBAAYhd,GAAZ,EAAiBiK,KAAjB,EAAkC;AAAA,QAAVxL,GAAU,uEAAJ,EAAI;AAAA;;AAAA,yIAC1BuB,GAD0B,EACrBiK,KADqB;;AAEhC,WAAKxL,GAAL,GAAWA,GAAX;AACA,WAAKlC,IAAL,GAAY,IAAZ;AACA,WAAKmqB,WAAL,GAAmB,KAAnB;AAJgC;AAKjC;;;;kCAEa;AACZ,UAAI,CAAC,KAAKnqB,IAAV,EACE,MAAM,wBAAN;AACF,aAAO,KAAKA,IAAZ;AACD;;;iCAEYU,C,EAAG;AACd,aAAOV,KAAKgN,IAAL,CAAU,KAAKod,QAAf,EAAyB1pB,CAAzB,CAAP;AACD;;;wCAEmB;AAClB,WAAK+kB,MAAL,GAAc,IAAd;AACA,WAAK4E,KAAL,GAAa,KAAKD,QAAlB;AACA,WAAKtF,IAAL,GAAY,CACV,EAAE7T,IAAI,KAAKmZ,QAAX,EAAqBlZ,KAAK,KAAKlR,IAA/B,EAAqCoB,MAAM,IAA3C,EADU,CAAZ;;AAIA,WAAKglB,WAAL,GAAmB,KAAnB;AACA,WAAKkE,UAAL,GAAkB,EAAlB;AACA,WAAK1F,MAAL,GAAc,EAAd;AACA,WAAK2F,KAAL,GAAa,IAAb;AACA,WAAKvK,KAAL,GAAa,IAAb;AACA,WAAKC,MAAL,GAAc,IAAd;AACA,WAAKC,MAAL,GAAc,IAAd;AACA,WAAKsK,SAAL,GAAiB,IAAjB;AACA,WAAK/F,UAAL,GAAkB,IAAlB;AACA,WAAKS,YAAL,GAAoB,CAApB;AACA,WAAKlE,SAAL,GAAiB,IAAjB;AACA,WAAKwD,cAAL,GAAsB,IAAtB;AACA,WAAKiG,cAAL,GAAsB,IAAtB;AACA,WAAKC,SAAL,GAAiB,CAAjB;AACA,WAAKC,SAAL,GAAiB,IAAjB;;AAEA,WAAKpF,YAAL,GAAoB,IAApB;AACA,WAAKF,QAAL,GAAgB,KAAhB;AACD;;;;;;;;;;qBAGK,KAAK8E,W;;;;;AACP,qBAAKS,iBAAL;;uBACM1qB,GAAG2qB,QAAH,CAAY,KAAK7qB,IAAjB,C;;;;;;;AAIR,qBAAK8qB,KAAL,GAAa,KAAKrnB,GAAL,CAASsnB,YAAT,EAAb;AACA,qBAAKC,UAAL,GAAkBxV,YAAYU,YAA9B;AACA,qBAAK+U,KAAL,GAAa,CAAC,CAAd;;;uBAEsB/qB,GAAG0B,OAAH,CAAW5B,KAAKgN,IAAL,CAAUwI,YAAYS,QAAtB,EAAgC,MAAhC,CAAX,C;;;AAAtB,qBAAKiV,Q;;AACL,qBAAKd,QAAL,GAAgB,MAAhB;;AAEA;AACA,qBAAKpqB,IAAL,GAAY,KAAKkrB,QAAL,GAAgB,KAAKd,QAAjC;;AAEA;;uBACMlqB,GAAGirB,KAAH,CAAS,KAAKnrB,IAAd,C;;;;uBACAE,GAAGipB,KAAH,CAAS,KAAKnpB,IAAd,EAAoB,GAApB,C;;;;AAENsD,uBAAO6P,KAAP,CAAa,kCAAb,EAAiD,KAAKnT,IAAtD,EAA4D,KAAK8qB,KAAjE;AACA,qBAAKF,iBAAL;;AAEMphB,sB,GAAS,E;;AACf,oBAAI,KAAKic,MAAT,EACEjc,OAAO7G,IAAP,CAAY,MAAZ;AACF6G,uBAAO7G,IAAP,eAAwB,KAAKmoB,KAA7B;AACAthB,uBAAO7G,IAAP,CAAY,QAAZ;;;;uBAGQ6lB,mBAAmB,KAAKwC,UAAxB,EAAoCxhB,MAApC,EAA4C,EAAEmf,OAAO,CAAC,QAAD,CAAT,EAA5C,C;;;AACN,qBAAKwB,WAAL,GAAmB,IAAnB;;;;;;;;AAEA7mB,uBAAOmE,KAAP,CAAa,4CAAb;;;;;;;;;;;;;;;;;;;mCAKW/G,C,EAAG;AAChB,UAAI,KAAKiqB,SAAT,EACE,OAAO,KAAK3B,WAAL,CAAiBtoB,CAAjB,CAAP;AACF,aAAO,KAAK0qB,YAAL,CAAkB1qB,CAAlB,CAAP;AACD;;;iCAEY;AACX,UAAMG,MAAM,eAAa,KAAKiqB,KAAlB,CAAZ;AACA;;AAEA,UAAI,KAAKH,SAAT,EACE9pB,IAAI8B,IAAJ,kBAAwB,KAAKgoB,SAA7B;AACF,UAAI,KAAKN,KAAT,EACExpB,IAAI8B,IAAJ,cAAoB,KAAK0nB,KAAzB;AAPS;AAAA;AAAA;;AAAA;AAQX,wDAAkB,KAAKvF,IAAvB,4GAA6B;AAAA,cAAlBuG,GAAkB;;AAC3B,cAAIlX,IAAIkX,IAAIpa,EAAZ;AACA,cAAIoa,IAAIna,GAAR,EACEiD,WAASkX,IAAIna,GAAb;AACF,cAAIma,IAAIjqB,IAAR,EACE+S,WAASkX,IAAIjqB,IAAb;AACFP,cAAI8B,IAAJ,YAAkBwR,CAAlB;AACD;AAfU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgBX,UAAI,KAAKiS,WAAT,EACEvlB,IAAI8B,IAAJ,CAAS,YAAT;;AAjBS;AAAA;AAAA;;AAAA;AAmBX,yDAAgB,KAAK2nB,UAArB;AAAA,cAAWzO,CAAX;;AACEhb,cAAI8B,IAAJ,YAAkBkZ,CAAlB;AADF;AAnBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAqBX,yDAAkB,oBAAY,KAAK+I,MAAjB,CAAlB;AAAA,cAAW5Q,GAAX;;AACEnT,cAAI8B,IAAJ,YAAkBqR,GAAlB,SAAyB,KAAK4Q,MAAL,CAAY5Q,GAAZ,CAAzB;AADF;AArBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAyBX,UAAI,KAAKuW,KAAT,EACE1pB,IAAI8B,IAAJ,cAAoB,KAAK4nB,KAAzB;AACF,UAAI,KAAKvK,KAAT,EACEnf,IAAI8B,IAAJ,cAAoB,KAAKyoB,YAAL,CAAkB,KAAKpL,KAAvB,CAApB;AACF,UAAI,KAAKC,MAAT,EACEpf,IAAI8B,IAAJ,eAAqB,KAAK2oB,cAAL,CAAoB,KAAKrL,MAAzB,CAArB;AACF,UAAI,KAAKC,MAAT,EACErf,IAAI8B,IAAJ,eAAqB,KAAK2oB,cAAL,CAAoB,KAAKpL,MAAzB,CAArB;AACF,UAAI,KAAKsK,SAAT,EACE3pB,IAAI8B,IAAJ,cAAoB,KAAK6nB,SAAzB;AACF,UAAI,KAAK/F,UAAT,EACE5jB,IAAI8B,IAAJ,YAAkB,KAAK8hB,UAAvB;AACF,UAAI,KAAKS,YAAT,EACErkB,IAAI8B,IAAJ,kBAAwB,KAAKuiB,YAA7B,EADF,KAGErkB,IAAI8B,IAAJ,CAAS,aAAT;;AAEF,UAAI,KAAKqe,SAAT,EACEngB,IAAI8B,IAAJ,aAAmB,KAAKqe,SAAxB;AACF,UAAI,KAAKwD,cAAT,EACE3jB,IAAI8B,IAAJ,kBAAwB,KAAK6hB,cAA7B;AACF,UAAI,KAAKiG,cAAT,EACE5pB,IAAI8B,IAAJ,mBAAyB,KAAK8nB,cAA9B;;AAEF,WAAK,IAAI3H,IAAI,CAAb,EAAgBA,IAAI,KAAKyI,OAAzB,EAAkCzI,GAAlC;AACEjiB,YAAI8B,IAAJ,CAAS,WAAT;AADF,OAGA,IAAI,KAAK8iB,MAAT,EACE5kB,IAAI8B,IAAJ,CAAS,MAAT;AACF,UAAI,KAAK4iB,YAAT,EACE1kB,IAAI8B,IAAJ,eAAqB,KAAK4iB,YAA1B;AACF,UAAI,KAAKF,QAAT,EACExkB,IAAI8B,IAAJ,CAAS,aAAT;;AAEF,aAAO9B,GAAP;AACD;;;;iGAEYqW,E;;;;;;;sBACP,KAAK+T,KAAL,GAAa,C;;;;;sBACT,yC;;;AACFtN,oB,GAAOzG,MAAM,KAAK+T,K;;sBACpBtN,OAAO,KAAKsN,K;;;;;sBACR,mD;;;sBAEJ,KAAK/oB,GAAL,IAAY,KAAKA,GAAL,CAASyb,IAAT,KAAkBA,I;;;;;mDACzB,KAAKzb,G;;;AAERsL,kB,gBAAgBmQ,I;AAChB9c,mB,GAAM,E;;;uBAGQ,KAAKqlB,eAAL,CAAqB1Y,EAArB,C;;;AAAZtL,mB;;;;;;AACN,6DAAmBA,IAAIuD,KAAJ,CAAU,WAAV,CAAnB,yGAA2C;AAAhC+lB,sBAAgC;AAAA,gCACpBA,KAAK/lB,KAAL,CAAW,GAAX,EAAgB,CAAhB,CADoB,+DAClCuO,GADkC,oBAC7B4C,KAD6B;;AAEzC,sBAAI/V,IAAImT,GAAR,EACEnT,IAAImT,GAAJ,EAASrR,IAAT,CAAciU,KAAd,EADF,KAGE/V,IAAImT,GAAJ,IAAW,CAAC4C,KAAD,CAAX;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAED,qBAAK1U,GAAL,GAAWrB,GAAX;AACA,qBAAKqB,GAAL,CAASyb,IAAT,GAAgBA,IAAhB;;;;;;;;AAEAra,uBAAOmE,KAAP,CAAa,sCAAb,EAAqD,KAAKuhB,WAAL,CAAiBxb,EAAjB,CAArD;;;;mDAIK,KAAKtL,G;;;;;;;;;;;;;;;;;AAGd;;;;qCACiB;AACf,UAAI,KAAKA,GAAL,CAASqL,cAAT,CAAwB,MAAxB,CAAJ,EACE,OAAOke,WAAW,KAAKvpB,GAAL,CAASuQ,IAAT,CAAc,CAAd,CAAX,CAAP;AACF,aAAO,IAAP;AACD;;AAED;;;;qCACiB;AACf,UAAI,KAAKvQ,GAAL,CAASqL,cAAT,CAAwB,QAAxB,CAAJ,EACE,OAAOsH,SAAS,KAAK3S,GAAL,CAAS,QAAT,EAAmB,CAAnB,CAAT,EAAgC,EAAhC,CAAP;AACF,aAAO,IAAP;AACD;;;kCAEa;AACZ,UAAI,KAAKA,GAAL,CAASqL,cAAT,CAAwB,WAAxB,CAAJ,EACE,OAAOke,WAAW,KAAKvpB,GAAL,CAAS,WAAT,EAAsB,CAAtB,CAAX,EAAqC,EAArC,CAAP;AACF,aAAO,IAAP;AACD;;;kCAEa;AACZ,UAAI,KAAKA,GAAL,CAASqL,cAAT,CAAwB,UAAxB,CAAJ,EACE,OAAOsH,SAAS,KAAK3S,GAAL,CAASwpB,QAAT,CAAkB,CAAlB,CAAT,EAA+B,EAA/B,CAAP;AACF,aAAO,CAAP;AACD;;;uCAEkB;AACjB,UAAI,KAAKxpB,GAAL,CAASqL,cAAT,CAAwB,SAAxB,CAAJ,EACE,OAAOsH,SAAS,KAAK3S,GAAL,CAASypB,OAAT,CAAiB,CAAjB,CAAT,EAA8B,EAA9B,CAAP;AACF,aAAO,CAAP;AACD;;;oCAEe;AACd,UAAI,KAAKzpB,GAAL,CAASqL,cAAT,CAAwB,QAAxB,CAAJ,EACE,OAAO,KAAKrL,GAAL,CAASqF,MAAhB;AACF,aAAO,EAAP;AACD;;;oCAUe;AACd,UAAMqkB,YAAY,SAAZA,SAAY,CAACtkB,OAAD,EAAa;AAAA;AAAA;AAAA;;AAAA;AAC7B,2DAAkBA,OAAlB,iHAA2B;AAAA,gBAAhBukB,GAAgB;;AACzB,gBAAIA,IAAIhkB,OAAJ,CAAY,MAAZ,MAAwB,CAAC,CAA7B,EACE,OAAO,IAAP;AACH;AAJ4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAK7B,eAAO,KAAP;AACD,OAND;;AAQA,UAAMikB,OAAO,KAAKC,aAAL,EAAb;AACA,UAAID,KAAKjkB,OAAL,CAAa,IAAb,MAAuB,CAAC,CAA5B,EACE,OAAOqa,aAAa2H,kBAApB;AACF,UAAIiC,KAAKjkB,OAAL,CAAa,IAAb,MAAuB,CAAC,CAA5B,EACE,OAAOqa,aAAa+H,YAApB;AACF,UAAI6B,KAAKjkB,OAAL,CAAa,IAAb,MAAuB,CAAC,CAA5B,EACE,OAAOqa,aAAa8H,gBAApB;AACF,UAAI8B,KAAKjkB,OAAL,CAAa,IAAb,MAAuB,CAAC,CAA5B,EAA+B;AAC7B,YAAI,KAAK3F,GAAL,CAASqL,cAAT,CAAwB,SAAxB,KAAsCqe,UAAU,KAAK1pB,GAAL,CAASoF,OAAnB,CAA1C,EACE,OAAO4a,aAAaE,iBAApB;AACF,eAAOF,aAAaC,YAApB;AACD;AACD,UAAI2J,KAAKjkB,OAAL,CAAa,IAAb,MAAuB,CAAC,CAA5B,EACE,OAAOqa,aAAa6H,WAApB;AACF,UAAI+B,KAAKjkB,OAAL,CAAa,IAAb,MAAuB,CAAC,CAA5B,EACE,OAAOqa,aAAaG,iBAApB;;AAEF,UAAIyJ,KAAKjkB,OAAL,CAAa,IAAb,MAAuB,CAAC,CAA5B,EACE,OAAOqa,aAAa8J,cAApB;AACF,aAAO9J,aAAa4H,OAApB;AACD;;;;;;;;;;;;AAGOmC,sB,GAAS,KAAKtB,S;;;AAElB,qBAAKA,SAAL,GAAiBnV,YAAYQ,YAA7B;;uBACkB,KAAKkW,OAAL,qB;;;AAAZrrB,mB;;AACN,qBAAK8pB,SAAL,GAAiBsB,MAAjB;mDACOprB,G;;;;;;AAEP,qBAAK8pB,SAAL,GAAiBsB,MAAjB;;;;;;;;;;;;;;;;;;;;iGAKUE,I;YAAMzD,O,uEAAU,CAAC,QAAD,C;YAAY0D,O,uEAAU,K;;;;;;;;AAClD,qBAAKnB,KAAL,IAAc,CAAd;AACA,qBAAK/oB,GAAL,GAAW,IAAX;AACIP,oB,GAAO,KAAK0qB,UAAL,E;;AACX1qB,qBAAKgB,IAAL,aAAoB,KAAKqmB,WAAL,cAA4B,KAAKiC,KAAjC,CAApB;AACAtpB,qBAAKgB,IAAL,CAAU,OAAV;AACAhB,qBAAKgB,IAAL,CAAU,IAAV;;AAEMod,uB,GAAUzd,MAAM8E,OAAN,CAAc+kB,IAAd,IACZA,IADY,GAEZ,CAACA,IAAD,C;;AACJxqB,uBAAOA,KAAKoJ,MAAL,CAAYgV,OAAZ,CAAP;;qBAEIqM,O;;;;;mDACK5D,mBAAmB,KAAKwC,UAAxB,EAAoCrpB,IAApC,EAA0C,EAAEgnB,OAAOD,OAAT,EAA1C,C;;;AAEL7nB,mB,GAAM,I;;;uBAEI2nB,mBAAmB,KAAKwC,UAAxB,EAAoCrpB,IAApC,EAA0C,EAAEgnB,OAAOD,OAAT,EAA1C,C;;;AAAZ7nB,mB;;;;;;;;AAEAA;;;AAGIyrB,mB,GAAM;AACVjlB,wBAAMxG,IAAIwG,IADA;AAEVC,2BAASzG,IAAIyG;AAFH,iB;;;;;;AAIZ,6DAAkBohB,OAAlB,yGAA2B;AAAhB6D,qBAAgB;;AACzB,sBAAI1rB,IAAI0M,cAAJ,CAAmBgf,GAAnB,CAAJ,EACED,IAAIC,GAAJ,IAAW1rB,IAAI0rB,GAAJ,EAASvkB,QAAT,EAAX;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mDACMskB,G;;;;;;;;;;;;;;;;;;;;;;;;;AAIPhpB,uBAAO6P,KAAP,CAAa,kCAAb,EAAiD,KAAKnT,IAAtD,EAA4D,KAAK8qB,KAAjE;AACMnpB,oB,GAAO,eAAa,KAAKmpB,KAAlB,C;;AACb,oBAAI,KAAKrF,MAAT,EACE9jB,KAAKgB,IAAL,CAAU,MAAV;AACFhB,qBAAKgB,IAAL,CAAU,WAAV;;;;qBAGM,KAAKwnB,W;;;;;;uBACD3B,mBAAmB,KAAKwC,UAAxB,EAAoCrpB,IAApC,EAA0C,EAAEgnB,OAAO,CAAC,QAAD,CAAT,EAA1C,C;;;;uBACFzoB,GAAGyI,MAAH,CAAU,KAAKuiB,QAAf,C;;;;;;;;;;AAEN5nB,uBAAOmE,KAAP,CAAa,8CAAb,EAA6D,KAAKzH,IAAlE,EAAwE,KAAK8qB,KAA7E;;;;;;;;;;;;;;;;;;;yCAlGwBzjB,I,EAAM;AAChC,UAAIA,SAAS,CAAb,EACE,OAAO,KAAP;AACF,UAAIA,SAAS,CAAT,IAAcA,SAAS,CAA3B,EACE,OAAO,IAAP;AACF,2CAAmCA,IAAnC;AACD;;;EArOmBuhB,O;;IAuUhB4D,W;AACJ,uBAAYlW,IAAZ,EAAkB;AAAA;;AAChB,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAK0B,SAAL,GAAiB,EAAjB;AACA,SAAKyU,GAAL,GAAW,CAAX;AACA,SAAK,IAAI3J,IAAI,CAAb,EAAgBA,IAAIxM,IAApB,EAA0BwM,GAA1B;AACE,WAAK9K,SAAL,CAAerV,IAAf,CAAoB,IAAI8d,OAAJ,EAApB;AADF;AAED;;;;4BAEOhd,G,EAAKiK,K,EAAiB;AAAA,UAAVxL,GAAU,uEAAJ,EAAI;;AAC5B,UAAM8hB,UAAU,KAAKhM,SAAL,CAAe,KAAKyU,GAApB,CAAhB;AACA,WAAKA,GAAL,IAAY,CAAZ;AACA,WAAKA,GAAL,IAAY,KAAKnW,IAAjB;AACA0N,cAAQ0I,cAAR,CAAuBjpB,GAAvB;AACAugB,cAAQ2I,UAAR,CAAmBjf,KAAnB;AACAsW,cAAQ9hB,GAAR,GAAcA,GAAd;AACA,aAAO8hB,OAAP;AACD;;;8BAES;AAAA;AAAA;AAAA;;AAAA;AACR,yDAAsB,KAAKhM,SAA3B;AAAA,cAAWgM,OAAX;;AACEA,kBAAQnD,OAAR;AADF;AADQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGT;;;;;AAGH,IAAI,CAACzgB,OAAOqN,MAAR,IAAkB,KAAtB,EAA6B;AAC3B;AACA,6DAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACCxL,oBAAQC,GAAR,CAAY,uBAAZ;AACMuB,eAFP,GAEa,IAAI4kB,KAAKvQ,gBAAT,EAFb;AAGOpK,iBAHP,GAGe,IAAI3B,OAAJ,EAHf;AAKO+T,eALP,GAKa,IAAIW,OAAJ,CAAYhd,GAAZ,EAAiBiK,KAAjB,CALb;AAAA;AAAA,mBAMOA,MAAMC,IAAN,CAAW,eAAX,CANP;;AAAA;AAAA;AAAA,mBAQOmS,IAAIY,IAAJ,EARP;;AAAA;;AAUCZ,gBAAIgF,IAAJ,CAASniB,IAAT,CAAc,EAAEsO,IAAI,MAAN,EAAd;;AAEA6O,gBAAIsG,WAAJ,GAAkB,IAAlB;AACAtG,gBAAIoF,YAAJ,GAAmB,IAAnB;AACApF,gBAAIkB,SAAJ,GAAgB,EAAhB;AACAlB,gBAAI0E,cAAJ,GAAqB,EAArB;AACAviB,oBAAQC,GAAR,CAAY4d,IAAIuM,UAAJ,EAAZ;;AAhBD;AAAA,mBAkBOvM,IAAIyC,qBAAJ,CAA0B,YAA1B,EAAwC,aAAxC,CAlBP;;AAAA;AAAA;AAAA,4BAqBGtgB,OArBH;AAAA;AAAA,mBAqBqB6d,IAAIoM,OAAJ,CAAY,CAAC,cAAD,EAAiB,YAAjB,EAA+B,SAA/B,EACC,YADD,EACe,KADf,EACsB,KADtB,CAAZ,EAC0C,CAAC,QAAD,EAAW,QAAX,CAD1C,CArBrB;;AAAA;AAAA;;AAAA,0BAqBWhqB,GArBX;;AAAA;AAAA,mBAwBS4d,IAAIyG,gBAAJ,CAAqB,OAArB,EAA8B,SAA9B,CAxBT;;AAAA;AAAA;AAAA,mBAyBSzG,IAAIc,MAAJ,EAzBT;;AAAA;AA0BG3e,oBAAQC,GAAR,CAAY4d,IAAI5d,GAAhB;AA1BH;AAAA;;AAAA;AAAA;AAAA;;AA4BGoB,mBAAOmE,KAAP,CAAa,yBAAb;AACAxF,oBAAQC,GAAR;;AA7BH;AAAA;AAAA,mBAgCO4d,IAAIe,OAAJ,EAhCP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD;AAkCD;;AAEDzgB,OAAOC,OAAP,GAAiB;AACfuoB,kBADe;AAEfnI,kBAFe;AAGfyB,4BAHe;AAIfsK;AAJe,CAAjB,C;;;;;;;AChsBA,qC;;;;;;ACAA,gC;;;;;;ACAA,kD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,IAAMnpB,UAAU,mBAAApD,CAAQ,EAAR,CAAhB;;AAEA,SAAS2sB,UAAT,CAAoBC,KAApB,EAA2B;AACzB,SAAOA,MAAM,CAAN,IAAYA,MAAM,CAAN,IAAW,GAA9B;AACD;;IAEK3I,Q;AACJ,sBAAc;AAAA;;AACZ,SAAK4I,KAAL,GAAa,EAAb;AACA,SAAKC,GAAL,GAAW,EAAX;AACD;;;;2BAEsB;AAAA,UAAlB3c,IAAkB,uEAAX,SAAW;;AACrB,UAAI,CAAC,KAAK2c,GAAL,CAASxf,cAAT,CAAwB6C,IAAxB,CAAL,EACE,KAAK2c,GAAL,CAAS3c,IAAT,IAAiB,CAAjB;AACF,WAAK0c,KAAL,CAAW1c,IAAX,IAAmB/M,QAAQ2pB,MAAR,EAAnB;AACD;;;4BAEuB;AAAA,UAAlB5c,IAAkB,uEAAX,SAAW;;AACtB,WAAK2c,GAAL,CAAS3c,IAAT,IAAiB,CAAjB;AACA,WAAK0c,KAAL,CAAW1c,IAAX,IAAmB/M,QAAQ2pB,MAAR,EAAnB;AACD;;;8BAEyB;AAAA,UAAlB5c,IAAkB,uEAAX,SAAW;;AACxB,UAAM6c,UAAU,KAAKH,KAAL,CAAW1c,IAAX,CAAhB;AACA,aAAO,KAAK2c,GAAL,CAAS3c,IAAT,KAAkB6c,UACnBL,WAAWvpB,QAAQ2pB,MAAR,CAAeC,OAAf,CAAX,CADmB,GAEnB,CAFC,CAAP;AAGD;;;2BAEsB;AAAA,UAAlB7c,IAAkB,uEAAX,SAAW;;AACrB,WAAK2c,GAAL,CAAS3c,IAAT,IAAiB,KAAK8c,OAAL,CAAa9c,IAAb,CAAjB;AACA,WAAK0c,KAAL,CAAW1c,IAAX,IAAmB,IAAnB;AACD;;;2BAEsB;AAAA,UAAlBmH,EAAkB,uEAAbtV,QAAQC,GAAK;AAAA;AAAA;AAAA;;AAAA;AACrB,wDAAmB,oBAAY,KAAK6qB,GAAjB,CAAnB;AAAA,cAAW3c,IAAX;;AACEmH,aAAMnH,IAAN,UAAe,KAAK8c,OAAL,CAAa9c,IAAb,CAAf;AADF;AADqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGtB;;;;;AAGHhQ,OAAOC,OAAP,GAAiB6jB,QAAjB,C;;;;;;;;;ACzCA,SAASiJ,UAAT,CAAoB9lB,IAApB,EAA0B;AACxB,SAAOA,IAAP;AACD;;AAED,SAAS+lB,YAAT,CAAsB/lB,IAAtB,EAA4B;AAC1B,MAAMgmB,eAAe,OAAIhmB,IAAJ,EAAWlE,KAAX,CAAiB,CAAjB,CAArB;;AAEA,MAAMmqB,YAAY,uCAAlB;AACA,MAAMC,UAAU,8GAAhB;AACA,MAAMC,SAAS,uFAAf;;AAEE;AACF,MAAMC,WAAW,iDAAjB;AACA,MAAMC,YAAY,oBAAlB;AACA,MAAMC,WAAW,YAAjB;AACA,MAAMC,YAAY,uBAAlB;;AAEA,MAAMC,MAAMxmB,KAAK0J,OAAL,CAAa2c,SAAb,EAAwB,EAAxB,EAA4B3c,OAA5B,CAAoC0c,QAApC,EAA8C,EAA9C,EAAkD1c,OAAlD,CAA0D4c,QAA1D,EAAoE,EAApE,EACL5c,OADK,CACG6c,SADH,EACc,EADd,CAAZ;AAEA,MAAI,CAACJ,OAAO9hB,IAAP,CAAYmiB,GAAZ,CAAL,EACE,MAAM,IAAI/nB,KAAJ,CAAU,kEAAV,CAAN;AACF,MAAIwnB,UAAU5hB,IAAV,CAAemiB,GAAf,CAAJ,EACE,MAAM,IAAI/nB,KAAJ,CAAU,kDAAV,CAAN;;AAEF,SAAOunB,YAAP;AACD;;AAEDjtB,OAAOC,OAAP,GAAiB;AACbgkB,OAAK8I,UADQ;AAEbtH,KAAGsH,UAFU;AAGbnI,QAAMoI,YAHO;AAIbzI,OAAKwI,UAJQ;AAKbpI,OAAKoI;AALQ,CAAjB,C;;;;;;AC3BA,mC;;;;;;;;;ACAA,IAAMntB,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAME,WAAW,mBAAAF,CAAQ,CAAR,CAAjB;AACA,IAAM+d,WAAW,mBAAA/d,CAAQ,EAAR,CAAjB;AACA,IAAM+G,QAAQ,mBAAA/G,CAAQ,EAAR,CAAd;;AAEA,IAAMiJ,UAAU,mBAAAjJ,CAAQ,CAAR,CAAhB;AACA,IAAMkJ,SAASD,QAAQE,MAAR,EAAf;;AAEA,IAAMlF,SAAS,mBAAAjE,CAAQ,CAAR,CAAf;;IAGEK,O,GACE4D,M,CADF5D,O;IAASE,U,GACP0D,M,CADO1D,U;IAAYC,O,GACnByD,M,CADmBzD,O;IAASF,I,GAC5B2D,M,CAD4B3D,I;;AAGhC;;;;;;;;;;;;;;;;;;;;;;;;AAwBA4I,OAAOI,IAAP,CAAY,QAAZ,EAAsBvC,MAAMC,YAAN,CAAmB,MAAnB,CAAtB;AACAkC,OAAOI,IAAP,CAAY,SAAZ,EAAuBvC,MAAM8B,OAAN,EAAvB;;AAEA,SAASglB,oBAAT,CAA8BtsB,GAA9B,EAAmC8D,GAAnC,EAAwCzE,GAAxC,EAA6CgF,IAA7C,EAAmD;AACjDhF,MAAI0G,MAAJ,CAAW/F,IAAI+F,MAAf,EAAuBC,IAAvB,CAA4B,EAAEC,OAAOjG,IAAI8F,OAAb,EAA5B;AACD;;AAED6B,OAAO6E,GAAP,CAAWhH,MAAM6B,YAAN,CAAmB,MAAnB,CAAX,EAAuC,UAACvD,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AACzD,MAAI,CAACP,IAAI0B,KAAJ,CAAUrC,IAAf,EACE,OAAO9D,IAAIkI,QAAJ,CAAa,GAAb,CAAP;AACFlD;AACD,CAJD;;AAMAsD,OAAO3D,GAAP,CAAW,GAAX,EAAgB,UAACF,GAAD,EAAMzE,GAAN,EAAWgF,IAAX,EAAoB;AAClChF,MAAIwZ,MAAJ,CAAW,OAAX;AACD,CAFD;;AAIAja,OAAOC,OAAP,GAAiB8I,MAAjB,C","file":"index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e1d2522c944359814430","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/get-iterator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/get-iterator\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","/* eslint-disable */\nlet path = require(\"path\"),\n  fs = require(\"fs\"),\n  mongoose = require(\"mongoose\");\n// files = fs.readdirSync(__dirname);\n\nrequire(\"../db\");\n\n/* files.forEach(function(file) {\n    var name = path.basename(file, '.js');\n    if (name === 'index')\n        return;\n\n    var mod = require('./' + name);\n    module.exports[name] = mod();\n});*/\n\nmodule.exports = {\n  Contest: require(\"./Contest\")(),\n  User: require(\"./User\")(),\n  Submission: require(\"./Submission\")(),\n  Problem: require(\"./Problem\")()\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/index.js","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/keys\"\n// module id = 9\n// module chunks = 0","/**\n * Created by rsalesc on 14/06/16.\n */\n\nconst path = require(\"path\");\nconst fs = require(\"fs-extra\");\nconst util = require(\"util\");\nconst glob = require(\"glob\");\n\nasync function exists(p) {\n  try {\n    await fs.stat(p);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nasync function fileExists(p) {\n  try {\n    const res = await fs.stat(p);\n    return res.isFile();\n  } catch (e) {\n    return false;\n  }\n}\n\nasync function dirExists(p) {\n  try {\n    const res = await fs.statAsync(p);\n    return res.isDirectory();\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction inspect(p) {\n  return util.inspect(p, false, null);\n}\n\nfunction logInspect(p) {\n  return console.log(inspect(p));\n}\n\nfunction fillUpTo(arr, n = 0) {\n  if (n === 0)\n    return [];\n  if (!(arr instanceof Array) || arr.length === 0)\n    arr = [undefined];\n\n  while (arr.length > n)\n    arr.pop();\n  while (arr.length < n) {\n    const el = arr.pop();\n    arr.push(el);\n    arr.push(el);\n  }\n\n  return arr;\n}\n\nfunction destroy(obj) {\n  for (const prop of Object.keys(obj)) {\n    const property = obj[prop];\n    if (property != null && typeof property === \"object\")\n      destroy(property);\n    else\n      obj[prop] = null;\n  }\n}\n\nfunction normalizePath(p) {\n  const normalizedPath = path.normalize(p);\n  if (normalizedPath[-1] === \"/\")\n    return normalizedPath.slice(0, -1);\n  return normalizedPath;\n}\n\n// eslint-disable-next-line require-await\nasync function globAsync(pattern, opts) {\n  return new Promise((resolve, reject) => {\n    glob(pattern, opts, (err, files) => {\n      if (err)\n        return reject(err);\n      return resolve(files);\n    });\n  });\n}\n\nasync function mkdtemp(...args) {\n  return new Promise((resolve, reject) => fs.mkdtemp(...args, (err, result) => {\n    if (err)\n      return reject(err);\n    return resolve(result);\n  }));\n}\n\nmodule.exports = {\n  exists,\n  fileExists,\n  dirExists,\n  inspect,\n  logInspect,\n  fillUpTo,\n  destroy,\n  globAsync,\n  mkdtemp\n};\n\n\n\n// WEBPACK FOOTER //\n// ./judge/utils.js","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/promise\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/get-prototype-of\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/possibleConstructorReturn\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/inherits\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/inherits\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 15\n// module chunks = 0","/**\n * Created by rsalesc on 14/06/16.\n */\nconst winston = require(\"winston\");\nconst process = require(\"process\");\n\nconst logger = new winston.Logger({\n    level: process.env.LOG_LEVEL || \"info\",\n    transports: [\n        new winston.transports.Console({\n            // eslint-disable-next-line no-constant-condition\n            level: process.env.VERBOSE || true\n                ? \"debug\"\n                : \"warn\"\n            // handleExceptions: true\n        }),\n        new winston.transports.File({\n            name: \"info-file\",\n            level: \"info\",\n            filename: `${__dirname}/../logs/info.log`\n        }),\n        new winston.transports.File({\n            name: \"error-file\",\n            level: \"warn\",\n            filename: `${__dirname}/../logs/error.log`\n            // handleExceptions: true, json: true\n        })\n    ]\n});\n\nmodule.exports = logger\n;\n\n\n\n// WEBPACK FOOTER //\n// ./judge/logger.js","module.exports = require(\"babel-runtime/helpers/slicedToArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/slicedToArray\"\n// module id = 17\n// module chunks = 0","const mongoose = require('mongoose');\nconst models = require('./models/');\nconst crypto = require(\"crypto\");\n\nconst Schema = mongoose.Schema;\n\nconst getTokenModel = (db) => {\n    let TokenSchema = new Schema({\n        _id: { type: String },\n        user: { type: Schema.Types.ObjectId, ref: 'User', required: true },\n        expiresAt: { type: Date, required: true },\n        roles: [{ type: String }]\n    });\n\n    return db.models.Token\n        ? db.model(\"Token\")\n        : db.model(\"Token\", TokenSchema);\n};\n\nconst getAuthorizationToken = (req) => {\n    let authorizationToken = req.get(\"Authorization\")\n                ? req.get(\"Authorization\").split(\" \").pop()\n                : null;\n\n    if(!authorizationToken && req.cookies.token)\n        authorizationToken = req.cookies.token;\n    return authorizationToken;\n};\n\nmodule.exports = {\n    initialize: (opts = {}) => (req, res, next) => {\n        if(!opts.db)\n            return next(new Error(\"mongoose db must be provided to Auth2\"));\n        if(!opts.age)\n            opts.age = 60 * 60;\n        if(!opts.secret)\n            opts.secret = \"\";\n        if(!opts.model)\n            return next(new Error(\"model must be provided to Auth2\"));\n        if(!opts.id)\n            opts.id = \"_id\";\n        if(!opts.usernameField)\n            opts.usernameField = \"username\";\n        if(!opts.passwordField)\n            opts.passwordField = \"password\";\n        if(!opts.usernameSchema)\n            opts.usernameSchema = \"username\";\n        if(!opts.passwordSchema)\n            opts.passwordSchema = \"password\";\n\n        req.getUsername = () => req.body[opts.usernameField];\n        req.getPassword = () => req.body[opts.passwordField];\n\n        if(!opts.requiredFieldsFn)\n            opts.requiredFieldsFn = (model, req) => {\n                return req.getUsername() && req.getPassword();\n            };\n\n        if(!opts.filterFn)\n            opts.filterFn = (model, req) => {\n                let qs = {};\n                qs[opts.usernameSchema] = req.getUsername();\n                return qs;\n            };\n\n        if(!opts.queryFn)\n            opts.queryFn = (model, req, resolve, reject) => {\n                model.findOne(opts.filterFn(model, req), (err, user) => {\n                    if(err)\n                        return reject(err);\n\n                    resolve(user);\n                });\n            };\n\n        if(!opts.passwordFn)\n            opts.passwordFn = (user, req) => user[opts.passwordSchema] == req.getPassword();\n        if(!opts.roleFn)\n            opts.roleFn = (user) => [];\n\n        req.auth2 = { opts };\n        next();\n    },\n    authenticate: (roles = [], success, failure) => (req, res, next) => {\n        if(!Array.isArray(roles))\n            roles = [roles];\n\n        if(!req.auth2 || !req.auth2.opts)\n            return failure\n                ? failure(req, res, next, { code: 500, message: \"invalid auth2 footprint\"  })\n                : res.status(500).json({ error: \"invalid auth2 footprint\"});\n        \n        const opts = req.auth2.opts;\n        const User = opts.model;\n\n        if(!opts.requiredFieldsFn(User, req))\n            return !failure\n                ? res.status(401).json({ error: \"unauthorized\" })\n                : failure(req, res, next, { code: 401, message: \"unauthorized\" });\n\n        opts.queryFn(User, req, (user) => {\n            if(!user || !opts.passwordFn(user, req))\n                return !failure\n                ? res.status(401).json({ error: \"unauthorized\" })\n                : failure(req, res, next, { code: 401, message: \"unauthorized\" });\n\n            const matchedRoles = roles.filter((role) => opts.roleFn(user).indexOf(role) !== -1);\n\n            if(roles.length > 0 && matchedRoles.length === 0)\n                return !failure\n                ? res.status(401).json({ error: \"unauthorized\" })\n                : failure(req, res, next, { code: 401, message: \"unauthorized\" });\n\n            const randomToken = crypto.randomBytes(20).toString(\"hex\");\n            const session = {\n                _id: randomToken,\n                user: user.toObject()[opts.id],\n                expiresAt: new Date(Date.now() + opts.age * 1000),\n                roles: matchedRoles\n            };\n\n            const Token = getTokenModel(opts.db);\n            let tokenObject = new Token(session);\n            tokenObject.save((err) => {\n                if(err)\n                    return next(err);\n                \n                res.cookie(\"token\", randomToken, { maxAge: opts.age * 1000, httpOnly: true });\n                req.auth2 = Object.assign({}, req.auth2, session, { user });\n                return success\n                    ? success(req, res, next)\n                    : res.json({ token: session._id });\n            });\n        }, next);\n    },\n    isAuth: (roles = []) => (req, res, next) => {\n        if(!Array.isArray(roles))\n            roles = [roles];\n\n        if(!req.auth2 || !req.auth2.opts)\n            return res.status(500).json({ error: \"invalid auth2 footprint\"});\n\n        const authorizationToken = getAuthorizationToken(req);\n\n        if(!authorizationToken)\n            return res.status(401).json({ error: \"unauthorized\" });\n\n        const { opts } = req.auth2;\n        const User = opts.model;\n        const Token = getTokenModel(opts.db);\n\n        Token.findOne({ _id: authorizationToken }, (err, token) => {\n            if(err) {\n                return next(err);\n            }\n            if(!token || new Date() > token.expiresAt) {\n                res.clearCookie(\"token\");\n                if(token) \n                    token.remove();\n                return res.status(401).json({ error: \"unauthorized\" });\n            }\n            \n            // check if user really exists and retrieve its role array again\n            let qs = {};\n            qs[opts.id] = token.user;\n            \n            User.findOne(qs, (err, user) => {\n                if(err)\n                    return next(err);\n                if(!user)\n                    return res.status(401).json({ error: \"unauthorized\" });\n\n                // console.log(opts.roleFn(user), token.roles);\n                const matchedRoles = roles.filter(role => opts.roleFn(user).indexOf(role) !== -1);\n                if(roles.length > 0 && matchedRoles.length === 0)\n                    return res.status(403).json({ error: \"no privilege\" });\n\n                const registeredRoles = matchedRoles.filter(role => token.roles.indexOf(role) !== -1);\n                if(token.roles.length > 0 && registeredRoles.length === 0)\n                    return res.status(401).json({ error: \"unauthorized\" });\n                \n                token.expiresAt = new Date(Date.now() + opts.age * 1000);\n                token.save((err) => {\n                    if(err)\n                        return next(err);\n                    res.cookie(\"token\", authorizationToken, { maxAge: opts.age * 1000, httpOnly: true });\n                    req.auth2 = Object.assign({}, req.auth2, token.toObject(), { user, token: authorizationToken });\n                    next();\n                });\n            });\n        });\n    },\n    possiblyAuth: (roles = []) => (req, res, next) => {\n        if(!Array.isArray(roles))\n            roles = [roles];\n\n        if(!req.auth2 || !req.auth2.opts)\n            return res.status(500).json({ error: \"invalid auth2 footprint\"});\n\n        const authorizationToken = getAuthorizationToken(req);\n\n        if(!authorizationToken)\n            return next();\n\n        const { opts } = req.auth2;\n        const User = opts.model;\n        const Token = getTokenModel(opts.db);\n\n        Token.findOne({ _id: authorizationToken }, (err, token) => {\n            if(err) {\n                return next();\n            }\n            if(!token || new Date() > token.expiresAt) {\n                res.clearCookie(\"token\");\n                if(token) \n                    token.remove();\n                return next();\n            }\n            \n            // check if user really exists and retrieve its role array again\n            let qs = {};\n            qs[opts.id] = token.user;\n            \n            User.findOne(qs, (err, user) => {\n                if(err)\n                    return next();\n                if(!user)\n                    return next();\n\n                const matchedRoles = roles.filter(role => opts.roleFn(user).indexOf(role) !== -1);\n                if(roles.length > 0 && matchedRoles.length === 0)\n                    return next();\n\n                const registeredRoles = matchedRoles.filter(role => token.roles.indexOf(role) !== -1);\n                if(token.roles.length > 0 && registeredRoles.length === 0)\n                    return next();\n                \n                token.expiresAt = new Date(Date.now() + opts.age * 1000);\n                token.save((err) => {\n                    if(err)\n                        return next(err);\n                    res.cookie(\"token\", authorizationToken, { maxAge: opts.age * 1000, httpOnly: true });\n                    req.auth2 = Object.assign({}, req.auth2, token.toObject(), { user, token: authorizationToken });\n                    next();\n                });\n            });\n        });\n    },\n    dispose: (redirect) => (req, res, next) => {\n        if(!req.auth2 || !req.auth2.opts)\n            return res.status(500).json({ error: \"invalid auth2 footprint\" });\n\n        const authorizationToken = getAuthorizationToken(req);\n        \n        if(!authorizationToken)\n            return redirect\n             ? redirect(req, res, next)\n             : res.sendStatus(200);\n\n        const { opts } = req.auth2;\n        \n        const Token = getTokenModel(opts.db);\n        Token.findOneAndRemove({ _id: req.auth2.token }, (err) => {\n            if(err)\n                next(err);\n            \n            req.auth2 = { opts: req.auth2.opts };\n            res.clearCookie(\"token\");\n            \n            return redirect\n             ? redirect(req, res, next)\n             : res.sendStatus(200);\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./auth2.js","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 20\n// module chunks = 0","/**\n * Created by rsalesc on 15/07/16.\n */\nconst express = require(\"express\");\nconst router = express.Router();\nconst path = require(\"path\");\n\nconst models = require(\"../../models/\");\nconst { Submission } = models;\n\nconst SubmissionNoCode\n    = \"_id _creator contest problem language code verdict\";\n\nfunction handleSubmissionError(err, req, res, next) {\n  res.status(400).json([err]);\n}\n\n// TODO: set back to IN_QUEUE status\nrouter.post(\"/:id/rejudge\", (req, res, next) => {\n  if (!req.params.id)\n    return handleSubmissionError(\"no rejudge id provided\");\n\n  Submission.findByIdAndUpdate(req.params.id, {}, { new: true }, (err, sub) => {\n    if (err)\n      return handleSubmissionError(err);\n\n    sub.populate(\"problem\", async (err, sub) => {\n      if (err)\n        return handleSubmissionError(err);\n\n      try {\n        await judeQueue.add({\n          id: sub.problem._id,\n          subid: sub._id,\n          fid: sub.problem.fid,\n          code: sub.code,\n          lang: sub.language\n        });\n      } catch (ex) {\n        return handleSubmissionError(ex, req, res);\n      }\n\n      res.json({ success: \"rejudged\" });\n    });\n  });\n});\n\nmodule.exports = router;\nmodule.exports.SubmissionNoCode = SubmissionNoCode;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/api/submission.js","/**\n * Created by rsalesc on 15/06/16.\n */\n\nconst yauzl = require(\"yauzl\");\nconst concatStream = require(\"concat-stream\");\nconst utils = require(\"./utils\");\nconst wildcard = require(\"node-wildcard\");\nconst path = require(\"path\");\nconst logger = require(\"./logger\");\nconst fs = require(\"fs-extra\");\nconst promisify = require(\"es6-promisify\");\nconst glob = promisify(require(\"glob\").glob);\n\n/* Helper Functions for storage */\nfunction dealWithEntry(zipFile, entry) {\n  return new Promise((resolve, reject) => {\n    zipFile.openReadStream(entry, (err, stream) => {\n      if (err) {\n        zipFile.readEntry();\n        return reject(err);\n      }\n\n      const concat = concatStream((buffer) => {\n        zipFile.readEntry();\n        return resolve({ path: entry.fileName, buffer });\n      });\n\n      stream.on(\"error\", (err2) => {\n        zipFile.readEntry();\n        return reject(err2);\n      });\n\n      return stream.pipe(concat);\n    });\n  });\n}\n\nfunction loadZipAsync(p) {\n  const absPath = path.resolve(p);\n  return new Promise((resolve, reject) => {\n    yauzl.open(absPath, { lazyEntries: true },\n               (err, zipFile) => {\n                 if (err)\n                   return reject(err);\n                 const toWait = [];\n                 zipFile.readEntry();\n\n                 // process entries\n                 zipFile.on(\"entry\", (entry) => {\n                   if (/\\/$/.test(entry.fileName))\n                     return zipFile.readEntry();\n\n                   return toWait.push(dealWithEntry(zipFile, entry));\n                 });\n\n                 zipFile.once(\"end\", async () => {\n                   zipFile.close();\n                   // resolve or reject result\n                   try {\n                     const resWait = await Promise.all(toWait);\n                     resolve(resWait);\n                   } catch (ex) {\n                     reject(ex);\n                   }\n                 });\n\n                 return null;\n               });\n  });\n}\n\n/**\n*   This is the base class for Storage\n*   Make sure it runs inside an async environment\n*   @abstract\n */\nclass Storage {\n  constructor() {\n    if (new.target === Storage)\n      throw `Cannot instantiate abstract class ${this.constructor.name}`;\n  }\n\n  /**\n  *   Load a directory/file into the storage\n  *   @param {string} path to the directory/file\n      */\n  // eslint-disable-next-line no-unused-vars\n  async load(p) {\n    throw `Function not implemented in ${this.constructor.name}`;\n  }\n\n  /**\n   * Relative path to be normalized\n   * @param p to be normalized\n   * @returns {string} normalized path\n   */\n  // eslint-disable-next-line no-unused-vars\n  normalizePath(p) {\n    return p.length === 0 || p.charAt(0) !== \"/\"\n      ? `/${p}`\n      : p;\n  }\n\n  /**\n   *  Load a ZIP file into the storage\n   *  @param {string} path to the zip file\n   */\n  // eslint-disable-next-line no-unused-vars\n  async loadZip(p) {\n    throw `Function not implemented in ${this.constructor.name}`;\n  }\n\n  /**\n  *   Create a file in the storage from a provided buffer/string\n  *   @param {string} path/ID of the new file in the Storage\n  *   @param {buffer|string} content of the new file\n    */\n  // eslint-disable-next-line no-unused-vars\n  async createFileFromContent(p, content) {\n    throw `Function not implemented in ${this.constructor.name}`;\n  }\n\n  /**\n  *   Get buffer from a file in Storage\n  *   @param {string} path/ID to the file in storage\n  *   @returns {buffer} buffer from the file\n    */\n  // eslint-disable-next-line no-unused-vars\n  async getFileBuffer(p) {\n    throw `Function not implemented in ${this.constructor.name}`;\n  }\n\n  /**\n  *   Get string from a file in storage\n  *   @param {string} path/ID to the file in storage\n  *   @returns {string} string from the file\n    */\n  // eslint-disable-next-line no-unused-vars\n  async getFileString(p) {\n    throw `Function not implemented in ${this.constructor.name}`;\n  }\n\n  /**\n   *  Check if file is readable\n   */\n  async isReadable(p) {\n    try {\n      await this.getFileBuffer(p);\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  /**\n     * Get file names that match the given glob pattern\n     * @param {string} glob pattern\n     * @return {string[]} file names that match the given glob pattern\n     */\n  // eslint-disable-next-line no-unused-vars\n  async glob(p, sort = false) {\n    throw `Function not implemented in ${this.constructor.name}`;\n  }\n\n  /**\n     *  Dispose any resource cached in-memory by the storage\n     *  (the Storage object should be unusable after that)\n     */\n  // eslint-disable-next-line no-unused-vars\n  async dispose(p) {\n    throw `Function not implemented in ${this.constructor.name}`;\n  }\n}\n\nclass RealStorage extends Storage {\n  // WARNING: class created only for testing purposes.\n  // Non-persistent Storage should be used (in-memory, temporary dir, etc)\n  // TODO: every function should check if dir exist and create it if it doesnt\n  constructor() {\n    super();\n    this.path = \"/\";\n  }\n\n  // eslint-disable-next-line require-await\n  async load(p) {\n    this.path = path.resolve(p);\n  }\n\n  async createFileFromContent(p, content) {\n    const abs = path.resolve(this.path, p);\n    try {\n      await fs.writeFile(abs, content);\n    } catch (e) {\n      logger.error(\"[%s] File %s could not be created\", this.constructor.name, p);\n      throw e;\n    }\n  }\n\n  async getFileBuffer(p) {\n    const abs = path.resolve(this.path, p);\n    try {\n      const res = await fs.readFile(abs);\n      return res;\n    } catch (e) {\n      logger.error(\"[%s] File %s could not be retrieved\", this.constructor.name, p);\n      throw e;\n    }\n  }\n\n  async getFileString(p) {\n    const abs = path.resolve(this.path, p);\n    try {\n      const res = await fs.readFile(abs, \"utf8\");\n      return res;\n    } catch (e) {\n      logger.error(\"[%s] File %s could not be retrieved\", this.constructor.name, p);\n      throw e;\n    }\n  }\n}\n\nclass MemoryStorage extends Storage {\n  constructor() {\n    super();\n    this.data = {};\n  }\n\n  async load(p) {\n    const absPath = path.resolve(p);\n    const res = await glob(\"**/*\", { cwd: absPath, nodir: true });\n\n    await Promise.all(res.map(async (file) => {\n      this.data[this.normalizePath(file)] = await fs.readFile(path.join(absPath, file));\n    }));\n  }\n\n  async loadZip(p) {\n    const res = await loadZipAsync(p);\n    const promises = res.map(({ path: resPath, buffer }) =>\n      this.createFileFromContent(resPath, buffer));\n    await Promise.all(promises);\n  }\n\n  // eslint-disable-next-line require-await\n  async createFileFromContent(p, content) {\n    const norm = this.normalizePath(p);\n    this.data[norm] = new Buffer(content);\n  }\n\n  // eslint-disable-next-line require-await\n  async getFileBuffer(p, def = null) {\n    const normalizedPath = this.normalizePath(p);\n    if (!this.data.hasOwnProperty(normalizedPath)) {\n      if (def === null)\n        throw `File ${normalizedPath} not found in MemoryStorage`;\n      else\n        return new Buffer(def);\n    }\n    return this.data[normalizedPath];\n  }\n\n  // eslint-disable-next-line require-await\n  async getFileString(p, def = null) {\n    const normalizedPath = this.normalizePath(p);\n    if (!this.data.hasOwnProperty(normalizedPath)) {\n      if (def === null)\n        throw `File ${normalizedPath} not found in MemoryStorage`;\n      else\n        return def.toString();\n    }\n    return this.data[normalizedPath].toString();\n  }\n\n  // eslint-disable-next-line require-await\n  async glob(p, sort = false) {\n    const normalizedPath = this.normalizePath(p);\n    const res = [];\n    for (const fn of Object.keys(this.data)) {\n      if (wildcard(fn, normalizedPath))\n        res.push(fn);\n    }\n    if (sort)\n      res.sort();\n    return res;\n  }\n\n  // eslint-disable-next-line require-await\n  async dispose() {\n    utils.destroy(this.data);\n    this.data = null;\n  }\n}\n\nif (!module.parent && false) {\n  // eslint-disable-next-line require-await\n  (async () => {\n    console.log(\"Testing with async...\");\n    const store = new MemoryStorage();\n    await store.load(\"test_contest\");\n    console.log(store.getFileString(\"jude.yml\"));\n    await store.createFileFromContent(\"lola\", \"HAHAHA\");\n    console.log(store.getFileBuffer(\"jude.yml\"));\n    console.log(store.data);\n  })();\n}\n\n\nmodule.exports = {\n  Storage,\n  RealStorage,\n  MemoryStorage\n};\n\n\n\n// WEBPACK FOOTER //\n// ./judge/storage.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 23\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/extends\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/extends\"\n// module id = 24\n// module chunks = 0","/**\n * Created by rsalesc on 15/07/16.\n */\nvar express = require('express');\nvar router = express.Router();\n\nvar contestRouter = require('./contest')\nvar userRouter = require('./user')\nvar submissionRouter = require('./submission')\n\n// middlewares\nrouter.use('/contests', contestRouter)\nrouter.use('/users', userRouter)\nrouter.use('/submissions', submissionRouter)\n\nmodule.exports = router;\n\n\n// WEBPACK FOOTER //\n// ./routes/api/index.js","var mongoose = require('mongoose')\nconst MongoQueue2 = require(\"mongo-queue2\");\nconst weed = require('jude-seaweedfs');\n\n// mongodb setup\n\nlet mongo_host = process.env.MONGO_HOST || 'localhost';\nlet weed_host = process.env.WEED_HOST || 'localhost';\n\nvar uri = 'mongodb://'+mongo_host+'/jude-dev';\nif(!global.db) {\n    global.db = mongoose.createConnection(uri);\n    global.db.mods = {};\n    global.judeQueue = new MongoQueue2(db, \"jude-queue2\");\n    global.weedClient     = new weed({\n        server:     weed_host,\n        port:       9333\n    });\n}\n\nmodule.exports = global.db;\n\n\n// WEBPACK FOOTER //\n// ./db.js","module.exports = require(\"mongo-queue2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongo-queue2\"\n// module id = 27\n// module chunks = 0","/**\n * Created by rsalesc on 15/07/16.\n */\n\nconst path = require(\"path\");\nvar mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\n// TODO: add creation time (with a plugin)\nmodule.exports = () => {\n    if(db.models.Problem)\n        return db.model('Problem');\n\n    var ProblemSchema = new Schema({\n        code: {\n            type: String,\n            minlength: 4,\n            maxlength: 24,\n            match: /[a-zA-Z][a-zA-Z0-9\\-]*/,\n            required: true\n        },\n        name: {\n            type: String,\n            minlength: 4,\n            maxlength: 64,\n            required: true\n        },\n        statementFid: String,\n        fid: String,\n        attr: Schema.Types.Mixed\n    });\n\n    ProblemSchema.index({code: 1}, {unique: 1});\n    ProblemSchema.index({name: 1});\n    ProblemSchema.index({code: 'text', name: 'text'});\n\n    ProblemSchema.pre(\"remove\", function(next) {\n        db.model(\"Submission\").remove({ problem: this._id }, err => {\n            if(err) console.error(err);\n        });\n        const contestQuery = {\n            problems: {\n                $elemMatch: {\n                    problem: this._id\n                }\n            }\n        };\n\n        db.model(\"Contest\").find(contestQuery, (err, contests) => {\n            if(err)\n                return console.error(err);\n\n            for(let contest of contests) {\n                contest.problems =\n                    contest.problems.filter(problem => !this._id.equals(problem.problem));\n                contest.save(err => {\n                    if(err) console.error(err);\n                });\n            }\n        });\n        next();\n    });\n\n    return db.model('Problem', ProblemSchema)\n};\n\n\n// WEBPACK FOOTER //\n// ./models/Problem.js","module.exports = require(\"glob\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"glob\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"process\"\n// module id = 30\n// module chunks = 0","/**\n * Created by rsalesc on 14/06/16.\n */\n\nconst path = require(\"path\");\nconst task = require(\"./task\");\nconst YAML = require(\"yamljs\");\nconst logger = require(\"./logger\");\nconst utils = require(\"./utils\");\nconst scoring = require(\"./scoring\");\n\nconst JUDE_FN = \"jude.yml\";\n\n/**\n*   Base class for all Loaders\n*   Make sure it runs inside an aysnc or blockable environment\n*   @abstract\n */\nclass Loader {\n  constructor(store) {\n    if (new.target === Loader)\n      throw `Cannot instantiate abstract class ${this.constructor.name}`;\n    this.store = store;\n  }\n\n  /**\n    *   Check if a package can be loaded by this Loader\n    *   @param {Storage} Storage object\n    *   @returns {boolean} if package can be loaded or not\n     */\n  // eslint-disable-next-line no-unused-vars\n  static async isLoadable(store) {\n    throw `Auto-detection not implemented in ${this.name}`;\n  }\n\n  /**\n    *   Load package and return a Task\n    *   @returns {Task} resulting task or null if some error occurs\n     */\n  load() {\n    throw `Load function not implemented in ${this.constructor.name}`;\n  }\n}\n\nclass JudeLoader extends Loader {\n  static async isLoadable(store) {\n    return store.isReadable(JUDE_FN);\n  }\n\n  /**\n    *   Get paths for the tests of dataset\n    *   @param {string} dataset directory\n    *   @returns {Object[]} tests found\n     */\n  async getTestcases(datasetPath) {\n    const testsPath = path.join(\"tests\", datasetPath);\n\n    const inputs = (await this.store.glob(path.join(testsPath, \"/*.in\"))).sort();\n    const res = [];\n\n    for (const input of inputs) {\n      const output = input.replace(/\\.in$/, \".out\");\n      // eslint-disable-next-line no-await-in-loop\n      if (!await this.store.isReadable(output)) {\n        logger.error(\"[%s] test %s should exist\", JudeLoader.name, output);\n        throw \"Missing output file in dataset\";\n      }\n\n      res.push({\n        in: input,\n        out: output\n      });\n    }\n\n    if (res.length === 0) {\n      logger.error(\"[%s] dataset %s is empty\", JudeLoader.name, datasetPath);\n      throw \"Dataset has no tests\";\n    }\n    return res;\n  }\n\n  /**\n    * Returns parsed datasets given their properties in datasets\n    * @param {Object[]} datasets to be parsed in Jude format\n    * @throws if data is inconsistent\n     */\n  async parseDatasets(datasets) {\n    if (!datasets || datasets.length === 0) {\n      logger.error(\"[%s] package has no dataset\", JudeLoader.name);\n      throw \"Package has no dataset\";\n    }\n\n    const res = [];\n    let percentageSum = 0;\n\n    for (const dataset of datasets) {\n      const cur = {\n        name: dataset.name || dataset.path,\n        percentage: dataset.percentage || 0,\n        testcases: await this.getTestcases(dataset.path) // eslint-disable-line no-await-in-loop\n      };\n\n      cur.checkerParams = dataset.checkerParams || cur.name;\n\n      percentageSum += cur.percentage;\n      res.push(cur);\n    }\n\n    // check scoring\n    if (Math.abs(percentageSum - 1) > utils.EPS) {\n      logger.error(\"[%s] datasets percentages should sum to 1\", JudeLoader.name);\n      throw \"Datasets percentages do not sum to 1\";\n    }\n\n    return res;\n  }\n\n  /**\n    *   Get a {Task} object correspondent to the loaded Jude file\n    *   @param {string} loaded Jude file\n    *   @returns {Task} task loaded or null if some error occurred\n     */\n  async getTask(cfg) {\n    const lims = cfg.limits || {};\n    const checks = cfg.checker || {};\n    const multiplier = lims.timeMultiplier || 1;\n    const ratio = lims.timeApproximation || 500;\n\n    const attr = {\n      weight: cfg.weight || 1,\n      datasets: await this.parseDatasets(cfg.datasets),\n      scoring: cfg.scoring || \"ProductScoring\",\n      author: cfg.author || \"\",\n      limits: {\n        // in ms\n        time: lims.time\n          ? Math.ceil(lims.time * multiplier / ratio) * ratio\n          : 1000,\n        memory: lims.memory || 256,\n        source: lims.source || 500\n      },\n      blockedLanguages: [],\n      checker: {\n        language: (checks.language || \"cpp\").toUpperCase(),\n        path: checks.path || \"checker.cpp\"\n      },\n      statement: cfg.statement || null\n    };\n\n    if (!attr.scoring || !scoring.hasOwnProperty(attr.scoring)) {\n      logger.error(\"[%s] scoring type %s does not exist\", JudeLoader.name, attr.scoring);\n      return null;\n    }\n\n    if (attr.statement && !await this.store.isReadable(attr.statement)) {\n      logger.error(\"[%s] statement was specified but could not be find in %s\",\n                   JudeLoader.name, attr.statement);\n      return null;\n    }\n\n    if (!await this.store.isReadable(attr.checker.path)) {\n      logger.error(\"[%s] checker could not be found in %s\", JudeLoader.name, attr.checker.path);\n      return null;\n    }\n\n    return new task.Task(attr);\n  }\n\n  async load() {\n    if (!await this.constructor.isLoadable(this.store)) {\n      logger.error(\"[%s] package is not loadable or does not exist\", JudeLoader.name);\n      return null;\n    }\n\n    try {\n      const cfg = YAML.parse(await this.store.getFileString(JUDE_FN));\n      return this.getTask(cfg);\n    } catch (e) {\n      logger.error(\"[%s] package could not be read or parsed\", JudeLoader.name);\n      logger.debug(e);\n      return null;\n    }\n  }\n}\n\n/**\n* Contains the loaders available for use\n* They can be accessed by their names\n */\nconst LOADERS = new Map([\n  // add loaders here in the following format\n  [JudeLoader.name, JudeLoader]\n]);\n\n/**\n*   Returns a loader capable of loading package informed\n*   @param {Storage} storage object\n*/\nasync function autoDetect(store) {\n  for (const [_, loader] of LOADERS) {\n    // eslint-disable-next-line no-await-in-loop\n    if (await loader.isLoadable(store))\n      return loader;\n  }\n  return null;\n}\n\n// exports names manually since it's still not supported\nmodule.exports = {\n  Loader,\n  JudeLoader,\n  autoDetect,\n  LOADERS\n};\n\n\n\n// WEBPACK FOOTER //\n// ./judge/loader.js","module.exports = require(\"babel-runtime/core-js/map\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/map\"\n// module id = 32\n// module chunks = 0","/**\n * Created by rsalesc on 15/06/16.\n */\n\nfunction submissionComparator(a, b) {\n  if (a.timeInContest === b.timeInContest)\n    return new Date(a.time).getTime() - new Date(b.time).getTime();\n  return a.timeInContest - b.timeInContest;\n}\n\nclass Scoring {\n  constructor(task, opts = {}) {\n    if (new.target === Scoring)\n      throw `Cannot instantiate abstract class ${this.constructor.name}`;\n    this._task = task;\n    this._opts = opts;\n  }\n\n  get task() {\n    return this._task;\n  }\n\n  get opts() {\n    return this._opts;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static isTaskValid(tk) {\n    throw new Error(\"Function not implemented in this class\");\n  }\n\n  static hasWeight() {\n    throw new Error(\"Function not implemented in this class\");\n  }\n\n  static hasPenalty() {\n    throw new Error(\"Function not implemented in this class\");\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  solved(obj) {\n    throw new Error(\"Function not implemented in this class\");\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  attempted(obj) {\n    throw new Error(\"Function not implemented in this class\");\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  eval(verdicts) {\n    throw new Error(\"Function not implemented in this class\");\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  evalContest(submissions) {\n    throw new Error(\"Function not implemented in this class\");\n  }\n\n  skipped() {\n    return [\"\", \"VERDICT_INQ\", \"VERDICT_JE\", \"VERDICT_CE\", \"VERDICT_FAIL\",\n            \"VERDICT_CHTE\", \"VERDICT_UE\", \"VERDICT_CTE\"];\n  }\n\n  hasSkipped(verdicts) {\n    const toSkip = this.skipped();\n    for (const key of Object.keys(verdicts)) {\n      const verdict = verdicts[key];\n      if (toSkip.indexOf(verdict.verdict) !== -1)\n        return true;\n    }\n\n    return false;\n  }\n\n  evalContext(submissions) {\n    return this.evalContest(\n          submissions\n            .filter(s => s.timeInContest >= 0)\n            .filter(s => !this.hasSkipped(s.verdict))\n            .sort(submissionComparator)\n        );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  static mergeEvaluations(evals) {\n    throw new Error(\"Function not implemented in this class\");\n  }\n}\n\nclass ProductScoring extends Scoring {\n\n    // eslint-disable-next-line no-unused-vars\n  static isTaskValid(tk) {\n    return true;\n  }\n\n  static hasWeight() {\n    return true;\n  }\n\n  static hasPenalty() {\n    return true;\n  }\n\n  solved(obj) {\n    return obj.score === this.task.getWeight();\n  }\n\n  attempted(obj) {\n    return obj.affect || obj.fails > 0;\n  }\n\n  fails(obj) {\n    return obj.fails;\n  }\n\n  eval(verdicts) {\n    let res = 1;\n    for (const key of Object.keys(verdicts)) {\n      const verdict = verdicts[key];\n      if (verdict.verdict === \"VERDICT_INQ\") {\n        return {\n score: 0, affect: false, penalty: 0, fails: 0\n        };\n      }\n\n      res *= verdict.verdict === \"VERDICT_AC\"\n        ? 1\n        : 0;\n    }\n\n    return {\n score: parseInt(res * this.task.getWeight(), 10), penalty: 0, affect: true, fails: 0\n    };\n  }\n\n  evalContest(submissions) {\n    submissions.sort(submissionComparator);\n\n    let fails = 0;\n    let penalty = 0;\n    const { opts } = this;\n\n    for (const submission of submissions) {\n      const evaluation = this.eval(submission.verdict);\n      if (!evaluation.affect) {\n        if (evaluation.score === 0) {\n          penalty += opts.penalty || 20;\n          fails++;\n        } else {\n          return {\n            score: evaluation.score,\n            penalty: penalty + submission.timeInContest,\n            affect: true,\n            fails\n          };\n        }\n      }\n    }\n\n    return {\nscore: 0, penalty: 0, affect: false, fails\n    };\n  }\n\n  static mergeEvaluations(evals) {\n    return evals.reduce((old, cur) => ({\n      score: old.score + cur.score,\n      penalty: old.penalty + cur.penalty\n    }), { score: 0, penalty: 0 });\n  }\n}\n\nclass IcpcScoring extends Scoring {\n\n  // eslint-disable-next-line no-unused-vars\n  static isTaskValid(tk) {\n    return true;\n  }\n\n  static hasWeight() {\n    return false;\n  }\n\n  static hasPenalty() {\n    return true;\n  }\n\n  solved(obj) {\n    return obj.score > 0;\n  }\n\n  attempted(obj) {\n    return obj.affect || obj.fails > 0;\n  }\n\n  fails(obj) {\n    return obj.fails;\n  }\n\n  eval(verdicts) {\n    let res = 1;\n    for (const key of Object.keys(verdicts)) {\n      const verdict = verdicts[key];\n      if (verdict.verdict === \"VERDICT_INQ\") {\n        return {\n score: 0, affect: false, penalty: 0, fails: 0\n        };\n      }\n\n      res *= verdict.verdict === \"VERDICT_AC\"\n        ? 1\n        : 0;\n    }\n\n    return {\nscore: res, penalty: 0, affect: true, fails: 0\n    };\n  }\n\n  evalContest(submissions) {\n    submissions.sort(submissionComparator);\n\n    let fails = 0;\n    let penalty = 0;\n    const { opts } = this;\n\n    for (const submission of submissions) {\n      const evaluation = this.eval(submission.verdict);\n      if (evaluation.affect) {\n        if (evaluation.score === 0) {\n          penalty += opts.penalty || 20;\n          fails++;\n        } else {\n          return {\n            score: 1,\n            penalty: penalty + submission.timeInContest,\n            affect: true,\n            fails\n          };\n        }\n      }\n    }\n\n    return {\nscore: 0, penalty: 0, affect: false, fails\n    };\n  }\n\n  static mergeEvaluations(evals) {\n    return evals.reduce((old, cur) => ({\n      score: old.score + cur.score,\n      penalty: old.penalty + cur.penalty\n    }), { score: 0, penalty: 0 });\n  }\n}\n\nmodule.exports = {\n    _Scoring: Scoring,\n    ProductScoring,\n    IcpcScoring\n};\n\n\n\n// WEBPACK FOOTER //\n// ./judge/scoring.js","/**\n * Created by rsalesc on 15/06/16.\n */\n\nconst fs = require(\"fs\");\nconst fse = require(\"fs-extra\");\nconst tmp = require(\"tmp\");\ntmp.setGracefulCleanup();\n\nconst path = require(\"path\");\n\nconst MongoQueue2 = require(\"mongo-queue2\");\n\nconst JudgeConfig = {\n  EPS: 1e-7,\n  MAX_SANDBOXES: 10,\n  MAX_SIMUL_TESTS: 3,\n  COMPILATION_TL: 25,\n  CHECKING_TL: 10,\n  CHECKING_ML: 512,\n  CHECKING_WTL: 20,\n  WT_MULTIPLIER: 4,\n  OUTPUT_LIMIT: 1 << 24,\n  TEMP_DIR: \"/tmp\",\n  ISOLATE_PATH: path.resolve(\"/usr/local/bin/isolate\"),\n  VISIBILITY_WINDOW: 30,\n  BOUND_ML: 2048\n};\n\nclass PackageCacher {\n  constructor(size = 20) {\n    this.path = tmp.dirSync({ prefix: \"judecache-\", unsafeCleanup: true }).name;\n    this.has = new Map();\n    this.size = size;\n  }\n\n  popLessFrequent() {\n    let best = 1e9;\n    let res = [];\n    for (const [key, value] of this.has) {\n      if (value < best)\n        res = [];\n      if (value <= best) {\n        best = value;\n        res.push(key);\n      }\n    }\n\n    try {\n      if (res.length > 0) {\n        const idx = Math.random() * res.length | 0;\n        const p = this.getFilePath(res[idx]);\n        fs.removeSync(p);\n        this.has.delete(res[idx]);\n        return true;\n      }\n      return false;\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  ensureSpace() {\n    while (this.has.size >= this.size) {\n      if (!this.popLessFrequent())\n        break;\n    }\n  }\n\n  ping(p) {\n    const nv = Math.max(this.has.get(p) || 0, 0) + 1;\n    for (const [key, value] of this.has)\n      this.has.set(key, value - 1);\n\n    this.has.set(p, nv);\n  }\n\n  addFromStream(p, cb) {\n    const writeStream = fs.createWriteStream(path.join(this.path, p));\n    writeStream.on(\"finish\", () => {\n      this.ensureSpace();\n      this.ping(p);\n      cb(null);\n    });\n\n    writeStream.on(\"error\", (err) => {\n      cb(null);\n    });\n\n    return writeStream;\n  }\n\n  addFromFile(p, d) {\n    fse.copySync(d, this.getFilePath(p));\n    this.ensureSpace();\n    this.ping(p);\n  }\n\n  exists(p) {\n    return this.has.has(p);\n  }\n\n  getFilePath(p) {\n    return path.resolve(this.path, p);\n  }\n}\n\nclass JudgeEnvironment {\n  constructor(db, seaweed) {\n    this.sandboxes = [];\n    this.nextSandboxId = 0;\n    this.db = db;\n    this.cache = new PackageCacher();\n\n    this.seaweed = seaweed;\n    if (db)\n      this.queue = new MongoQueue2(db, \"jude-queue2\");\n  }\n\n  getNextBoxId() {\n    const res = this.nextSandboxId++;\n    this.nextSandboxId %= JudgeConfig.MAX_SANDBOXES;\n    return res % JudgeConfig.MAX_SANDBOXES;\n  }\n}\n\nmodule.exports = {\n  JudgeEnvironment,\n  JudgeConfig\n};\n\n\n\n// WEBPACK FOOTER //\n// ./judge/environment.js","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 35\n// module chunks = 0","var app = require('./app');\nvar port = process.env.PORT || 3000;\n\napp.listen(port, () => {\n  console.log(`application is listening in port ${port}!`)\n});\n\n\n// WEBPACK FOOTER //\n// ./index.js","const express = require(\"express\");\nconst session = require(\"express-session\");\nconst MongoStore = require(\"connect-mongo\")(session);\nconst mongoose = require(\"mongoose\");\nconst path = require(\"path\");\nconst favicon = require(\"serve-favicon\");\nconst logger = require(\"morgan\");\nconst cookieParser = require(\"cookie-parser\");\nconst bodyParser = require(\"body-parser\");\nconst multer = require(\"multer\");\nconst flash = require(\"connect-flash\");\nconst router = express.Router();\n// var methodOverride = require('method-override');\nconst restify = require(\"express-restify-mongoose\");\nconst apiRoutes = require(\"./routes/api\");\n\n// expose db object globally\nrequire(\"./db\");\n\nconst app = express();\nconst routes = require(\"./routes/index\");\nconst auth2 = require(\"./auth2\");\nconst models = require(\"./models\");\n\napp.use(express.static(path.join(__dirname, \"public\")));\n\n// setup auth method\n// configure session\napp.use(session({\n  secret: \"truesecretmofos\",\n  resave: false,\n  saveUninitialized: false,\n  store: new MongoStore({ mongooseConnection: db })\n}));\n\n// view engine setup\napp.set(\"views\", path.join(__dirname, \"views\"));\napp.set(\"view engine\", \"jade\");\n\n// uncomment after placing your favicon in /public\n// app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));\napp.use(logger(\"dev\"));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(multer());\napp.use(flash());\n// app.use(methodOverride('X-HTTP-Method-Override'));\n\n// setup cors\napp.use((req, res, next) => {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\n  res.header(\"Access-Control-Allow-Credentials\", \"true\");\n  res.header(\"Access-Control-Expose-Headers\", \"X-Total-Count\");\n  if (req.method === \"OPTIONS\")\n    return res.sendStatus(200);\n  next();\n});\n\n// configure api auth\napp.use(auth2.initialize({\n  db,\n  usernameField: \"handle\",\n  usernameSchema: \"handle\",\n  model: models.User,\n  roleFn: (user) => {\n    const roles = [];\n    if (user.role)\n      roles.push(user.role);\n    if (!user.contest)\n      roles.push(\"root\");\n    return roles;\n  },\n  passwordFn: (user, req) => user.matchPasswords(req.getPassword()),\n  requiredFieldsFn: (model, req) => req.getUsername() && req.getPassword()\n      && (!req.body.contest || mongoose.Types.ObjectId.isValid(req.body.contest)),\n  filterFn: (model, req) => {\n    const { opts } = req.auth2;\n    const qs = {};\n    qs[opts.usernameSchema] = req.getUsername();\n    qs.contest = req.body.contest || null;\n    return qs;\n  }\n}));\n\n// setup routes here\napp.use(\"/\", routes);\n\nconst restifyShared = {\n  runValidators: true,\n  totalCountHeader: true,\n  findOneAndRemove: false,\n  preMiddleware: (req, res, next) => {\n    if (req.body.id)\n      req.body._id = req.body.id;\n    if (req.params.id)\n      req.params._id = req.params.id;\n    if (req.query.id)\n      req.query._id = req.query.id;\n    if (req.query.query && req.query.query.id)\n      req.query.query._id = req.query.query.id;\n\n    /* if(req.query) {\n      for(let prop in req.query) {\n        if(req.query.hasOwnProperty(prop)) {\n          try {\n            req.query[prop] = JSON.parse(req.query[prop]);\n          } catch(ex) {}\n        }\n      }\n    }*/\n\n    /* if(req.query.query) {\n        for(let prop in req.query.query) {\n          if(req.query.query.hasOwnProperty(prop)\n            && mongoose.Types.ObjectId.isValid(req.query.query[prop]))\n              req.query.query[prop] = new mongoose.Types.ObjectId(req.query.query[prop]);\n        }\n    }*/\n\n    auth2.isAuth(\"root\")(req, res, next);\n  },\n  outputFn: (req, res, next) => {\n    const result = req.erm.result;\n    const statusCode = req.erm.statusCode;\n\n    const fixEntry = (entry) => {\n      if (entry && entry._id)\n        return { ...entry, ...{ id: entry._id }};\n      return entry;\n    };\n\n    if (Array.isArray(result))\n      res.status(statusCode).json(result.map(fixEntry));\n    else\n      res.status(statusCode).json(fixEntry(result));\n  }\n};\n\nrestify.serve(router, models.Problem, { ...{ name: \"problems\" }, ...restifyShared });\nrestify.serve(router, models.User, { ...{ name: \"users\", findOneAndUpdate: false }, ...restifyShared });\nrestify.serve(router, models.Submission, { ...{ name: \"submissions\" }, ...restifyShared });\nrestify.serve(router, models.Contest, { ...{ name: \"contests\", findOneAndUpdate: false }, ...restifyShared });\n\n// extra api routes\nrouter.use(\"/api/v1\", apiRoutes);\n\napp.use(router);\n\n// catch 404 and forward to error handler\napp.use((req, res, next) => {\n  const err = new Error(\"Not Found\");\n  err.status = 404;\n  next(err);\n});\n\n// error handlers\n\n// development error handler\n// will print stacktrace\nif (app.get(\"env\") === \"development\") {\n  app.use((err, req, res, next) => {\n    res.status(err.status || 500);\n    res.render(\"error\", {\n      message: err.message,\n      error: err\n    });\n  });\n}\n\n// production error handler\n// no stacktraces leaked to user\napp.use((err, req, res, next) => {\n  res.status(err.status || 500);\n  res.render(\"error\", {\n    message: err.message,\n    error: {}\n  });\n});\n\nmodule.exports = app;\n\n\n\n// WEBPACK FOOTER //\n// ./app.js","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"connect-mongo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-mongo\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"connect-flash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-flash\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"express-restify-mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-restify-mongoose\"\n// module id = 47\n// module chunks = 0","/**\n * Created by rsalesc on 15/07/16.\n */\nconst express = require(\"express\");\nconst router = express.Router();\nconst path = require(\"path\");\n\nconst mongoose = require(\"mongoose\");\nconst models = require(\"../../models/\");\nconst { Contest, User } = models;\nconst { SubmissionNoCode } = require(\"./submission\");\nconst { ObjectId } = mongoose.Types;\n\nfunction handleContestError(err, req, res, next) {\n  res.status(400).json({ error: err });\n}\n\nconst ContestSelection\n    = \"name start_time end_time _id registration_end collabs _creator\";\n\nrouter.post(\"/:id/addUsers\", async (req, res) => {\n  // eslint-disable-next-line\n  const { users, override } = Object.assign({}, { override: false }, req.body);\n\n  // eslint-disable-next-line promise/avoid-new\n  const awaited = await Promise.all(users.map(u => new Promise((resolve) => {\n    // eslint-disable-next-line new-cap, prefer-object-spread/prefer-object-spread\n    const du = Object.assign({}, u, { contest: ObjectId(req.params.id) });\n    const user = new User(du);\n    return User.findOne({ handle: user.handle, contest: user.contest }, (err, oldUser) => {\n      if (err)\n        return resolve(err);\n\n      if (!oldUser) {\n        return user.save((err2) => {\n          if (err2)\n            return resolve(err2);\n          return resolve(true);\n        });\n      } else if (!override)\n        return resolve(false);\n\n      // eslint-disable-next-line no-underscore-dangle \n      return oldUser.update(du, (err2) => {\n        if (err2)\n          return resolve(err2);\n        return resolve(true);\n      });\n    });\n  })));\n\n  const erred = awaited.filter(x => x !== true && x !== false);\n  if (erred.length > 0)\n    return handleContestError(erred[0], req, res);\n\n  return res.send(200);\n});\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/api/contest.js","module.exports = require(\"jude-seaweedfs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jude-seaweedfs\"\n// module id = 49\n// module chunks = 0","/**\n * Created by rsalesc on 14/07/16.\n */\nvar mongoose = require('mongoose')\nvar deepPopulate = require('mongoose-deep-populate')(mongoose);\nvar Schema = mongoose.Schema\n\nmodule.exports = () => {\n    if(db.models.Contest)\n        return db.model(\"Contest\");\n\n    const Problem = require('./Problem')();\n\n    var ContestProblem = new Schema({\n        letter: {\n            type: String,\n            required: true,\n            match: /[A-Z][0-9]*/\n        },\n        problem: {type: Schema.Types.ObjectId, ref: 'Problem', required: true},\n        color: {type: String, default: \"000\"}\n    }, {_id: false});\n\n    var ContestSchema = new Schema({\n        name: {type: String, minlength: 4, maxlength: 64},\n        start_time: {type: Date, required: true},\n        end_time: {type: Date, required: true},\n        scoring: {type: String, required: true},\n        problems: {\n            type: [ContestProblem],\n            validate: {\n                validator: function(v) {\n                    if(!Array.isArray(v)) return false;\n                    let letters = v.map((val) => {\n                        return val.letter;\n                    });\n\n                    return new Set(letters).size == letters.length\n                },\n                message: 'Contest cannot have repeated letters and problems must be an array'\n            }\n        },\n        hidden: Boolean\n    });\n\n    ContestSchema.index({name: 1});\n    ContestSchema.index({name: 'text'});\n    ContestSchema.plugin(deepPopulate);\n\n    ContestSchema.pre('save', function(next){\n        this.problems.sort((a, b) => {\n            try {\n                return ((x, y) => {\n                    let xd = parseInt(x.slice(1)) || 0;\n                    let yd = parseInt(y.slice(1)) || 0;\n\n                    if(x[0] == y[0])\n                        return xd < yd ? -1 : (xd > yd ? 1 : 0);\n\n                    return x[0] < y[0] ? -1 : 1;\n                })(a.letter, b.letter)\n            } catch(ex){\n                return false;\n            }\n        });\n\n        next();\n    });\n\n    ContestSchema.methods.hasStarted = function(){\n        return this.start_time.getTime() <= Date.now();\n    };\n\n    ContestSchema.methods.hasEnded = function(){\n        return this.end_time.getTime() <= Date.now();\n    };\n\n    ContestSchema.methods.isRunning = function(){\n        return this.hasStarted() && !this.hasEnded();\n    };\n\n    ContestSchema.methods.getTimeInContest = function(){\n        return parseInt((Date.now() - this.start_time.getTime()) / 60 / 1000);\n    };\n\n    ContestSchema.pre(\"remove\", function(next) {\n        db.model(\"Submission\").remove({ contest: this._id }, err => {\n           if(err) console.error(err); \n        });\n        db.model(\"User\").remove({ contest: this._id }, err => {\n           if(err) console.error(err); \n        });\n        next();\n    });\n\n\n    return db.model('Contest', ContestSchema);\n}\n\n\n// WEBPACK FOOTER //\n// ./models/Contest.js","module.exports = require(\"babel-runtime/core-js/set\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/set\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"mongoose-deep-populate\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-deep-populate\"\n// module id = 52\n// module chunks = 0","/**\n * Created by rsalesc on 14/07/16.\n */\nvar mongoose = require('mongoose')\nvar Schema = mongoose.Schema\nconst sha256 = require('sha256');\n\nmodule.exports = () => {\n    if(db.models.User)\n        return db.model(\"User\");\n\n    var UserSchema = new Schema({\n        handle: {\n            type: String,\n            minlength: 4,\n            maxlength: 16,\n            match: /[a-zA-Z][a-zA-Z0-9_\\.]*/,\n            required: true\n        },\n        name: {\n            type: String,\n            maxlength: 48,\n            default: \"unnamed\"\n        },\n        description:String,\n        password: {type: String},\n        email: {\n            type: String,\n            maxlength: 64\n            // TODO: put email regex here\n        },\n        contest: {type: Schema.Types.ObjectId, ref: 'Contest'},\n        unofficial: {type: Boolean, default: false},\n        role: {type: String, default: \"contestant\"}\n    })\n\n    UserSchema.index({handle: 1, contest: 1}, {unique: true});\n    UserSchema.index({handle: 'text', name: 'text'}, {\n        weights: {\n            handle: 2,\n            name: 1\n        }\n    });\n\n    UserSchema.pre('save', function(next){\n        if(this.isModified('password')){\n            this.password = sha256(this.password);\n        }\n\n        next();\n    });\n\n    UserSchema.methods.matchPasswords = function(candidate){\n        return this.password == sha256(candidate);\n    };\n\n    UserSchema.pre(\"remove\", function(next) {\n        db.model(\"Submission\").remove({ _creator: this._id }, err => {\n            if(err) console.error(err);\n        });\n        next();\n    });\n\n    return db.model('User', UserSchema)\n}\n\n\n// WEBPACK FOOTER //\n// ./models/User.js","module.exports = require(\"sha256\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sha256\"\n// module id = 54\n// module chunks = 0","/**\n * Created by rsalesc on 15/07/16.\n */\n\nconst mongoose = require(\"mongoose\");\nconst { Schema } = mongoose;\n\nconst DEFAULT_VERDICT = {\n  verdict: \"\", info: \"\", passed: -1, score: 0\n};\n\n// TODO: add creation time (with a plugin)\nmodule.exports = () => {\n  if (db.models.Submission)\n    return db.model(\"Submission\");\n\n\n  const SubmissionSchema = new Schema({\n    _creator: { type: Schema.Types.ObjectId, ref: \"User\", required: true },\n    contest: { type: Schema.Types.ObjectId, ref: \"Contest\" },\n    problem: { type: Schema.Types.ObjectId, ref: \"Problem\", required: true },\n    time: { type: Date, default: Date.now },\n    timeInContest: { type: Number, default: 0 },\n    language: String, // add enum validator? maybe not, language set is mutable\n    code: String,\n    verdict: Schema.Types.Mixed\n  });\n\n  SubmissionSchema.index({ contest: 1, _creator: 1 });\n  SubmissionSchema.index({ contest: 1, problem: 1 });\n  SubmissionSchema.index({ contest: 1, time: 1 });\n  SubmissionSchema.index({ contest: 1, timeInContest: 1 });\n  SubmissionSchema.index({ problem: 1 });\n  SubmissionSchema.index({ _creator: 1 });\n\n  SubmissionSchema.pre(\"save\", function (next) {\n    if (this.problem) {\n      db.model(\"Problem\").findById(this.problem).exec((err, problem) => {\n        if (err)\n          next(err);\n        this.verdict = this.verdict || {};\n        const res = {};\n        for (const data of problem.attr.datasets)\n          res[data.name] = this.verdict[data.name] || DEFAULT_VERDICT;\n\n        this.verdict = res;\n        next();\n      });\n    }\n  });\n\n  return db.model(\"Submission\", SubmissionSchema);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/Submission.js","const express = require(\"express\");\nconst path = require(\"path\");\nconst mongoose = require(\"mongoose\");\n// eslint-disable-next-line new-cap\nconst router = express.Router();\nconst models = require(\"../../models/\");\nconst { User, Submission } = models;\nconst { SubmissionNoCode } = require(\"./submission\");\nconst { ObjectId } = mongoose.Types;\n\nconst UserSelection = \"_id handle name\";\n\nfunction handleUserError(err, req, res) {\n  res.json({ error: err });\n}\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/api/user.js","const express = require(\"express\");\nconst router = express.Router();\nconst path = require(\"path\");\nconst models = require(\"../models\");\nconst { Problem, Contest } = models;\n\nconst Storage = require(\"../judge/storage\").MemoryStorage;\nconst Loader = require(\"../judge/loader\");\nconst utils = require(\"../judge/utils\");\nconst api = require(\"./api\");\nconst contest = require(\"./contest\");\nconst admin = require(\"./admin\");\nconst auth2 = require(\"../auth2\");\nconst passport = require(\"passport\");\n\nfunction handleInternalError(err, req, res, next) {\n  res.status(500).json({ error: err.toString() });\n}\n\n/* GET home page. */\nrouter.get(\"/\", (req, res, next) => {\n  res.render(\"index\");\n});\n\nrouter.post(\"/api-logout\", auth2.dispose());\nrouter.post(\"/api-login\", auth2.authenticate([\"contestant\", \"root\"]));\n\nrouter.post(\"/upload/:id\", auth2.isAuth([\"root\"]), (req, res, next) => {\n  if (!req.files || !req.files.file)\n    return res.status(404).json({ message: \"exactly one file should be uploaded\" });\n  Problem.findOne({ _id: req.params.id }, (err, problem) => {\n    if (err)\n      return res.status(400).json({ message: err.toString() });\n    if (!problem)\n      return res.status(400).json({ message: \"problem not found\" });\n\n    (async () => {\n      const file = req.files.file;\n\n      let task = null;\n      const store = new Storage();\n      try {\n        store.loadZip(file.path);\n\n        const loade = Loader.autoDetect(store);\n        if (loade === null)\n          throw new Error(\"Package is not loadable\");\n\n        task = new loade(store).load();\n      } catch (ex) {\n        return res.status(400).json({ message: ex.toString() });\n      }\n\n      if (!task)\n        return res.status(400).json({ message: \"package could not be loaded\" });\n\n\n      console.log(`Uploading package ${file.path}`);\n\n      weedClient.write(file.path).then((info) => {\n        problem.fid = info.fid;\n        problem.attr = task.toJSON();\n\n        if (task.hasStatement()) {\n          weedClient.write(store.getFileBuffer(task.getStatement())).then((infoStatement) => {\n            problem.statementFid = infoStatement.fid;\n            info.statementFid = infoStatement.fid;\n\n            problem.save((err) => {\n              if (err)\n                return res.status(400).json({ message: err.toString() });\n              res.send(info);\n            });\n          }).catch((err) => {\n            res.status(400).json({ message: err.toString() });\n          });\n        } else {\n          problem.save((err) => {\n            if (err)\n              return res.status(400).json({ message: err.toString() });\n            res.send(info);\n          });\n        }\n      }).catch((err) => {\n        res.status(400).json({ message: err.toString() });\n      });\n    })();\n  });\n});\n\nrouter.get(\"/contest-list\", (req, res, next) => {\n  Contest.find({ hidden: false }, (err, contests) => {\n    if (err)\n      return handleInternalError(err, req, res);\n\n    res.json({ contests });\n  });\n});\n\nrouter.use(\"/contest\", contest);\nrouter.use(\"/admin\", admin);\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/index.js","module.exports = require(\"yauzl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"yauzl\"\n// module id = 58\n// module chunks = 0","module.exports = require(\"concat-stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"concat-stream\"\n// module id = 59\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/typeof\"\n// module id = 60\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 61\n// module chunks = 0","module.exports = require(\"node-wildcard\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-wildcard\"\n// module id = 62\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 63\n// module chunks = 0","module.exports = require(\"es6-promisify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"es6-promisify\"\n// module id = 64\n// module chunks = 0","/**\n * Created by rsalesc on 14/06/16.\n */\n\nconst scoring = require(`${__dirname}/scoring`);\nconst deepcopy = require(\"deepcopy\");\n\nclass Task {\n  constructor(attr) {\n    this.attr = attr;\n  }\n\n  // function to check if task is valid\n\n  /**\n     * Get scoring class\n     */\n  getScoringClass() {\n    return scoring[this.attr.scoring];\n  }\n\n  /**\n     * Get scoring\n     */\n  getScoring() {\n    return new (this.getScoringClass())(this);\n  }\n\n  /*\n    *   Get task directory\n    *   @returns {string} task directory\n     */\n  getDirectory() {\n    return this.attr.wd;\n  }\n\n  /*\n    *   Get checker path\n    *   @returns {string} checker path\n     */\n  getChecker() {\n    return this.attr.checker.path;\n  }\n\n  /*\n    *   Get checker language\n    *   @returns {string} checker language\n     */\n  getCheckerLanguage() {\n    return this.attr.checker.language;\n  }\n\n  /*\n    *   Get datasets\n     */\n  getDatasets() {\n    return this.attr.datasets;\n  }\n\n  /*\n    *   Get count of datasets\n     */\n  getDatasetsCount() {\n    try {\n      return this.attr.datasets.length;\n    } catch (e) {\n      return 0;\n    }\n  }\n\n  /*\n    *   Get timelimit (in secs)\n     */\n  getTimelimit() {\n    try {\n      return this.attr.limits.time / 1000;\n    } catch (e) {\n      return 1.0;\n    }\n  }\n\n  getTimelimitMs() {\n    return this.attr.limits.time;\n  }\n\n  /*\n    *   Get memory limit (in MB)\n     */\n  getMemorylimit() {\n    try {\n      return this.attr.limits.memory;\n    } catch (e) {\n      return 256;\n    }\n  }\n\n  getWeight() {\n    return this.weight || 1;\n  }\n\n  /**\n     * @return {Boolean} if task has a statement specified in package\n     */\n  hasStatement() {\n    return Boolean(this.attr.statement);\n  }\n\n  getStatement() {\n    if (!this.attr.statement)\n      return null;\n    return this.attr.statement;\n  }\n\n  toJSON() {\n    const res = deepcopy(this.attr);\n    for (const dataset of res.datasets)\n      delete dataset.testcases;\n    return res;\n  }\n}\n\nmodule.exports = { Task };\n\n\n\n// WEBPACK FOOTER //\n// ./judge/task.js","module.exports = require(\"deepcopy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"deepcopy\"\n// module id = 66\n// module chunks = 0","module.exports = require(\"yamljs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"yamljs\"\n// module id = 67\n// module chunks = 0","const path = require(\"path\");\nconst mongoose = require(\"mongoose\");\nconst grader = require(\"../judge/grader\");\nconst precheck = require(\"../judge/precheck\");\nconst auth2 = require(\"../auth2\");\n\nconst express = require(\"express\");\nconst router = express.Router();\n\nconst models = require(\"../models/\");\n\nconst ContestProblemSelection\n    = \"code name _id attr.weight attr.author attr.datasets attr.scoring attr.limits attr.blockedLanguages\";\nconst {\n  Contest, Submission, Problem, User\n} = models;\n\nfunction handleContestError(err, req, res, next) {\n  res.status(400).json({ error: err.toString() });\n}\n\nfunction getUserContest(user) {\n  try {\n    return Contest.findById(user.contest);\n  } catch (ex) {\n    return { exec: cb => cb(ex) };\n  }\n}\n\n// ensure user is auth'ed\nrouter.use(auth2.isAuth(\"contestant\"));\n\nrouter.get(\"/\", (req, res, next) => {\n  getUserContest(req.auth2.user).deepPopulate(\"problems.problem\", {\n    populate: {\"problems.problem\": { select: ContestProblemSelection }}\n  }).exec((err, contest) => {\n    if (err)\n      return handleContestError(err, req, res);\n    if (!contest)\n      return handleContestError(\"inconsistent session\", req, res);\n\n    if (!contest.hasStarted())\n      contest.problems = [];\n\n    const contestObj = {...contest.toObject(), ...{ languages: Object.entries(grader.availableLanguages)}};\n\n    User.find({ contest: contest.id }).select(\"-password -email -handle\").exec((err, teams) => {\n      if (err)\n        return handleContestError(err, req, res);\n      if (teams === null)\n        return handleContestError(\"couldnt retrieve teams\", req, res);\n\n      res.json({ _user: req.auth2.user._id, teams, contest: contestObj });\n    });\n  });\n});\n\n// TODO: contest started check\nrouter.get(\"/my\", (req, res, next) => {\n  Submission.find({ contest: req.auth2.user.contest, _creator: req.auth2.user._id })\n    .sort(\"-time\")\n    .exec((err, subs) => {\n      if (err)\n        return handleContestError(err, req, res);\n\n      res.json({ _user: req.auth2.user._id, submissions: subs });\n    });\n});\n\nrouter.get(\"/submissions\", (req, res, next) => {\n  getUserContest(req.auth2.user).exec((err, contest) => {\n    if (err)\n      return handleContestError(err, req, res);\n    if (!contest)\n      return handleContestError(\"non existent contest\", req, res);\n\n    if (!contest.hasStarted())\n      return res.json({ _user: req.auth2.user._id, submissions: []});\n\n    Submission.find({ contest: req.auth2.user.contest }).sort(\"-time\").select(\"-code\").exec((err, subs) => {\n      if (err)\n        return handleContestError(err, req, res);\n      res.json({ _user: req.auth2.user._id, submissions: subs });\n    });\n  });\n});\n\n// TODO: hash submissions to avoid duplicates\nrouter.post(\"/submit\", (req, res, next) => {\n  if (!req.body.code || !req.body.language || !req.body.problem)\n    return handleContestError(\"all fields must be filled\", req, res);\n  const user = req.auth2.user;\n\n  if (!grader.availableLanguages.hasOwnProperty(req.body.language))\n    return handleContestError(\"language is invalid\", req, res);\n\n  try {\n    req.body.code = precheck[req.body.language](req.body.code);\n  } catch (ex) {\n    return handleContestError(ex.message, req, res);\n  }\n\n  getUserContest(user).exec((err, contest) => {\n    if (err)\n      return handleContestError(err, req, res);\n    if (!contest)\n      return handleContestError(\"contest not found\", req, res);\n\n    Problem.findById(req.body.problem).exec((err, problem) => {\n      if (err)\n        return handleContestError(err, req, res);\n      if (!problem || contest.problems.findIndex(x => x.problem == req.body.problem) === -1)\n        return handleContestError(\"problem not found\", req, res);\n\n      if (!contest.hasStarted())\n        return handleContestError(\"contest not started\", req, res);\n\n      let timeInContest = contest.getTimeInContest();\n\n      if (contest.hasEnded())\n        timeInContest = -1;\n\n      const verdict = {};\n      for (const data of problem.attr.datasets)\n        verdict[data.name] = { \nverdict: \"VERDICT_INQ\", passed: -1, score: 0, info: \"\" \n};\n\n\n      const sub = new Submission({\n        _creator: req.auth2.user.id,\n        contest,\n        problem: req.body.problem,\n        timeInContest,\n        language: req.body.language,\n        code: req.body.code,\n        verdict\n      });\n\n      sub.save(async (err) => {\n        if (err)\n          return handleContestError(err, req, res);\n\n        try {\n          await judeQueue.add({\n            id: req.body.problem,\n            subid: sub._id,\n            fid: problem.fid,\n            code: req.body.code,\n            lang: req.body.language\n          });\n        } catch (ex) {\n          return handleContestError(ex, req, res);\n        }\n\n        res.json({ success: \"submitted\" });\n      });\n    });\n  });\n});\n\nrouter.get(\"/statement/:letter\", (req, res, next) => {\n  getUserContest(req.auth2.user).deepPopulate(\"problems.problem\").exec((err, contest) => {\n    if (err)\n      return handleContestError(err, req, res, next);\n    if (!contest)\n      return next();\n\n    for (const prob of contest.problems) {\n      if (prob.letter == req.params.letter) {\n        // res.setHeader('Content-Disposition', 'attachment');\n        return weedClient.read(prob.problem.statementFid, res);\n      }\n    }\n\n    next();\n  });\n});\n\nrouter.get(\"/submission/:id\", (req, res, next) => {\n  getUserContest(req.auth2.user).exec((err, contest) => {\n    if (err)\n      return handleContestError(err, req, res, next);\n    if (!contest)\n      return handleContestError(\"contest not found\", req, res, next);\n\n    Submission.findById(req.params.id).lean().exec((err, sub) => {\n      if (err)\n        return handleContestError(err, req, res, next);\n      if (!sub)\n        return handleContestError(\"submission not found\", req, res, next);\n\n      if (!sub._creator.equals(req.auth2.user._id) && !contest.hasEnded())\n        sub.code = undefined;\n\n\n      res.json(sub);\n    });\n  });\n});\n\nrouter.get(\"/languages\", (req, res, next) => res.json(Object.entries(grader.availableLanguages)));\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/contest.js","module.exports = require(\"babel-runtime/core-js/object/entries\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/entries\"\n// module id = 69\n// module chunks = 0","/**\n * Created by rsalesc on 24/06/16.\n */\n\n// eslint-disable-next-line no-unused-vars\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst promiseReflect = require(\"promise-reflect\");\n\nconst verdict = require(\"./verdict\");\nconst utils = require(\"./utils\");\nconst logger = require(\"./logger\");\nconst sandbox = require(\"./sandbox\");\nconst environment = require(\"./environment\");\n\nconst loader = require(\"./loader\");\nconst Profiler = require(\"./profiler\");\n\nconst Storage = require(\"./storage\").MemoryStorage;\n\nconst { Verdict } = verdict;\nconst { Isolate, IsolateConst } = sandbox;\nconst { JudgeEnvironment, JudgeConfig } = environment;\nconst { JudeLoader } = loader;\n\nconst policyPath = \"/etc/java-sandbox/security.policy\";\nconst javaExecutorPath = \"/etc/java-sandbox/executor.jar\";\n\nasync function evaluate(iso, store, command, input, output = \"output\", error = \"error\") {\n  if (input)\n    iso.stdin = input;\n  iso.stdout = output;\n  iso.stderr = error;\n\n  // remove stdout and stderr, only for dbg\n  const res = await iso.executeBufferized(command);\n  // iso.removeFile(iso.stdout)\n  // iso.removeFile(iso.stderr)\n\n  return res;\n}\n\nconst Evaluation = {\n  async CPP(iso, store, execPath, test, timelimit = null, wtlimit = null, memorylimit = null,\n            input = \"input\", output = \"output\",\n            error = \"error\") {\n    iso.timelimit = timelimit;\n    iso.wallclockLimit = wtlimit;\n    iso.memorySize = memorylimit;\n    await iso.createFileFromStorage(input, test);\n    await iso.createFileFromStorage(\"eval\", execPath, true);\n\n    const res = await evaluate(iso, store, [\"./eval\"], input, output, error);\n    await iso.removeFile(\"eval\");\n    await iso.removeFile(input);\n\n    return res;\n  },\n  async Py2(iso, store, execPath, test, timelimit = null, wtlimit = null, memorylimit = null,\n            input = \"input\", output = \"output\",\n            error = \"error\") {\n    iso.timelimit = timelimit;\n    iso.wallclockLimit = wtlimit;\n    iso.memorySize = memorylimit;\n    iso.setEnv.HOME = \"./\";\n    iso.dirs.push({ in: \"/usr\" });\n    iso.dirs.push({ in: \"/etc\" });\n    await iso.createFileFromStorage(input, test);\n    await iso.createFileFromStorage(\"sol.pyc\", \"sol.pyc\", true);\n\n    const res = await evaluate(iso, store, [\"/usr/bin/python2\", \"sol.pyc\"], input, output, error);\n    iso.dirs.pop();\n    iso.dirs.pop();\n\n    await iso.removeFile(\"sol.pyc\");\n    await iso.removeFile(input);\n\n    return res;\n  },\n  async Py3(iso, store, execPath, test, timelimit = null, wtlimit = null, memorylimit = null,\n            input = \"input\", output = \"output\",\n            error = \"error\") {\n    iso.timelimit = timelimit;\n    iso.wallclockLimit = wtlimit;\n    iso.memorySize = memorylimit;\n    iso.setEnv.HOME = \"./\";\n    iso.dirs.push({ in: \"/usr\" });\n    iso.dirs.push({ in: \"/etc\" });\n    await iso.createFileFromStorage(input, test);\n    await iso.createFileFromStorage(\"sol.pyc\", \"sol.pyc\", true);\n\n    const res = await evaluate(iso, store, [\"/usr/bin/python3\", \"sol.pyc\"], input, output, error);\n    iso.dirs.pop();\n    iso.dirs.pop();\n\n    await iso.removeFile(\"sol.pyc\");\n    await iso.removeFile(input);\n\n    return res;\n  },\n  async Java(iso, store, execPath, test, timelimit = null, wtlimit = null, memorylimit = null,\n             input = \"input\", output = \"output\",\n             error = \"error\") {\n    const oldProc = iso.maxProcesses;\n    const oldEnv = iso.setEnv;\n    const oldCgTiming = iso.cgTiming;\n    const oldCgMemory = iso.cgMemorySize;\n    const oldCg = iso.cgroup;\n\n    iso.setEnv.MALLOC_ARENA_MAX = \"1\";\n    iso.maxProcesses = null;\n    iso.timelimit = timelimit;\n    iso.wallclockLimit = wtlimit;\n    iso.dirs.push({ in: \"/etc\" });\n    iso.dirs.push({ in: \"/usr/lib/jvm\" });\n    iso.memorySize = (1300 * 1024) + memorylimit;\n    iso.cgMemorySize = iso.memorySize;\n    iso.cgTiming = true;\n    iso.cgroup = true;\n\n    await iso.createFileFromStorage(input, test);\n    await iso.globFromStorage(\"*.class\", path.basename);\n\n    const command = [\n      \"/usr/bin/java\",\n      \"-client\",\n      `-javaagent:${javaExecutorPath}=policy:${policyPath}`,\n      \"-Xss128m\",\n      `-Xmx${memorylimit / 1024 | 0}m`,\n      \"-XX:MaxMetaspaceSize=256m\",\n      \"-XX:CompressedClassSpaceSize=64m\",\n      \"-XX:ErrorFile=submission_jvm_crash.log\",\n      \"Main\"\n    ];\n\n    // console.log(iso.getRunArgs());\n    const res = await evaluate(iso, store, command, input, output, error);\n    // console.log(fs.readFileSync(iso.resolvePath(\"output\"), \"utf8\"));\n    // console.log(fs.readFileSync(iso.resolvePath(\"error\"), \"utf8\"));\n    // console.log(fs.readFileSync(iso.resolvePath(\"run.log.0\"), \"utf8\"));\n\n    // console.log(fs.readFileSync(iso.resolvePath(\"submission_jvm_crash.log\")));\n    // console.log(fs.readFileSync(iso.resolvePath(\"state\"), \"utf8\"));\n\n    // require(\"sleep\").sleep(20);\n\n    if (await iso.fileExists(\"submission_jvm_crash.log\"))\n      throw new Error(\"JVM somehow crashed\");\n\n    if (!await iso.fileExists(\"state\"))\n      throw new Error(\"State file not found\");\n\n    await iso.removeFile(input);\n    iso.dirs.pop();\n    iso.dirs.pop();\n    iso.setEnv = oldEnv;\n    iso.maxProcesses = oldProc;\n    iso.cgTiming = oldCgTiming;\n    iso.cgMemorySize = oldCgMemory;\n    iso.cgroup = oldCg;\n\n    return res;\n  }\n};\nEvaluation.C = Evaluation.CPP;\n\nconst Checking = {\n  async CPP(iso, store, execPath,\n            input = \"input\", output = \"output\", answer = \"answer\",\n            checkerInput = null, checkerOutput = \"checker_output\", checkerError = \"checker_error\") {\n    iso.timelimit = JudgeConfig.CHECKING_TL;\n    iso.wallclockLimit = JudgeConfig.CHECKING_WTL;\n    iso.memorySize = JudgeConfig.CHECKING_ML * 1024;\n\n    await iso.createFileFromStorage(\"eval\", execPath, true);\n\n    const res = await evaluate(iso, store, [\"./eval\", input, output, answer],\n                               checkerInput, checkerOutput, checkerError);\n    await iso.removeFile(\"eval\");\n    await iso.removeFile(input);\n\n    res.stdout = await iso.getFileToString(checkerOutput);\n    res.stderr = await iso.getFileToString(checkerError);\n    return res;\n  }\n};\nChecking.C = Checking.CPP;\n\nconst Compilation = {\n  async CPP(iso, store, file, execPath) {\n    const sourceFile = \"source.cpp\";\n    await iso.createFileFromStorage(sourceFile, file);\n\n    const oldEnv = iso.preserveEnv;\n    const oldProc = iso.maxProcesses;\n    const oldTL = iso.timelimit;\n    const oldWTL = iso.wallclockLimit;\n    iso.preserveEnv = true;\n    iso.maxProcesses = null;\n    iso.dirs.push({ in: \"/etc\" });\n    iso.timelimit = JudgeConfig.COMPILATION_TL;\n    iso.wallclockLimit = JudgeConfig.COMPILATION_TL;\n\n    const res = await evaluate(iso, store, [\"/usr/bin/g++\", \"-static\", \"-lm\", \"-std=c++11\",\n                                            sourceFile, \"-O2\"]);\n\n    iso.maxProcesses = oldProc;\n    iso.preserveEnv = oldEnv;\n    iso.timelimit = oldTL;\n    iso.wallclockLimit = oldWTL;\n    iso.dirs.pop();\n\n    await iso.removeFile(sourceFile);\n\n    if (res.code === 0 && execPath) {\n      await iso.getFileToStorage(\"a.out\", execPath);\n      await iso.removeFile(\"a.out\");\n    }\n\n    res.stdout = await iso.getFileToString(\"output\");\n    res.stderr = await iso.getFileToString(\"error\");\n    await iso.removeFile(\"output\");\n    await iso.removeFile(\"error\");\n    return res;\n  },\n  async C(iso, store, file, execPath) {\n    const sourceFile = \"source.c\";\n    await iso.createFileFromStorage(sourceFile, file);\n\n    const oldEnv = iso.preserveEnv;\n    const oldProc = iso.maxProcesses;\n    const oldTL = iso.timelimit;\n    const oldWTL = iso.wallclockLimit;\n    iso.preserveEnv = true;\n    iso.maxProcesses = null;\n    iso.dirs.push({ in: \"/etc\" });\n    iso.timelimit = JudgeConfig.COMPILATION_TL;\n    iso.wallclockLimit = JudgeConfig.COMPILATION_TL;\n\n    const res = await evaluate(iso, store, [\"/usr/bin/gcc\", \"-static\", \"-lm\", \"-std=c11\",\n                                            sourceFile, \"-O2\"]);\n\n\n    iso.maxProcesses = oldProc;\n    iso.preserveEnv = oldEnv;\n    iso.timelimit = oldTL;\n    iso.wallclockLimit = oldWTL;\n    iso.dirs.pop();\n\n    await iso.removeFile(sourceFile);\n\n    if (res.code === 0 && execPath) {\n      await iso.getFileToStorage(\"a.out\", execPath);\n      await iso.removeFile(\"a.out\");\n    }\n\n    res.stdout = await iso.getFileToString(\"output\");\n    await iso.removeFile(\"output\");\n    return res;\n  },\n  async Java(iso, store, file) {\n    const sourceFile = \"Main.java\";\n    await iso.createFileFromStorage(sourceFile, file);\n\n    const oldEnv = iso.preserveEnv;\n    const oldProc = iso.maxProcesses;\n    const oldTL = iso.timelimit;\n    const oldWTL = iso.wallclockLimit;\n    iso.preserveEnv = true;\n    iso.maxProcesses = null;\n    iso.dirs.push({ in: \"/etc\" });\n    iso.dirs.push({ in: \"/usr/lib/jvm\" });\n    iso.timelimit = JudgeConfig.COMPILATION_TL;\n    iso.wallclockLimit = JudgeConfig.COMPILATION_TL;\n\n    const res = await evaluate(iso, store,\n                               [\"/usr/bin/javac\", \"-Xlint\", \"-encoding\", \"UTF-8\", sourceFile]);\n\n    iso.maxProcesses = oldProc;\n    iso.preserveEnv = oldEnv;\n    iso.timelimit = oldTL;\n    iso.wallclockLimit = oldWTL;\n    iso.dirs.pop();\n    iso.dirs.pop();\n\n    await iso.removeFile(sourceFile);\n\n    if (res.code === 0)\n      await iso.globToStorage(\"*.class\", path.basename);\n\n\n    res.stdout = await iso.getFileToString(\"output\");\n    res.stderr = await iso.getFileToString(\"error\");\n    await iso.removeFile(\"output\");\n    await iso.removeFile(\"error\");\n    return res;\n  },\n  async Py2(iso, store, file, execPath) {\n    const sourceFile = \"sol.py\";\n    await iso.createFileFromStorage(sourceFile, file);\n\n    const oldEnv = iso.preserveEnv;\n    const oldProc = iso.maxProcesses;\n    const oldTL = iso.timelimit;\n    const oldWTL = iso.wallclockLimit;\n    iso.preserveEnv = true;\n    iso.maxProcesses = null;\n    iso.dirs.push({ in: \"/etc\" });\n    iso.dirs.push({ in: \"/usr\" });\n    iso.timelimit = JudgeConfig.COMPILATION_TL;\n    iso.wallclockLimit = JudgeConfig.COMPILATION_TL;\n\n    const res = await evaluate(iso, store, [\"/usr/bin/python2\", \"-m\", \"py_compile\",\n                                            sourceFile]);\n\n    iso.maxProcesses = oldProc;\n    iso.preserveEnv = oldEnv;\n    iso.timelimit = oldTL;\n    iso.wallclockLimit = oldWTL;\n    iso.dirs.pop();\n    iso.dirs.pop();\n\n    await iso.removeFile(sourceFile);\n\n    if (res.code === 0 && execPath)\n      await iso.globToStorage(\"**/*.pyc\", _ => \"sol.pyc\");\n\n    res.stdout = await iso.getFileToString(\"output\");\n    res.stderr = await iso.getFileToString(\"error\");\n    await iso.removeFile(\"output\");\n    await iso.removeFile(\"error\");\n    return res;\n  },\n  async Py3(iso, store, file, execPath) {\n    const sourceFile = \"sol.py\";\n    await iso.createFileFromStorage(sourceFile, file);\n\n    const oldEnv = iso.preserveEnv;\n    const oldProc = iso.maxProcesses;\n    const oldTL = iso.timelimit;\n    const oldWTL = iso.wallclockLimit;\n    iso.preserveEnv = true;\n    iso.maxProcesses = null;\n    iso.dirs.push({ in: \"/etc\" });\n    iso.dirs.push({ in: \"/usr\" });\n    iso.timelimit = JudgeConfig.COMPILATION_TL;\n    iso.wallclockLimit = JudgeConfig.COMPILATION_TL;\n\n    const res = await evaluate(iso, store, [\"/usr/bin/python3\", \"-m\", \"py_compile\",\n                                            sourceFile]);\n\n    iso.maxProcesses = oldProc;\n    iso.preserveEnv = oldEnv;\n    iso.timelimit = oldTL;\n    iso.wallclockLimit = oldWTL;\n    iso.dirs.pop();\n    iso.dirs.pop();\n\n    await iso.removeFile(sourceFile);\n\n    if (res.code === 0 && execPath)\n      await iso.globToStorage(\"**/*.pyc\", _ => \"sol.pyc\");\n\n\n    res.stdout = await iso.getFileToString(\"output\");\n    res.stderr = await iso.getFileToString(\"error\");\n    await iso.removeFile(\"output\");\n    await iso.removeFile(\"error\");\n    return res;\n  }\n};\n\n/* Path constants to be used in the grading steps */\nconst SOURCE_PATH = \"_/sol\";\nconst SOURCE_EXEC_PATH = \"_/sol_exec\";\nconst CHECKER_PATH = \"_/checker\";\nconst CHECKER_EXEC_PATH = \"_/checker_exec\";\n\n/**\n*   Compile the solution\n*   @param {JudgeEnvironment}\n*   @param {Storage}\n*   @param {string} solution language\n*   @param {string} path of the solution code in the storage\n*   @param {string} path of the resulting executable file in the storage\n*   @retuns {Object} compilation output/verdict (Isolate.execute() result\n*     + Isolate.getLog() result)\n */\nasync function compilationStepAsync(env, store, lang, sol = SOURCE_PATH,\n                                    solExec = SOURCE_EXEC_PATH) {\n  const iso = new Isolate(env, store);\n  try {\n    await iso.init();\n    const result = await Compilation[lang](iso, store, sol, solExec);\n\n    // get log\n    result.log = await iso.getLog();\n\n    // cleanup\n    try {\n      await iso.cleanup();\n    } catch (e) {\n      console.error(e);\n    }\n\n    return result;\n  } catch (e) {\n    logger.error(\"compilation step failed - %s\", e.toString());\n    try {\n      await iso.cleanup();\n    } catch (e2) {\n      console.error(e2);\n    }\n\n    throw { code: 2 };\n  }\n}\n\n/*\n*   Promisified testCase\n */\n// eslint-disable-next-line require-await\nasync function testCaseAsync(env, store, iso, task, lang, dataset, testcase) {\n  return new Promise(async (resolve) => {\n    logger.debug(`running on testcase ${testcase.in}`);\n\n    // to seconds\n    const timelimit = task.getTimelimit();\n\n    // to KB\n    const memorylimit = task.getMemorylimit() * 1024;\n\n    let evaluationResult = {};\n    let checkingResult = {};\n    let execTime;\n    const exitWith = v => resolve(v);\n\n    let execLog = {};\n    // grading step\n    try {\n      await iso.init();\n      evaluationResult = await Evaluation[lang](iso, store, SOURCE_EXEC_PATH,\n                                                testcase.in, timelimit,\n                                                timelimit * JudgeConfig.WT_MULTIPLIER, memorylimit);\n\n      evaluationResult.log = await iso.getLog();\n      execLog = evaluationResult.log;\n\n      // sandbox crashed\n      if (!Isolate.translateBoxExitCode(evaluationResult.code)) {\n        console.log(\"sandbox crashed in evaluation step\");\n        console.log(evaluationResult);\n        return exitWith(new Verdict(0, \"VERDICT_JE\"));\n      }\n\n      const dummy = new Isolate(env, store, evaluationResult.log);\n      execTime = dummy.getRunningTime();\n\n      // execution failed, do something and return\n      if (evaluationResult.code === 1) {\n        const exitStatus = dummy.getExitStatus();\n        const exitCode = dummy.getExitCode();\n\n        if (exitStatus === IsolateConst.EXIT_TIMEOUT)\n          return exitWith(new Verdict(0, \"VERDICT_TLE\", -1, { time: timelimit }));\n        else if (exitStatus === IsolateConst.EXIT_TIMEOUT_WALL)\n          return exitWith(new Verdict(0, \"VERDICT_WTE\", -1, { time: execTime }));\n        else if (exitStatus === IsolateConst.EXIT_OUTPUT_LIMIT)\n          return exitWith(new Verdict(0, \"VERDICT_OLE\", -1, { time: execTime }));\n\n\n        // TODO: add sandbox information about RTE\n        return exitWith(new Verdict(0, \"VERDICT_RTE\", -1, {\n          text: `exited with code ${exitCode}`,\n          time: execTime\n        }));\n      }\n    } catch (e) {\n      logger.error(\"execution step failed - %s\", e.toString());\n      return exitWith(new Verdict(0, \"VERDICT_JE\"));\n    }\n\n    try {\n      // recreate file to avoid input modification when checking\n      await iso.createFileFromStorage(\"input\", testcase.in);\n      await iso.createFileFromStorage(\"answer\", testcase.out);\n\n      checkingResult = await Checking[task.getCheckerLanguage()](iso, store,\n                                                                 CHECKER_EXEC_PATH);\n      checkingResult.log = await iso.getLog();\n\n      if (!Isolate.translateBoxExitCode(checkingResult.code)) {\n        console.log(\"error in checking step right after grading\");\n        console.log(checkingResult);\n        return exitWith(new Verdict(0, \"VERDICT_JE\"));\n      }\n\n      iso.log = execLog;\n      const output = checkingResult.stderr;\n\n      if (checkingResult.code === 1) {\n        const dummy = new Isolate(env, store, checkingResult.log);\n        const exitStatus = dummy.getExitStatus();\n        const exitCode = dummy.getExitCode();\n\n        if (exitStatus === IsolateConst.EXIT_TIMEOUT\n          || exitStatus === IsolateConst.EXIT_TIMEOUT_WALL)\n          return exitWith(new Verdict(0, \"VERDICT_CHTE\"));\n\n\n        if (exitCode === 1 || exitCode === 2)\n          return exitWith(new Verdict(0, \"VERDICT_WA\", 0, { text: output, time: execTime }));\n\n        return exitWith(new Verdict(0, \"VERDICT_FAIL\", 0, { text: output, time: execTime }));\n      }\n\n      return exitWith(new Verdict(1, \"VERDICT_AC\", 0, { text: output, time: execTime }));\n    } catch (e) {\n      logger.error(\"checker step failed - %s\", e.toString());\n      console.log(e);\n      return exitWith(new Verdict(0, \"VERDICT_JE\"));\n    }\n  });\n}\n\n/**\n*   Test to-be-executed solution against testcases of the given dataset\n*   Files expected to be created beforehand are: _/checker_exec, _/sol_exec\n*   @param {JudgeEnvironment}\n*   @param {Storage}\n*   @param {Task}   task\n*   @param {string} language of the to-be-executed solution\n*   @param {Object} dataset\n */\nasync function testDataset(env, store, task, lang, dataset) {\n  let execTime = -1;\n  try {\n    const n = dataset.testcases.length;\n    let totalTime = 0;\n    let wallTime = 0;\n\n    for (let i = 0; i < n; i += JudgeConfig.MAX_SIMUL_TESTS) {\n      const cases = [];\n      const boxes = [];\n      for (let j = 0; j < JudgeConfig.MAX_SIMUL_TESTS && i + j < n; j++) {\n        const iso = new Isolate(env, store);\n        boxes.push(iso);\n        cases.push(testCaseAsync(env, store, iso, task, lang,\n                                 dataset, dataset.testcases[i + j]));\n      }\n\n      // eslint-disable-next-line no-await-in-loop\n      const res = await Promise.all(cases.map(promiseReflect));\n      for (let j = 0; j < JudgeConfig.MAX_SIMUL_TESTS && i + j < n; j++) {\n        const { status } = res[j];\n\n        if (status === \"rejected\")\n          throw res[j].error;\n\n        const caseResult = res[j].data;\n        totalTime += boxes[j].getRunningTime();\n        wallTime += boxes[j].getWallTime();\n        if (caseResult.info.hasOwnProperty(\"time\"))\n          execTime = Math.max(execTime, caseResult.info.time);\n\n        if (caseResult.verdict !== \"VERDICT_AC\") {\n          caseResult.passed = i + j;\n          if (execTime >= 0)\n            caseResult.info.time = execTime;\n          return caseResult;\n        }\n      }\n\n      // eslint-disable-next-line require-await, no-await-in-loop\n      await Promise.all(boxes.map(async box => box.cleanup()));\n    }\n\n    console.log(\"rt\", totalTime);\n    console.log(\"wt\", wallTime);\n  } catch (e) {\n    logger.error(\"dataset test failed - %s\", e.toString());\n    return new Verdict(0, \"VERDICT_JE\");\n  }\n\n  return new Verdict(1, \"VERDICT_AC\", dataset.testcases.length, { time: execTime });\n}\n\n/**\n*   Test code against testcases of the given task, in the given language.\n*   Created files in storage are: _/checker_exec, _/sol_exec\n*\n*   @param {JudgeEnvironment}\n*   @param {Task}\n*   @param {Storage}\n*   @param {string} the submitted code\n*   @param {string} language of the submitted code\n*   @returns {Verdict} evalution output/verdict\n */\nasync function testTask(env, task, store, code, lang) {\n  // create solution source in the storage\n  await store.createFileFromContent(SOURCE_PATH, code);\n\n  // compile solution\n  const [compilationResult, checkerCompilationResult]\n        = await Promise.all([compilationStepAsync(env, store, lang),\n                             compilationStepAsync(env, store, task.getCheckerLanguage(),\n                                                  task.getChecker(), CHECKER_EXEC_PATH)]);\n\n\n    // sandbox crashed\n  if (!Isolate.translateBoxExitCode(compilationResult.code)) {\n    console.log(\"sandbox crashed in compilation step\");\n    console.log(compilationResult);\n    return utils.fillUpTo([new Verdict(0, \"VERDICT_JE\")], task.getDatasetsCount());\n  }\n\n  // compilation failed\n  if (compilationResult.code === 1) {\n    const dummy = new Isolate(env, null, compilationResult.log);\n    const exitStatus = dummy.getExitStatus();\n    const output = compilationResult.stderr;\n\n    if (exitStatus === IsolateConst.EXIT_TIMEOUT || exitStatus === IsolateConst.EXIT_TIMEOUT_WALL)\n      return utils.fillUpTo([new Verdict(0, \"VERDICT_CTE\")], task.getDatasetsCount());\n\n    return utils.fillUpTo([new Verdict(0, \"VERDICT_CE\", -1, output)], task.getDatasetsCount());\n  }\n\n  // sandbox crashed\n  if (!Isolate.translateBoxExitCode(checkerCompilationResult.code)) {\n    console.log(\"sandbox crashed in checker compilation step\");\n    console.log(checkerCompilationResult);\n    return utils.fillUpTo([new Verdict(0, \"VERDICT_JE\")], task.getDatasetsCount());\n  }\n\n  // checker compilation failed, do something and return\n  if (checkerCompilationResult.code === 1) {\n    const dummy = new Isolate(env, null, compilationResult.log);\n    const exitStatus = dummy.getExitStatus();\n    const exitCode = dummy.getExitCode();\n    const output = compilationResult.stderr;\n\n    logger.error(\"checker compilation failed with error %s (%d):\\n%s\",\n                 exitStatus, exitCode, output);\n\n    return utils.fillUpTo([new Verdict(0, \"VERDICT_JE\")], task.getDatasetsCount());\n  }\n\n  // now run solution against each of the datasets in ladder fashion\n  const verdicts = [];\n  for (const dataset of task.getDatasets()) {\n    // eslint-disable-next-line no-await-in-loop\n    const datasetVerdict = await testDataset(env, store, task, lang, dataset);\n    verdicts.push(datasetVerdict);\n\n    // if it was not accepted, break here (ladder effect)\n    if (datasetVerdict.verdict !== \"VERDICT_AC\")\n      break;\n  }\n\n  // push skip verdict to enforce ladder effect\n  verdicts.push(new Verdict(0, \"VERDICT_SKIP\"));\n  return utils.fillUpTo(verdicts, task.getDatasetsCount());\n}\n\n/**\n * Test solution against package test cases\n * @param env\n * @param pack\n * @param code\n * @param lang\n */\nasync function testPackage(env, pack, code, lang) {\n  const store = new Storage();\n  await store.loadZip(pack);\n\n  const Loader = await loader.autoDetect(store);\n  if (Loader === null)\n    throw new Error(\"Package is not loadable\");\n\n  const task = await new Loader(store).load();\n\n  const datasets = task.getDatasets();\n  const verdicts = await testTask(env, task, store, code, lang);\n\n  const res = {};\n  for (let i = 0; i < datasets.length; i++)\n    res[datasets[i].name] = verdicts[i];\n\n\n  return res;\n}\n\n// testing\nif (!module.parent && false) {\n  (async () => {\n    const env = new JudgeEnvironment();\n    const store = new Storage();\n    await store.loadZip(\"test/test_contest.zip\");\n\n    const judeLoader = new JudeLoader(store);\n    const task = await judeLoader.load();\n\n    /* eslint-disable */\n    const code = \"\\#include \\<bits/stdc++.h>\\nusing namespace std;\\nint main(){int x, y; cin >> x >> y; cout << x+y << ' ' << x*y << endl;}\";\n    const slow_code = \"\\#include \\<bits/stdc++.h>\\nusing namespace std;\\nint main(){for(int i = 0; i < 1000000/2; i++) cerr << 129312 << '\\\\n'; int x, y; cin >> x >> y; cout << x+y << ' ' << x*y << endl;}\";\n    const tle_code = \"\\#include \\<bits/stdc++.h>\\nusing namespace std;\\nint main(){for(int i = 0; i < 1000000000000LL; i++);}\";\n    const fake_mle_code = \"\\#include \\<bits/stdc++.h>\\nusing namespace std;\\nint main(){vector<int> v(1000000000);}\";\n    const slow2_code = \"\\#include \\<bits/stdc++.h>\\nusing namespace std;\\nint main(){int acc = 0; for(int i = 0; i < 1000000000; i++) acc += i; cout << acc << endl;}\";\n        // console.log(code)\n        // utils.logInspect(testTask(env, task, store, slow_code, \"CPP\"))\n\n    const java_wacode = `\n        public class Main {\n            public static void main(String[] args) {\n                System.out.println(\"Hello!\");\n            }\n        }`;\n\n    const java_mlecode = `\n        public class Main {\n            public static void main(String[] args) {\n                long a[] = new long[1024*1024*21];\n                for(int i = 0; i < 1024*1024*21; i++) a[i] = i;\n                System.out.println(\"Hello!\");\n            }\n        }`;\n    \n    const java_rtecode = `import java.util.*;\n \npublic class Main\n{\n\tpublic static void main (String[] args)\n\t{\n\t\tint n;\n\t\tScanner in = new Scanner(System.in);\n\t\tn = in.nextInt();\n\t\tif (n % 100 >= 65) \n\t\t\tn = 100 * (n / 100 + 1);\n\t\tif (n % 20 > 15) \n\t\t\tn = 20 * (n / 20 + 1);\n\t\tSystem.out.println((n / 100) * 100 + (n % 100 / 20) * 30 + 2 * (n % 20));\n\t}\n}`;\n\n    const crazy_code = `import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\nimport java.io.IOException;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) {\n        TaskG solver = new TaskG();\n        solver.solve();\n    }\n\n    static class TaskG {\n        static final long MODULO = (long) (1e9 + 7);\n\n        public void solve() {\n        \tSystem.out.println(5);\n        }\n\n        private int gcd(int a, int b) {\n            while (b > 0) {\n                int t = a % b;\n                a = b;\n                b = t;\n            }\n            return a;\n        }\n    }\n}`;\n\n    const pycode = \"print '5'\";\n\n    utils.logInspect(await testTask(env, task, store, java_rtecode, \"Java\"));\n\n        //\n        // let env = new JudgeEnvironment()\n        // let store = new Storage()\n        // store.load(\"test_contest/\")\n        //\n        // let iso = new Isolate(env, store)\n        // iso.init()\n        //\n        // Compilation.CPP(iso, store, \"checker.cpp\", \"_/checker\")\n        // console.log(iso.getLog())\n        // Compilation.CPP(iso, store, \"sol.cpp\", \"_/sol\")\n        // console.log(iso.getLog())\n        //\n        // iso.cleanup()\n        //\n        // iso = new Isolate(env, store)\n        // iso.init()\n        //\n        // Evaluation.CPP(iso, store, \"_/sol\", \"tests/set1/3.in\")\n        //\n        // iso.createFileFromStorage(\"input\", \"tests/set1/3.in\")\n        // iso.createFileFromStorage(\"answer\", \"tests/set1/3.out\")\n        // iso.createFileFromStorage(\"checker\", \"_/checker\", true)\n        //\n        // console.log(evaluate(iso, store, [\n        //     \"./checker\", \"input\", \"output\", \"answer\"\n        // ], null, \"checker_output\", \"checker_error\"))\n        //\n        // console.log(iso.getLog())\n        // console.log(iso.getFileToString(\"checker_output\"))\n        //\n        // //sleep(10)\n        //\n        // iso.cleanup()\n  })();\n}\n\n/* eslint-enable */\nconst availableLanguages = {\n  CPP: \"C++ 11\",\n  C: \"C 11\",\n  Java: \"Java 8\",\n  Py2: \"Python 2\",\n  Py3: \"Python 3\"\n};\n\nmodule.exports = { testTask, testPackage, availableLanguages };\n\n\n\n// WEBPACK FOOTER //\n// ./judge/grader.js","module.exports = require(\"promise-reflect\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"promise-reflect\"\n// module id = 71\n// module chunks = 0","const VerdictConst = {\n  \"\": \"won't be judged\",\n  VERDICT_INQ: \"in queue\",\n  VERDICT_SKIP: \"skipped\",\n\n  VERDICT_WA: \"wrong answer\",\n  VERDICT_RTE: \"runtime error\",\n  VERDICT_MLE: \"memory limit exceeded\",\n  VERDICT_TLE: \"time limit exceeded\",\n  VERDICT_WTE: \"walltime limit exceeded\",\n  VERDICT_OLE: \"output limit exceeded\",\n\n  VERDICT_CE: \"compilation error\",\n  VERDICT_CTE: \"compilation timed out\",\n\n  VERDICT_FAIL: \"checker failed\",\n  VERDICT_CHTE: \"checker timed out\",\n\n  VERDICT_JE: \"judge crashed\",\n  VERDICT_UE: \"unknown error\",\n\n  VERDICT_AC: \"accepted\"\n};\n\nclass Verdict {\n  constructor(score, verdict, passed = -1, info = {}) {\n    this.score = score || 0;\n    this.verdict = verdict;\n    this.passed = passed;\n    this.info = {};\n    if (typeof info === \"string\")\n      Object.assign(this.info, { text: info });\n    else\n      Object.assign(this.info, info || {});\n  }\n\n  wasExecuted() {\n    return this.passed >= 0;\n  }\n\n  getTextInfo() {\n    return this.info.text || \"\";\n  }\n\n  getVerdictCode() {\n    return this.verdict;\n  }\n\n  getVerdictText() {\n    return VerdictConst.hasOwnProperty(this.verdict)\n      ? VerdictConst[this.verdict]\n      : this.verdict;\n  }\n\n  getScore() {\n    return this.score;\n  }\n\n  getPassed() {\n    return Math.max(0, this.passed);\n  }\n\n  toJSON() {\n    return {\n      score: this.score,\n      verdict: this.verdict,\n      passed: this.passed,\n      info: this.info\n    };\n  }\n\n  static fromJSON(json) {\n    return new Verdict(json.score || 0, json.verdict, json.passed || -1, json.info || {});\n  }\n}\n\nmodule.exports = {\n  Verdict,\n  VerdictConst\n}\n;\n\n\n\n// WEBPACK FOOTER //\n// ./judge/verdict.js","/**\n * Created by rsalesc on 15/06/16.\n */\nconst Promise = require(\"bluebird\");\n\nconst fs = require(\"fs-extra\");\n\nconst path = require(\"path\");\nconst logger = require(\"./logger\");\nconst jenv = require(\"./environment\");\nconst utils = require(\"./utils\");\nconst { globAsync } = utils;\n\nconst Storage = require(\"./storage\").MemoryStorage;\nconst { JudgeConfig } = jenv;\nconst spawnDetachedPromise = require(\"child-process-promise\").spawn;\n\n/*\n*   spawnDetached async version (promisified)\n *\nfunction spawnDetachedAsync(command, args=[], options={}){\n    return new Promise((resolve, reject) => {\n        options.stdio = ['ignore']\n        options.detached = true;\n        let successfulExitCodes = (options && options.successfulExitCodes) || [0];\n\n        let proc = spawn(command, args, options)\n        proc.unref();\n\n        proc.on(\"close\", (code) => {\n            if(successfulExitCodes.indexOf(code) === -1) {\n                let commandStr = command + (args.length ? (' ' + args.join(' ')) : '');\n                let err = {\n                    code,\n                    message: '`' + commandStr + '` failed with code ' + code,\n                    toString(){\n                        return this.message\n                    }\n                }\n\n                reject(err)\n            } else {\n                resolve({code})\n            }\n        })\n\n        proc.on(\"error\", reject)\n    })\n}*/\n\n// debug\nfunction spawnDetachedAsync(command, args = [], options = {}) {\n  if (options.hasOwnProperty(\"stdio\")) {\n    options.capture = options.stdio;\n    delete options.stdio;\n  }\n  return spawnDetachedPromise(command, args, options);\n}\n\n/*\n* This is the base class for sandboxes\n* All sandboxes should be extended from this\n* Make sure it runs inside an async environment\n* @abstract\n */\nclass Sandbox {\n  /*\n    * @param {Storage} storage which will provide quick interaction (in-memory)\n    *           between host FS and sandbox FS\n    * @param {JudgeEnvironment} judge environment used by the sandbox\n     */\n  constructor(env, store) {\n    if (new.target === Sandbox)\n      throw `Cannot instantiate abstract class ${this.constructor.name}`;\n    this.cacher = store;\n    this.env = env;\n  }\n\n  setStorage(store) {\n    this.cacher = store;\n  }\n\n  setEnvironment(env) {\n    this.env = env;\n  }\n\n  getRootPath() {\n    throw \"Concrete sandboxes must implement this function\";\n  }\n\n  getRunningTime() {\n    throw \"Concrete sandboxes must implement this function\";\n  }\n\n  getMemoryUsage() {\n    throw \"Concrete sandboxes must implement this function\";\n  }\n\n  getExitCode() {\n    throw \"Concrete sandboxes must implement this function\";\n  }\n\n  /*\n    * @param {string} path in sandbox (relative to its bound directory)\n    * @returns {string} absolute path in host\n    **/\n  resolvePath(p) {\n    return path.join(this.getRootPath(), p);\n  }\n\n  _getMode(exec) {\n    if (exec === true)\n      return 0o777;\n    else if (exec === false)\n      return 0o664;\n    return exec;\n  }\n\n  /*\n    *   Open a new file in sandbox\n    *   @param {string} path in sandbox\n    *   @param {string} flags to fs.open\n    *   @param {boolean|integer} [exec=false] is the new file executable, or octal mode\n    *   @returns {number} file descriptor\n     */\n  async openFile(p, flags = \"wx+\", exec = false) {\n    const absPath = this.resolvePath(p);\n    try {\n      const fd = await fs.open(absPath, flags, this._getMode(exec));\n      return fd;\n    } catch (e) {\n      logger.error(\"Sandbox %s could not open file %s\", this.constructor.name, p);\n      throw e;\n    }\n  }\n\n  /*\n    * Create a new file in sandbox and close it\n    * @param {string} path in sandbox\n    * @param {boolean|integer} [exec=false] is the new file executable, or octal mode\n     */\n  async createFile(p, exec = false) {\n    const absPath = this.resolvePath(p);\n    try {\n      const fd = await fs.open(absPath, \"wx+\");\n      await fs.chmod(absPath, this._getMode(exec));\n      await fs.close(fd);\n    } catch (e) {\n      logger.error(\"Sandbox %s could not create file %s\", this.constructor.name, p);\n      throw e;\n    }\n  }\n\n  /*\n    * Same as {Sandbox#createFile}, but writes file from {FileCacher}\n    * @param {string} path in sandbox\n    * @param {string} path/ID in {FileCacher}\n    * @param {boolean|integer} [exec=false] is the new file executable, or octal mode\n     */\n  async createFileFromStorage(p, d, exec = false) {\n    const absPath = this.resolvePath(p);\n    try {\n      const buf = await this.cacher.getFileBuffer(d);\n      await fs.writeFile(absPath, buf, { flag: \"wx+\" });\n      await fs.chmod(absPath, this._getMode(exec));\n    } catch (e) {\n      logger.error(\"Sandbox %s could not create file from storage\", this.constructor.name);\n      throw e;\n    }\n  }\n\n  async createFileFromString(p, content, exec = false) {\n    const absPath = this.resolvePath(p);\n    try {\n      await fs.writeFile(absPath, content, { flag: \"wx+\" });\n      await fs.chmod(absPath, this._getMode(exec));\n    } catch (e) {\n      logger.error(\"Sandbox %s could not create file from storage\", this.constructor.name);\n      throw e;\n    }\n  }\n\n  /*\n    *   Get an opened file from sandbox\n    *   @param {string} path in sandbox\n    *   @returns {number} file descriptor\n     */\n  async getFile(p) {\n    try {\n      const absPath = this.resolvePath(p);\n      const fd = await fs.open(absPath, \"r\");\n      return fd;\n    } catch (e) {\n      logger.error(\"Sandbox %s could not retrieve file %s\",\n                   this.constructor.name, p);\n      throw e;\n    }\n  }\n\n  async getFileToString(p) {\n    try {\n      const absPath = this.resolvePath(p);\n      return await fs.readFile(absPath, \"utf8\");\n    } catch (e) {\n      if (e.code === \"ENOENT\")\n        return \"\";\n      logger.error(\"Sandbox %s could not retrieve file %s\",\n                   this.constructor.name, p);\n      throw e;\n    }\n  }\n\n  /*\n    *   Get file from sandbox and read it into {FileCacher} storage\n    *   @param {string} path in sandbox\n    *   @param {string} path/ID in {FileCacher} storage\n     */\n  async getFileToStorage(p, d) {\n    try {\n      const absPath = this.resolvePath(p);\n      await this.cacher.createFileFromContent(d, await fs.readFile(absPath));\n    } catch (e) {\n      logger.error(\"Sandbox %s could not retrieve file %s to storage\",\n                   this.constructor.name, p);\n    }\n  }\n\n  async globToStorage(pattern, fun) {\n    try {\n      const files = await globAsync(pattern, { cwd: this.getRootPath(), absolute: true });\n      await Promise.all(files.map(async (file) => {\n        this.cacher.createFileFromContent(fun(file), await fs.readFile(file));\n      }));\n    } catch (ex) {\n      console.log(ex);\n      logger.error(\"Sandbox could not save class files\");\n    }\n  }\n\n  async globFromStorage(pattern, fun) {\n    const matches = await this.cacher.glob(pattern);\n    await Promise.all(matches.map(async (match) => {\n      await this.createFileFromStorage(fun(match), match);\n    }));\n  }\n\n  async getFileStats(p) {\n    const res = await fs.stat(this.resolvePath(p));\n    return res;\n  }\n\n  async chmod(p, mode = 0o664) {\n    await fs.chmod(this.resolvePath(p), mode);\n  }\n\n  async pathExists(p) {\n    try {\n      await this.getFileStats(p);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  async fileExists(p) {\n    try {\n      const res = await this.getFileStats(p);\n      return res.isFile();\n    } catch (e) {\n      console.log(e);\n      return false;\n    }\n  }\n\n  async dirExists(p) {\n    try {\n      const res = await this.getFileStats(p);\n      return res.isDirectory();\n    } catch (e) {\n      return false;\n    }\n  }\n\n  async removeDir(p) {\n    try {\n      await fs.rmdir(this.resolvePath(p));\n    } catch (e) {\n      if (e.code !== \"ENOENT\")\n        throw e;\n    }\n  }\n\n  async removeFile(p) {\n    try {\n      await fs.unlink(this.resolvePath(p));\n    } catch (e) {\n      if (e.code !== \"ENOENT\")\n        throw e;\n    }\n  }\n}\n\nconst IsolateConst = {\n  EXIT_SANDBOX_ERROR: \"sandbox error\",\n  EXIT_OK: \"ok\",\n  EXIT_SIGNAL: \"signal\",\n  EXIT_TIMEOUT: \"timeout\",\n  EXIT_TIMEOUT_WALL: \"wall timeout\",\n  EXIT_FILE_ACCESS: \"file access\",\n  EXIT_SYSCALL: \"syscall\",\n  EXIT_OUTPUT_LIMIT: \"output limit exceeded\",\n  EXIT_NONZERO_RETURN: \"nonzero return\"\n};\n\nclass Isolate extends Sandbox {\n  constructor(env, store, log = {}) {\n    super(env, store);\n    this.log = log;\n    this.path = null;\n    this.initialized = false;\n  }\n\n  getRootPath() {\n    if (!this.path)\n      throw \"sandbox was not init'd\";\n    return this.path;\n  }\n\n  getChdirPath(p) {\n    return path.join(this.innerDir, p);\n  }\n\n  setDefaultConfigs() {\n    this.cgroup = true;\n    this.chdir = this.innerDir;\n    this.dirs = [\n      { in: this.innerDir, out: this.path, opts: \"rw\" }\n    ];\n\n    this.preserveEnv = false;\n    this.inheritEnv = [];\n    this.setEnv = {};\n    this.fsize = null;\n    this.stdin = null;\n    this.stdout = null;\n    this.stderr = null;\n    this.stackSize = null;\n    this.memorySize = null;\n    this.maxProcesses = 1;\n    this.timelimit = null;\n    this.wallclockLimit = null;\n    this.extraTimelimit = null;\n    this.verbosity = 0;\n    this.bufferize = null;\n\n    this.cgMemorySize = null;\n    this.cgTiming = false;\n  }\n\n  async init() {\n    if (this.initialized) {\n      this.setDefaultConfigs();\n      await fs.emptyDir(this.path);\n      return;\n    }\n\n    this.boxId = this.env.getNextBoxId();\n    this.executable = JudgeConfig.ISOLATE_PATH;\n    this.execs = -1;\n\n    this.outerDir = await fs.mkdtemp(path.join(JudgeConfig.TEMP_DIR, \"iso-\"));\n    this.innerDir = \"/tmp\";\n\n    // have to use sum, absoluteness of tmp will mess things up\n    this.path = this.outerDir + this.innerDir;\n\n    // defaults to 0o777\n    await fs.mkdir(this.path);\n    await fs.chmod(this.path, 0o777);\n\n    logger.debug(\"Creating isolate sandbox %s (%d)\", this.path, this.boxId);\n    this.setDefaultConfigs();\n\n    const params = [];\n    if (this.cgroup)\n      params.push(\"--cg\");\n    params.push(`--box-id=${this.boxId}`);\n    params.push(\"--init\");\n\n    try {\n      await spawnDetachedAsync(this.executable, params, { stdio: [\"ignore\"]});\n      this.initialized = true;\n    } catch (e) {\n      logger.error(\"[Isolate] Sandbox could not be initialized\");\n      throw e;\n    }\n  }\n\n  getBoxFilePath(p) {\n    if (this.bufferize)\n      return this.resolvePath(p);\n    return this.getChdirPath(p);\n  }\n\n  getRunArgs() {\n    const res = [`--box-id=${this.boxId}`];\n    // remember to add meta parameter (for logging) before execing\n\n    if (this.bufferize)\n      res.push(`--bufferize=${this.bufferize}`);\n    if (this.chdir)\n      res.push(`--chdir=${this.chdir}`);\n    for (const dir of this.dirs) {\n      let s = dir.in;\n      if (dir.out)\n        s += `=${dir.out}`;\n      if (dir.opts)\n        s += `:${dir.opts}`;\n      res.push(`--dir=${s}`);\n    }\n    if (this.preserveEnv)\n      res.push(\"--full-env\");\n\n    for (const v of this.inheritEnv)\n      res.push(`--env=${v}`);\n    for (const key of Object.keys(this.setEnv))\n      res.push(`--env=${key}=${this.setEnv[key]}`);\n\n\n    if (this.fsize)\n      res.push(`--fsize=${this.fsize}`);\n    if (this.stdin)\n      res.push(`--stdin=${this.getChdirPath(this.stdin)}`);\n    if (this.stdout)\n      res.push(`--stdout=${this.getBoxFilePath(this.stdout)}`);\n    if (this.stderr)\n      res.push(`--stderr=${this.getBoxFilePath(this.stderr)}`);\n    if (this.stackSize)\n      res.push(`--stack=${this.stackSize}`);\n    if (this.memorySize)\n      res.push(`--mem=${this.memorySize}`);\n    if (this.maxProcesses)\n      res.push(`--processes=${this.maxProcesses}`);\n    else\n      res.push(\"--processes\");\n\n    if (this.timelimit)\n      res.push(`--time=${this.timelimit}`);\n    if (this.wallclockLimit)\n      res.push(`--wall-time=${this.wallclockLimit}`);\n    if (this.extraTimelimit)\n      res.push(`--extra-time=${this.extraTimelimit}`);\n\n    for (let i = 0; i < this.verbose; i++)\n      res.push(\"--verbose\");\n\n    if (this.cgroup)\n      res.push(\"--cg\");\n    if (this.cgMemorySize)\n      res.push(`--cg-mem=${this.cgMemorySize}`);\n    if (this.cgTiming)\n      res.push(\"--cg-timing\");\n\n    return res;\n  }\n\n  async getLog(ex) {\n    if (this.execs < 0)\n      throw \"No execution took place in this sandbox\";\n    const exec = ex || this.execs;\n    if (exec > this.execs)\n      throw \"This execution did not take place in this sandbox\";\n\n    if (this.log && this.log.exec === exec)\n      return this.log;\n\n    const fn = `run.log.${exec}`;\n    const res = {};\n\n    try {\n      const log = await this.getFileToString(fn);\n      for (const line of log.split(/[\\r?\\n]+/g)) {\n        const [key, value] = line.split(\":\", 2);\n        if (res.key)\n          res[key].push(value);\n        else\n          res[key] = [value];\n      }\n\n      this.log = res;\n      this.log.exec = exec;\n    } catch (e) {\n      logger.error(\"Error trying to read the log file %s\", this.resolvePath(fn));\n      throw e;\n    }\n\n    return this.log;\n  }\n\n  // seconds (float)\n  getRunningTime() {\n    if (this.log.hasOwnProperty(\"time\"))\n      return parseFloat(this.log.time[0]);\n    return null;\n  }\n\n  // in kilobytes (int)\n  getMemoryUsage() {\n    if (this.log.hasOwnProperty(\"cg-mem\"))\n      return parseInt(this.log[\"cg-mem\"][0], 10);\n    return null;\n  }\n\n  getWallTime() {\n    if (this.log.hasOwnProperty(\"time-wall\"))\n      return parseFloat(this.log[\"time-wall\"][0], 10);\n    return null;\n  }\n\n  getExitCode() {\n    if (this.log.hasOwnProperty(\"exitcode\"))\n      return parseInt(this.log.exitcode[0], 10);\n    return 0;\n  }\n\n  getKillingSignal() {\n    if (this.log.hasOwnProperty(\"exitsig\"))\n      return parseInt(this.log.exitsig[0], 10);\n    return 0;\n  }\n\n  getStatusList() {\n    if (this.log.hasOwnProperty(\"status\"))\n      return this.log.status;\n    return [];\n  }\n\n  static translateBoxExitCode(code) {\n    if (code === 2)\n      return false;\n    if (code === 1 || code === 0)\n      return true;\n    throw `Unknown sandbox exitcode (${code})`;\n  }\n\n  getExitStatus() {\n    const checkWall = (message) => {\n      for (const msg of message) {\n        if (msg.indexOf(\"wall\") !== -1)\n          return true;\n      }\n      return false;\n    };\n\n    const list = this.getStatusList();\n    if (list.indexOf(\"XX\") !== -1)\n      return IsolateConst.EXIT_SANDBOX_ERROR;\n    if (list.indexOf(\"FO\") !== -1)\n      return IsolateConst.EXIT_SYSCALL;\n    if (list.indexOf(\"FA\") !== -1)\n      return IsolateConst.EXIT_FILE_ACCESS;\n    if (list.indexOf(\"TO\") !== -1) {\n      if (this.log.hasOwnProperty(\"message\") && checkWall(this.log.message))\n        return IsolateConst.EXIT_TIMEOUT_WALL;\n      return IsolateConst.EXIT_TIMEOUT;\n    }\n    if (list.indexOf(\"SG\") !== -1)\n      return IsolateConst.EXIT_SIGNAL;\n    if (list.indexOf(\"OL\") !== -1)\n      return IsolateConst.EXIT_OUTPUT_LIMIT;\n\n    if (list.indexOf(\"RE\") !== -1)\n      return IsolateConst.NONZERO_RETURN;\n    return IsolateConst.EXIT_OK;\n  }\n\n  async executeBufferized(...args) {\n    const oldVal = this.bufferize;\n    try {\n      this.bufferize = JudgeConfig.OUTPUT_LIMIT;\n      const res = await this.execute(...args);\n      this.bufferize = oldVal;\n      return res;\n    } catch (e) {\n      this.bufferize = oldVal;\n      throw e;\n    }\n  }\n\n  async execute(comm, capture = [\"ignore\"], promise = false) {\n    this.execs += 1;\n    this.log = null;\n    let args = this.getRunArgs();\n    args.push(`--meta=${this.resolvePath(`run.log.${this.execs}`)}`);\n    args.push(\"--run\");\n    args.push(\"--\");\n\n    const command = Array.isArray(comm)\n      ? comm\n      : [comm];\n    args = args.concat(command);\n\n    if (promise)\n      return spawnDetachedAsync(this.executable, args, { stdio: capture });\n\n    let res = null;\n    try {\n      res = await spawnDetachedAsync(this.executable, args, { stdio: capture });\n    } catch (e) {\n      res = e;\n    }\n\n    const ret = {\n      code: res.code,\n      message: res.message\n    };\n    for (const cap of capture) {\n      if (res.hasOwnProperty(cap))\n        ret[cap] = res[cap].toString();\n    }\n    return ret;\n  }\n\n  async cleanup() {\n    logger.debug(\"Deleting Isolate sandbox %s (%d)\", this.path, this.boxId);\n    const args = [`--box-id=${this.boxId}`];\n    if (this.cgroup)\n      args.push(\"--cg\");\n    args.push(\"--cleanup\");\n\n    try {\n      if (this.initialized)\n        await spawnDetachedAsync(this.executable, args, { stdio: [\"ignore\"]});\n      await fs.remove(this.outerDir);\n    } catch (e) {\n      logger.error(\"Isolate sandbox %s (%d) could not be deleted\", this.path, this.boxId);\n      throw e;\n    }\n  }\n}\n\nclass IsolatePool {\n  constructor(size) {\n    this.size = size;\n    this.sandboxes = [];\n    this.ptr = 0;\n    for (let i = 0; i < size; i++)\n      this.sandboxes.push(new Isolate());\n  }\n\n  getNext(env, store, log = []) {\n    const sandbox = this.sandboxes[this.ptr];\n    this.ptr += 1;\n    this.ptr %= this.size;\n    sandbox.setEnvironment(env);\n    sandbox.setStorage(store);\n    sandbox.log = log;\n    return sandbox;\n  }\n\n  cleanup() {\n    for (const sandbox of this.sandboxes)\n      sandbox.cleanup();\n  }\n}\n\nif (!module.parent && false) {\n  // eslint-disable-next-line require-await\n  (async () => {\n    console.log(\"Testing with async...\");\n    const env = new jenv.JudgeEnvironment();\n    const store = new Storage();\n\n    const iso = new Isolate(env, store);\n    await store.load(\"test_contest/\");\n\n    await iso.init();\n\n    iso.dirs.push({ in: \"/etc\" });\n\n    iso.preserveEnv = true;\n    iso.maxProcesses = null;\n    iso.timelimit = 20;\n    iso.wallclockLimit = 30;\n    console.log(iso.getRunArgs());\n\n    await iso.createFileFromStorage(\"source.cpp\", \"checker.cpp\");\n\n    try {\n      console.log(await iso.execute([\"/usr/bin/g++\", \"source.cpp\", \"-static\",\n                                     \"-std=c++11\", \"-O2\", \"-lm\"], [\"stdout\", \"stderr\"]));\n\n      await iso.getFileToStorage(\"a.out\", \"_/a.out\");\n      await iso.getLog();\n      console.log(iso.log);\n    } catch (e) {\n      logger.error(\"Could not execute a.out\");\n      console.log(e);\n    }\n\n    await iso.cleanup();\n  })();\n}\n\nmodule.exports = {\n  Sandbox,\n  Isolate,\n  IsolateConst,\n  IsolatePool\n};\n\n\n\n// WEBPACK FOOTER //\n// ./judge/sandbox.js","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 74\n// module chunks = 0","module.exports = require(\"tmp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tmp\"\n// module id = 75\n// module chunks = 0","module.exports = require(\"child-process-promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"child-process-promise\"\n// module id = 76\n// module chunks = 0","const process = require(\"process\");\n\nfunction getSeconds(tuple) {\n  return tuple[0] + (tuple[1] / 1e9);\n}\n\nclass Profiler {\n  constructor() {\n    this.start = {};\n    this.acc = {};\n  }\n\n  fire(task = \"default\") {\n    if (!this.acc.hasOwnProperty(task))\n      this.acc[task] = 0;\n    this.start[task] = process.hrtime();\n  }\n\n  reset(task = \"default\") {\n    this.acc[task] = 0;\n    this.start[task] = process.hrtime();\n  }\n\n  elapsed(task = \"default\") {\n    const started = this.start[task];\n    return this.acc[task] + (started\n        ? getSeconds(process.hrtime(started))\n        : 0);\n  }\n\n  stop(task = \"default\") {\n    this.acc[task] = this.elapsed(task);\n    this.start[task] = null;\n  }\n\n  dump(cb = console.log) {\n    for (const task of Object.keys(this.acc))\n      cb(`${task}: ${this.elapsed(task)}`);\n  }\n}\n\nmodule.exports = Profiler;\n\n\n\n// WEBPACK FOOTER //\n// ./judge/profiler.js","function noChecking(code) {\n  return code;\n}\n\nfunction javaChecking(code) {\n  const originalCode = ` ${code}`.slice(1);\n\n  const rePackage = /\\bpackage\\s+([^.;]+(?:\\.[^.;]+)*?);/gm;\n  const reClass = /\\bpublic\\s+(?:strictfp\\s+)?(?:(?:abstract|final)\\s+)?(?:strictfp\\s+)?class\\s+([_a-zA-Z$][_0-9a-zA-z$]*?)\\b/gm;\n  const reMain = /\\bpublic\\s+(?:strictfp\\s+)?(?:(?:abstract|final)\\s+)?(?:strictfp\\s+)?class\\s+Main\\b/gm;\n\n    // do not handle multichar escape sequences\n  const reString = /\"(?:\\\\[\\s\\S]|[^\"\\\\])*\"|'(?:\\\\[\\s\\S]|[^'\\\\])*'/gm;\n  const reComment = /\\/\\*[\\s\\S]*?\\*\\//gm;\n  const reInline = /\\/\\/.*?$/gm;\n  const reUnicode = /\\\\u([0-9a-fA-F]{4})/gm;\n\n  const aux = code.replace(reComment, \"\").replace(reString, \"\").replace(reInline, \"\")\n        .replace(reUnicode, \"\");\n  if (!reMain.test(aux))\n    throw new Error(\"your Java code should have a Main public class as an entry point\");\n  if (rePackage.test(aux))\n    throw new Error(\"you should not declare package in your Java code\");\n\n  return originalCode;\n}\n\nmodule.exports = {\n    CPP: noChecking,\n    C: noChecking,\n    Java: javaChecking,\n    Py2: noChecking,\n    Py3: noChecking\n};\n\n\n\n// WEBPACK FOOTER //\n// ./judge/precheck.js","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 79\n// module chunks = 0","const path = require(\"path\");\nconst mongoose = require(\"mongoose\");\nconst passport = require(\"passport\");\nconst auth2 = require(\"../auth2\");\n\nconst express = require(\"express\");\nconst router = express.Router();\n\nconst models = require(\"../models/\");\n\nconst {\n  Contest, Submission, Problem, User\n} = models;\n\n/* router.post('/login', (req, res, next) => {\n  passport.authenticate('custom', (err, user, info) => {\n    if(err) return next(err);\n    if(!user) return res.status(401).json({ error: \"unauthorized\" });\n    req.logIn(user, (err) => {\n      if(err) return next(err);\n      next();\n    });\n  })(req, res, next);\n}, (req, res, next) => {\n  req.session.save((err) => {\n    if(err){\n      return next(err);\n    }\n    res.sendStatus(200);\n  });\n});\n\nrouter.post('/logout', (req, res, next) => {\n  req.logout();\n  res.sendStatus(200);\n});\n*/\n\nrouter.post(\"/login\", auth2.authenticate(\"root\"));\nrouter.post(\"/logout\", auth2.dispose());\n\nfunction handleAdminPageError(err, req, res, next) {\n  res.status(err.status).json({ error: err.message });\n}\n\nrouter.use(auth2.possiblyAuth(\"root\"), (req, res, next) => {\n  if (!req.auth2.user)\n    return res.redirect(\"/\");\n  next();\n});\n\nrouter.get(\"/\", (req, res, next) => {\n  res.render(\"admin\");\n});\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./routes/admin.js"],"sourceRoot":""}